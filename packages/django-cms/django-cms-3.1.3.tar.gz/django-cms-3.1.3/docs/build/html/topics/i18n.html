

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Internationalisation &mdash; django cms 3.1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="django cms 3.1.0 documentation" href="../index.html"/>
        <link rel="up" title="Key topics" href="index.html"/>
        <link rel="next" title="Permissions" href="permissions.html"/>
        <link rel="prev" title="Serving content in multiple languages" href="multiple_languages.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> django cms</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/install.html">Installing django CMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/templates_placeholders.html">Templates &amp; Placeholders</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/apphooks.html">Apphooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/third_party.html">Integrating a third-party application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/toolbar.html">Extending the Toolbar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/menu.html">Extending the navigation menu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/namespaced_apphooks.html">Namespaced Apphooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/contributing.html">Contributing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../how_to/index.html">How-to guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../how_to/install.html">Installing django CMS by hand</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to/custom_plugins.html">Custom Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to/menus.html">Customising navigation menus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to/apphooks.html">Apphooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to/templates.html">Working with templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to/extending_page_title.html">Extending the page &amp; title models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to/toolbar.html">Extending the Toolbar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to/using_south.html">Using South with django CMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to/testing.html">Testing Your Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to/placeholders.html">Placeholders outside the CMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to/caching.html">Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to/frontend_models.html">Frontend editing for Page and Django models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to/sitemap.html">Sitemap Guide</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Key topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="menu_system.html">How the menu system works</a></li>
<li class="toctree-l2"><a class="reference internal" href="publishing.html">Publishing</a></li>
<li class="toctree-l2"><a class="reference internal" href="multiple_languages.html">Serving content in multiple languages</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Internationalisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="permissions.html">Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="commonly_used_plugins.html">Some commonly-used plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="searchdocs.html">Search and django CMS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/navigation.html">Navigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/api_references.html">API References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/fields.html">Form and model fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/templatetags.html">Template Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/cli.html">Command Line Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Development &amp; community</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing/development.html">Development of django CMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/contributing.html">Contributing to django CMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/management.html">Code and project management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/testing.html">Running and writing tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/code_of_conduct.html">Code of Conduct</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/index.html#branch-policy">Branch policy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade/index.html">Release notes &amp; upgrade information</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.1.1.html">3.1.1 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.1.html">3.1 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.0.14.html">3.0.14 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.0.13.html">3.0.13 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.0.12.html">3.0.12 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.0.11.html">3.0.11 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.0.10.html">3.0.10 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.0.9.html">3.0.9 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.0.8.html">3.0.8 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.0.7.html">3.0.7 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.0.6.html">3.0.6 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.0.3.html">3.0.3 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/3.0.html">3.0 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/2.4.html">2.4 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/2.3.4.html">2.3.4 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/2.3.3.html">2.3.3 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/2.3.2.html">2.3.2 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/2.3.html">2.3 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/2.2.html">2.2 release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrade/2.1.html">Upgrading from 2.1.x and Django 1.2.x</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">Using django CMS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user/tutorial/index.html">Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/reference/index.html">Reference for content editors</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">django cms</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Key topics</a> &raquo;</li>
      
    <li>Internationalisation</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/topics/i18n.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="internationalisation">
<h1>Internationalisation<a class="headerlink" href="#internationalisation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="multilingual-urls">
<h2>Multilingual URLs<a class="headerlink" href="#multilingual-urls" title="Permalink to this headline">¶</a></h2>
<p>If you use more than one language, django CMS urls, <em>including the admin URLS</em>, need to be
referenced via <a class="reference external" href="http://readthedocs.org/docs/django/en/latest/topics/i18n/translation.html#django.conf.urls.i18n.i18n_patterns" title="(in Django v1.9)"><code class="xref py py-func docutils literal"><span class="pre">i18n_patterns()</span></code></a>. For more information about this see
the official <a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/i18n/translation/#internationalization-in-url-patterns">Django documentation</a>
on the subject.</p>
<p>Here&#8217;s an example of <cite>urls.py</cite>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">include</span><span class="p">,</span> <span class="n">url</span>
<span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span> <span class="nn">django.conf.urls.i18n</span> <span class="kn">import</span> <span class="n">i18n_patterns</span>
<span class="kn">from</span> <span class="nn">django.contrib.staticfiles.urls</span> <span class="kn">import</span> <span class="n">staticfiles_urlpatterns</span>

<span class="n">admin</span><span class="o">.</span><span class="n">autodiscover</span><span class="p">()</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^jsi18n/(?P&lt;packages&gt;\S+?)/$&#39;</span><span class="p">,</span> <span class="s">&#39;django.views.i18n.javascript_catalog&#39;</span><span class="p">),</span>
<span class="p">]</span>

<span class="n">urlpatterns</span> <span class="o">+=</span> <span class="n">staticfiles_urlpatterns</span><span class="p">()</span>

<span class="c"># note the django CMS URLs included via i18n_patterns</span>
<span class="n">urlpatterns</span> <span class="o">+=</span> <span class="n">i18n_patterns</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span>
    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^admin/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">)),</span>
    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">&#39;cms.urls&#39;</span><span class="p">)),</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="language-cookie">
<h2>Language Cookie<a class="headerlink" href="#language-cookie" title="Permalink to this headline">¶</a></h2>
<p>If a user comes back to a previously visited page, the language will be same since his last visit.</p>
<p>By default if someone visits a page at <cite>http://www.mysite.fr/</cite> django determines the language as follow:</p>
<ul class="simple">
<li>language in url</li>
<li>language in session</li>
<li>language in cookie</li>
<li>language in from browser</li>
<li>LANGUAGE_CODE from settings</li>
</ul>
<p>More in-depth documentation about this is available at
<a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/i18n/translation/#how-django-discovers-language-preference">https://docs.djangoproject.com/en/dev/topics/i18n/translation/#how-django-discovers-language-preference</a></p>
<p>When visiting a page that is only English and French with a German browser, the language from LANGUAGE_CODE will be used.
If this is English, but the visitor only speaks French, the visitor will have to switch the language.
Visiting the same page now again after some time, will show it in English again, because the browser session which was
used to store the language selection doesn&#8217;t exist anymore. To prevent this issue, a middleware exists which stores the
language selection in a cookie. Add the following middleware to <cite>MIDDLEWARE_CLASSES</cite>:</p>
<blockquote>
<div><cite>cms.middleware.language.LanguageCookieMiddleware</cite></div></blockquote>
</div>
<div class="section" id="language-chooser">
<h2>Language Chooser<a class="headerlink" href="#language-chooser" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../reference/templatetags.html#std:templatetag-language_chooser"><code class="xref std std-ttag docutils literal"><span class="pre">language_chooser</span></code></a> template tag will display a language chooser for the
current page. You can modify the template in <code class="docutils literal"><span class="pre">menu/language_chooser.html</span></code> or
provide your own template if necessary.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">load</span> <span class="nv">menu_tags</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">language_chooser</span> <span class="s2">&quot;myapp/language_chooser.html&quot;</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>If you are in an apphook and have a detail view of an object you can
set an object to the toolbar in your view. The cms will call <code class="docutils literal"><span class="pre">get_absolute_url</span></code> in
the corresponding language for the language chooser:</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre>class AnswerView(DetailView):
    def get(self, *args, **kwargs):
        self.object = self.get_object()
        if hasattr(self.request, &#39;toolbar&#39;):
            self.request.toolbar.set_object(self.object)
        response = super(AnswerView, self).get(*args, **kwargs)
        return response
</pre></div>
</div>
<p>With this you can more easily control what url will be returned on the language chooser.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you have a multilingual objects be sure that you return the right url if you don&#8217;t have
a translation for this language in <code class="docutils literal"><span class="pre">get_absolute_url</span></code></p>
</div>
</div>
<div class="section" id="page-language-url">
<h2>page_language_url<a class="headerlink" href="#page-language-url" title="Permalink to this headline">¶</a></h2>
<p>This template tag returns the URL of the current page in another language.</p>
<p>Example:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">page_language_url</span> <span class="s2">&quot;de&quot;</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="hide-untranslated">
<h2>hide_untranslated<a class="headerlink" href="#hide-untranslated" title="Permalink to this headline">¶</a></h2>
<p>If you add a default directive to your <a class="reference internal" href="../reference/configuration.html#std:setting-CMS_LANGUAGES"><code class="xref std std-setting docutils literal"><span class="pre">CMS_LANGUAGES</span></code></a> with a <code class="xref std std-setting docutils literal"><span class="pre">hide_untranslated</span></code> to <code class="docutils literal"><span class="pre">False</span></code>
all pages will be displayed in all languages even if they are
not translated yet.</p>
<p>If <cite>hide_untranslated</cite>  is <code class="docutils literal"><span class="pre">True</span></code> in your <a class="reference internal" href="../reference/configuration.html#std:setting-CMS_LANGUAGES"><code class="xref std std-setting docutils literal"><span class="pre">CMS_LANGUAGES</span></code></a>
and you are on a page that doesn&#8217;t yet have an English translation and you view
the German version then the language chooser will redirect to <code class="docutils literal"><span class="pre">/</span></code>. The same
goes for urls that are not handled by the cms and display a language chooser.</p>
</div>
<div class="section" id="automated-slug-generation-unicode-characters">
<h2>Automated slug generation unicode characters<a class="headerlink" href="#automated-slug-generation-unicode-characters" title="Permalink to this headline">¶</a></h2>
<p>If your site has languages which use non-ASCII character sets, you might want
to enable <a class="reference internal" href="../reference/configuration.html#std:setting-CMS_UNIHANDECODE_HOST"><code class="xref std std-setting docutils literal"><span class="pre">CMS_UNIHANDECODE_HOST</span></code></a> and <a class="reference internal" href="../reference/configuration.html#std:setting-CMS_UNIHANDECODE_VERSION"><code class="xref std std-setting docutils literal"><span class="pre">CMS_UNIHANDECODE_VERSION</span></code></a>
to get automated slugs for those languages too.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="permissions.html" class="btn btn-neutral float-right" title="Permissions">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="multiple_languages.html" class="btn btn-neutral" title="Serving content in multiple languages"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2009-2015, Patrick Lauber.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>