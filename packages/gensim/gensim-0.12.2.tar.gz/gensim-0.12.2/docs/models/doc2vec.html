<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">




<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta property="description" content="Efficient topic modelling of text semantics in Python." />
    <meta property="og:title" content="gensim: topic modelling for humans" />
    <meta property="og:description" content="Efficient topic modelling in Python" />

    
      <title>gensim: models.doc2vec – Deep learning with paragraph2vec</title>

    
  <link rel="stylesheet" href="../_static/css/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/jquery.qtip.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/anythingslider.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-24066335-1']);
      _gaq.push(['_trackPageview']);

      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

  </head>

  <body>
    <div id="topwrap">
      
      <div id="top1">
        <div id="left1">
          <h1 class="h1gensim">
            <img src="../_static/images/logo-gensim_compact.png" alt="gensim logo" title="Gensim - topic modelling for humans" />
          </h1>
        </div>

        <div id="middleright">
          <div id="middle1">
            <div id="gensim"><a href="../index.html"><img src="../_static/images/gensim_compact.png" alt="gensim" title="Gensim home" /></a></div>
            <div id="tagline"><img src="../_static/images/tagline_compact.png" alt="gensim tagline" /></div>
          </div>
          <div id="right1">
            <div class="consulting-banner">
              <h3><a href="http://radimrehurek.com/">Get Expert Help</a></h3>
              <p>• machine learning, NLP, data mining</p>
              <p>• custom SW design, development, optimizations</p>
              <p>• tech trainings &amp; IT consulting</p>
            </div>
          </div>
        </div>
      </div>
     

      
      <div id="menu">
        <div id="indentation1">
          <ul class="menubuttons">
            <li class="menubutton"><a href="../index.html">Home</a></li>
            <li class="menubutton"><a href="../tutorial.html">Tutorials</a></li>
            <li class="menubutton"><a href="../install.html">Install</a></li>
            <li class="menubutton"><a href="../support.html">Support</a></li>
            <li class="menubutton"><a href="../apiref.html">API</a></li>
            <li class="menubutton"><a href="../about.html">About</a></li>
          </ul>
        </div>
      </div>
      

      <div class="clearer"></div>
    </div>

    
  <script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
    URL_ROOT: '../',
    VERSION: '0.12.2',
    COLLAPSE_INDEX: false,
    FILE_SUFFIX: '.html',
    HAS_SOURCE: true
  };
  </script>
    <script type="text/javascript" src="../_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery.qtip.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-migrate-1.1.1.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery.anythingslider.min.js"></script>

    
    <div class="document">
      
        <div id="thinbanner">
          <div id="bodythinbanner">
            <span class="h2gensim">models.doc2vec – Deep learning with paragraph2vec</span>
          </div>
        </div>
        <div class="obsah">
          <div class="obsahwrapper">
            
  <div class="section" id="module-gensim.models.doc2vec">
<span id="models-doc2vec-deep-learning-with-paragraph2vec"></span><h1><code class="xref py py-mod docutils literal"><span class="pre">models.doc2vec</span></code> &#8211; Deep learning with paragraph2vec<a class="headerlink" href="#module-gensim.models.doc2vec" title="Permalink to this headline">¶</a></h1>
<p>Deep learning via the distributed memory and distributed bag of words models from
<a class="footnote-reference" href="#id5" id="id1">[1]</a>, using either hierarchical softmax or negative sampling <a class="footnote-reference" href="#id6" id="id2">[2]</a> <a class="footnote-reference" href="#id7" id="id3">[3]</a>.</p>
<p><strong>Make sure you have a C compiler before installing gensim, to use optimized (compiled)
doc2vec training</strong> (70x speedup <a class="reference internal" href="#blog" id="id4">[blog]</a>).</p>
<p>Initialize a model with e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">Doc2Vec</span><span class="p">(</span><span class="n">documents</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">min_count</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Persist a model to disk with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">Doc2Vec</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>  <span class="c"># you can continue training with the loaded model!</span>
</pre></div>
</div>
<p>The model can also be instantiated from an existing file on disk in the word2vec C format:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">Doc2Vec</span><span class="o">.</span><span class="n">load_word2vec_format</span><span class="p">(</span><span class="s">&#39;/tmp/vectors.txt&#39;</span><span class="p">,</span> <span class="n">binary</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>  <span class="c"># C text format</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">Doc2Vec</span><span class="o">.</span><span class="n">load_word2vec_format</span><span class="p">(</span><span class="s">&#39;/tmp/vectors.bin&#39;</span><span class="p">,</span> <span class="n">binary</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>  <span class="c"># C binary format</span>
</pre></div>
</div>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Quoc Le and Tomas Mikolov. Distributed Representations of Sentences and Documents. <a class="reference external" href="http://arxiv.org/pdf/1405.4053v2.pdf">http://arxiv.org/pdf/1405.4053v2.pdf</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Tomas Mikolov, Kai Chen, Greg Corrado, and Jeffrey Dean. Efficient Estimation of Word Representations in Vector Space. In Proceedings of Workshop at ICLR, 2013.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td>Tomas Mikolov, Ilya Sutskever, Kai Chen, Greg Corrado, and Jeffrey Dean. Distributed Representations of Words and Phrases and their Compositionality.
In Proceedings of NIPS, 2013.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="blog" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[blog]</a></td><td>Optimizing word2vec in gensim, <a class="reference external" href="http://radimrehurek.com/2013/09/word2vec-in-python-part-two-optimizing/">http://radimrehurek.com/2013/09/word2vec-in-python-part-two-optimizing/</a></td></tr>
</tbody>
</table>
<dl class="class">
<dt id="gensim.models.doc2vec.Doc2Vec">
<em class="property">class </em><code class="descclassname">gensim.models.doc2vec.</code><code class="descname">Doc2Vec</code><span class="sig-paren">(</span><em>documents=None</em>, <em>size=300</em>, <em>alpha=0.025</em>, <em>window=8</em>, <em>min_count=5</em>, <em>max_vocab_size=None</em>, <em>sample=0</em>, <em>seed=1</em>, <em>workers=1</em>, <em>min_alpha=0.0001</em>, <em>dm=1</em>, <em>hs=1</em>, <em>negative=0</em>, <em>dbow_words=0</em>, <em>dm_mean=0</em>, <em>dm_concat=0</em>, <em>dm_tag_count=1</em>, <em>docvecs=None</em>, <em>docvecs_mapfile=None</em>, <em>comment=None</em>, <em>trim_rule=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="word2vec.html#gensim.models.word2vec.Word2Vec" title="gensim.models.word2vec.Word2Vec"><code class="xref py py-class docutils literal"><span class="pre">gensim.models.word2vec.Word2Vec</span></code></a></p>
<p>Class for training, using and evaluating neural networks described in <a class="reference external" href="http://arxiv.org/pdf/1405.4053v2.pdf">http://arxiv.org/pdf/1405.4053v2.pdf</a></p>
<p>Initialize the model from an iterable of <cite>documents</cite>. Each document is a
TaggedDocument object that will be used for training.</p>
<p>The <cite>documents</cite> iterable can be simply a list of TaggedDocument elements, but for larger corpora,
consider an iterable that streams the documents directly from disk/network.</p>
<p>If you don&#8217;t supply <cite>documents</cite>, the model is left uninitialized &#8211; use if
you plan to initialize it in some other way.</p>
<p><cite>dm</cite> defines the training algorithm. By default (<cite>dm=1</cite>), &#8216;distributed memory&#8217; (PV-DM) is used.
Otherwise, <cite>distributed bag of words</cite> (PV-DBOW) is employed.</p>
<p><cite>size</cite> is the dimensionality of the feature vectors.</p>
<p><cite>window</cite> is the maximum distance between the predicted word and context words used for prediction
within a document.</p>
<p><cite>alpha</cite> is the initial learning rate (will linearly drop to zero as training progresses).</p>
<p><cite>seed</cite> = for the random number generator. Only runs with a single worker will be
deterministically reproducible because of the ordering randomness in multi-threaded runs.</p>
<p><cite>min_count</cite> = ignore all words with total frequency lower than this.</p>
<p><cite>max_vocab_size</cite> = limit RAM during vocabulary building; if there are more unique
words than this, then prune the infrequent ones. Every 10 million word types
need about 1GB of RAM. Set to <cite>None</cite> for no limit (default).</p>
<dl class="docutils">
<dt><cite>sample</cite> = threshold for configuring which higher-frequency words are randomly downsampled;</dt>
<dd>default is 0 (off), useful value is 1e-5.</dd>
</dl>
<p><cite>workers</cite> = use this many worker threads to train the model (=faster training with multicore machines).</p>
<p><cite>hs</cite> = if 1 (default), hierarchical sampling will be used for model training (else set to 0).</p>
<p><cite>negative</cite> = if &gt; 0, negative sampling will be used, the int for negative
specifies how many &#8220;noise words&#8221; should be drawn (usually between 5-20).</p>
<p><cite>dm_mean</cite> = if 0 (default), use the sum of the context word vectors. If 1, use the mean.
Only applies when dm is used in non-concatenative mode.</p>
<p><cite>dm_concat</cite> = if 1, use concatenation of context vectors rather than sum/average;
default is 0 (off). Note concatenation results in a much-larger model, as the input
is no longer the size of one (sampled or arithmatically combined) word vector, but the
size of the tag(s) and all words in the context strung together.</p>
<p><cite>dm_tag_count</cite> = expected constant number of document tags per document, when using
dm_concat mode; default is 1.</p>
<p><cite>dbow_words</cite> if set to 1 trains word-vectors (in skip-gram fashion) simultaneous with DBOW
doc-vector training; default is 0 (faster training of doc-vectors only).</p>
<dl class="docutils">
<dt><cite>trim_rule</cite> = vocabulary trimming rule, specifies whether certain words should remain</dt>
<dd><p class="first">in the vocabulary, be trimmed away, or handled using the default (discard if word count &lt; min_count).
Can be None (min_count will be used), or a callable that accepts parameters (word, count, min_count) and
returns either util.RULE_DISCARD, util.RULE_KEEP or util.RULE_DEFAULT.
Note: The rule, if given, is only used prune vocabulary during build_vocab() and is not stored as part</p>
<blockquote class="last">
<div>of the model.</div></blockquote>
</dd>
</dl>
<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.accuracy">
<code class="descname">accuracy</code><span class="sig-paren">(</span><em>questions</em>, <em>restrict_vocab=30000</em>, <em>most_similar=&lt;function most_similar&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.accuracy" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute accuracy of the model. <cite>questions</cite> is a filename where lines are
4-tuples of words, split into sections by &#8221;: SECTION NAME&#8221; lines.
See <a class="reference external" href="https://code.google.com/p/word2vec/source/browse/trunk/questions-words.txt">https://code.google.com/p/word2vec/source/browse/trunk/questions-words.txt</a> for an example.</p>
<p>The accuracy is reported (=printed to log and returned as a list) for each
section separately, plus there&#8217;s one aggregate summary at the end.</p>
<p>Use <cite>restrict_vocab</cite> to ignore all questions containing a word whose frequency
is not in the top-N most frequent words (default top 30,000).</p>
<p>This method corresponds to the <cite>compute-accuracy</cite> script of the original C word2vec.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.build_vocab">
<code class="descname">build_vocab</code><span class="sig-paren">(</span><em>sentences</em>, <em>keep_raw_vocab=False</em>, <em>trim_rule=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.build_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>Build vocabulary from a sequence of sentences (can be a once-only generator stream).
Each sentence must be a list of unicode strings.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.clear_sims">
<code class="descname">clear_sims</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.clear_sims" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.create_binary_tree">
<code class="descname">create_binary_tree</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.create_binary_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a binary Huffman tree using stored vocabulary word counts. Frequent words
will have shorter binary codes. Called internally from <cite>build_vocab()</cite>.</p>
</dd></dl>

<dl class="attribute">
<dt id="gensim.models.doc2vec.Doc2Vec.dbow">
<code class="descname">dbow</code><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.dbow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="gensim.models.doc2vec.Doc2Vec.dm">
<code class="descname">dm</code><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.dm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.doesnt_match">
<code class="descname">doesnt_match</code><span class="sig-paren">(</span><em>words</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.doesnt_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Which word from the given list doesn&#8217;t go with the others?</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">trained_model</span><span class="o">.</span><span class="n">doesnt_match</span><span class="p">(</span><span class="s">&quot;breakfast cereal dinner lunch&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="go">&#39;cereal&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.estimate_memory">
<code class="descname">estimate_memory</code><span class="sig-paren">(</span><em>vocab_size=None</em>, <em>report=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.estimate_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate required memory for a model using current settings.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.finalize_vocab">
<code class="descname">finalize_vocab</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.finalize_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>Build tables and model weights based on final vocabulary settings.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.infer_vector">
<code class="descname">infer_vector</code><span class="sig-paren">(</span><em>doc_words</em>, <em>alpha=0.1</em>, <em>min_alpha=0.0001</em>, <em>steps=5</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.infer_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Infer a vector for given post-bulk training document.</p>
<p>Document should be a list of (word) tokens.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.init_sims">
<code class="descname">init_sims</code><span class="sig-paren">(</span><em>replace=False</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.init_sims" title="Permalink to this definition">¶</a></dt>
<dd><p>Precompute L2-normalized vectors.</p>
<p>If <cite>replace</cite> is set, forget the original vectors and only keep the normalized
ones = saves lots of memory!</p>
<p>Note that you <strong>cannot continue training</strong> after doing a replace. The model becomes
effectively read-only = you can call <cite>most_similar</cite>, <cite>similarity</cite> etc., but not <cite>train</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.intersect_word2vec_format">
<code class="descname">intersect_word2vec_format</code><span class="sig-paren">(</span><em>fname</em>, <em>binary=False</em>, <em>encoding='utf8'</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.intersect_word2vec_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge the input-hidden weight matrix from the original C word2vec-tool format
given, where it intersects with the current vocabulary. (No words are added to the
existing vocabulary, but intersecting words adopt the file&#8217;s weights, and
non-intersecting words are left alone.)</p>
<p><cite>binary</cite> is a boolean indicating whether the data is in binary word2vec format.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.load_word2vec_format">
<code class="descname">load_word2vec_format</code><span class="sig-paren">(</span><em>fname</em>, <em>fvocab=None</em>, <em>binary=False</em>, <em>norm_only=True</em>, <em>encoding='utf8'</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.load_word2vec_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the input-hidden weight matrix from the original C word2vec-tool format.</p>
<p>Note that the information stored in the file is incomplete (the binary tree is missing),
so while you can query for word similarity etc., you cannot continue training
with a model loaded this way.</p>
<p><cite>binary</cite> is a boolean indicating whether the data is in binary word2vec format.
<cite>norm_only</cite> is a boolean indicating whether to only store normalised word2vec vectors in memory.
Word counts are read from <cite>fvocab</cite> filename, if set (this is the file generated
by <cite>-save-vocab</cite> flag of the original C tool).</p>
<p>If you trained the C model using non-utf8 encoding for words, specify that
encoding in <cite>encoding</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.log_accuracy">
<code class="descname">log_accuracy</code><span class="sig-paren">(</span><em>section</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.log_accuracy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.make_cum_table">
<code class="descname">make_cum_table</code><span class="sig-paren">(</span><em>power=0.75</em>, <em>domain=2147483647</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.make_cum_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a cumulative-distribution table using stored vocabulary word counts for
drawing random words in the negative-sampling training routines.</p>
<p>To draw a word index, choose a random integer up to the maximum value in the
table (cum_table[-1]), then finding that integer&#8217;s sorted insertion point
(as if by bisect_left or ndarray.searchsorted()). That insertion point is the
drawn index, coming up in proportion equal to the increment at that slot.</p>
<p>Called internally from &#8216;build_vocab()&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.most_similar">
<code class="descname">most_similar</code><span class="sig-paren">(</span><em>positive=[]</em>, <em>negative=[]</em>, <em>topn=10</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.most_similar" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the top-N most similar words. Positive words contribute positively towards the
similarity, negative words negatively.</p>
<p>This method computes cosine similarity between a simple mean of the projection
weight vectors of the given words and the vectors for each word in the model.
The method corresponds to the <cite>word-analogy</cite> and <cite>distance</cite> scripts in the original
word2vec implementation.</p>
<p>If topn is False, most_similar returns the vector of similarity scores.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">trained_model</span><span class="o">.</span><span class="n">most_similar</span><span class="p">(</span><span class="n">positive</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;woman&#39;</span><span class="p">,</span> <span class="s">&#39;king&#39;</span><span class="p">],</span> <span class="n">negative</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;man&#39;</span><span class="p">])</span>
<span class="go">[(&#39;queen&#39;, 0.50882536), ...]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.most_similar_cosmul">
<code class="descname">most_similar_cosmul</code><span class="sig-paren">(</span><em>positive=[]</em>, <em>negative=[]</em>, <em>topn=10</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.most_similar_cosmul" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the top-N most similar words, using the multiplicative combination objective
proposed by Omer Levy and Yoav Goldberg in <a class="footnote-reference" href="#id9" id="id8">[4]</a>. Positive words still contribute
positively towards the similarity, negative words negatively, but with less
susceptibility to one large distance dominating the calculation.</p>
<p>In the common analogy-solving case, of two positive and one negative examples,
this method is equivalent to the &#8220;3CosMul&#8221; objective (equation (4)) of Levy and Goldberg.</p>
<p>Additional positive or negative examples contribute to the numerator or denominator,
respectively – a potentially sensible but untested extension of the method. (With
a single positive example, rankings will be the same as in the default most_similar.)</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">trained_model</span><span class="o">.</span><span class="n">most_similar_cosmul</span><span class="p">(</span><span class="n">positive</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;baghdad&#39;</span><span class="p">,</span> <span class="s">&#39;england&#39;</span><span class="p">],</span> <span class="n">negative</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;london&#39;</span><span class="p">])</span>
<span class="go">[(u&#39;iraq&#39;, 0.8488819003105164), ...]</span>
</pre></div>
</div>
<table class="docutils footnote" frame="void" id="id9" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[4]</a></td><td>Omer Levy and Yoav Goldberg. Linguistic Regularities in Sparse and Explicit Word Representations, 2014.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.n_similarity">
<code class="descname">n_similarity</code><span class="sig-paren">(</span><em>ws1</em>, <em>ws2</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.n_similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute cosine similarity between two sets of words.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">trained_model</span><span class="o">.</span><span class="n">n_similarity</span><span class="p">([</span><span class="s">&#39;sushi&#39;</span><span class="p">,</span> <span class="s">&#39;shop&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;japanese&#39;</span><span class="p">,</span> <span class="s">&#39;restaurant&#39;</span><span class="p">])</span>
<span class="go">0.61540466561049689</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">trained_model</span><span class="o">.</span><span class="n">n_similarity</span><span class="p">([</span><span class="s">&#39;restaurant&#39;</span><span class="p">,</span> <span class="s">&#39;japanese&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;japanese&#39;</span><span class="p">,</span> <span class="s">&#39;restaurant&#39;</span><span class="p">])</span>
<span class="go">1.0000000000000004</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">trained_model</span><span class="o">.</span><span class="n">n_similarity</span><span class="p">([</span><span class="s">&#39;sushi&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;restaurant&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="n">trained_model</span><span class="o">.</span><span class="n">similarity</span><span class="p">(</span><span class="s">&#39;sushi&#39;</span><span class="p">,</span> <span class="s">&#39;restaurant&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.reset_from">
<code class="descname">reset_from</code><span class="sig-paren">(</span><em>other_model</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.reset_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Reuse shareable structures from other_model.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.reset_weights">
<code class="descname">reset_weights</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.reset_weights" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the object to file (also see <cite>load</cite>).</p>
<p><cite>fname_or_handle</cite> is either a string specifying the file name to
save to, or an open file-like object which can be written to. If
the object is a file handle, no special array handling will be
performed; all attributes will be saved to the same file.</p>
<p>If <cite>separately</cite> is None, automatically detect large
numpy/scipy.sparse arrays in the object being stored, and store
them into separate files. This avoids pickle memory errors and
allows mmap&#8217;ing large arrays back on load efficiently.</p>
<p>You can also set <cite>separately</cite> manually, in which case it must be
a list of attribute names to be stored in separate files. The
automatic check is not performed in this case.</p>
<p><cite>ignore</cite> is a set of attribute names to <em>not</em> serialize (file
handles, caches etc). On subsequent load() these attributes will
be set to None.</p>
<p><cite>pickle_protocol</cite> defaults to 2 so the pickled object can be imported
in both Python 2 and 3.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.save_word2vec_format">
<code class="descname">save_word2vec_format</code><span class="sig-paren">(</span><em>fname</em>, <em>fvocab=None</em>, <em>binary=False</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.save_word2vec_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the input-hidden weight matrix in the same format used by the original
C word2vec-tool, for compatibility.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.scale_vocab">
<code class="descname">scale_vocab</code><span class="sig-paren">(</span><em>min_count=None</em>, <em>sample=None</em>, <em>dry_run=False</em>, <em>keep_raw_vocab=False</em>, <em>trim_rule=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.scale_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply vocabulary settings for <cite>min_count</cite> (discarding less-frequent words)
and <cite>sample</cite> (controlling the downsampling of more-frequent words).</p>
<p>Calling with <cite>dry_run=True</cite> will only simulate the provided settings and
report the size of the retained vocabulary, effective corpus length, and
estimated memory requirements. Results are both printed via logging and
returned as a dict.</p>
<p>Delete the raw vocabulary after the scaling is done to free up RAM,
unless <cite>keep_raw_vocab</cite> is set.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.scan_vocab">
<code class="descname">scan_vocab</code><span class="sig-paren">(</span><em>documents</em>, <em>progress_per=10000</em>, <em>trim_rule=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.scan_vocab" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.score">
<code class="descname">score</code><span class="sig-paren">(</span><em>sentences</em>, <em>total_sentences=1000000000</em>, <em>chunksize=100</em>, <em>queue_factor=2</em>, <em>report_delay=1</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Score the log probability for a sequence of sentences (can be a once-only generator stream).
Each sentence must be a list of unicode strings.
This does not change the fitted model in any way (see Word2Vec.train() for that)</p>
<p>Note that you should specify total_sentences; we&#8217;ll run into problems if you ask to score more than the default</p>
<p>See the article by Taddy <a class="reference internal" href="word2vec.html#taddy" id="id10">[taddy]</a> for examples of how to use such scores in document classification.</p>
<table class="docutils citation" frame="void" id="taddy" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id10">[taddy]</a></td><td>Taddy, Matt.  Document Classification by Inversion of Distributed Language Representations, in Proceedings of the 2015 Conference of the Association of Computational Linguistics.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.seeded_vector">
<code class="descname">seeded_vector</code><span class="sig-paren">(</span><em>seed_string</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.seeded_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Create one &#8216;random&#8217; vector (but deterministic by seed_string)</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.similarity">
<code class="descname">similarity</code><span class="sig-paren">(</span><em>w1</em>, <em>w2</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute cosine similarity between two words.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">trained_model</span><span class="o">.</span><span class="n">similarity</span><span class="p">(</span><span class="s">&#39;woman&#39;</span><span class="p">,</span> <span class="s">&#39;man&#39;</span><span class="p">)</span>
<span class="go">0.73723527</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">trained_model</span><span class="o">.</span><span class="n">similarity</span><span class="p">(</span><span class="s">&#39;woman&#39;</span><span class="p">,</span> <span class="s">&#39;woman&#39;</span><span class="p">)</span>
<span class="go">1.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doc2Vec.train">
<code class="descname">train</code><span class="sig-paren">(</span><em>sentences</em>, <em>total_words=None</em>, <em>word_count=0</em>, <em>chunksize=100</em>, <em>total_examples=None</em>, <em>queue_factor=2</em>, <em>report_delay=1</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doc2Vec.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the model&#8217;s neural weights from a sequence of sentences (can be a once-only generator stream).
For Word2Vec, each sentence must be a list of unicode strings. (Subclasses may accept other examples.)</p>
<p>To support linear learning-rate decay from (initial) alpha to min_alpha, either total_examples
(count of sentences) or total_words (count of raw words in sentences) should be provided, unless the
sentences are the same as those that were used to initially build the vocabulary.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gensim.models.doc2vec.Doctag">
<em class="property">class </em><code class="descclassname">gensim.models.doc2vec.</code><code class="descname">Doctag</code><a class="headerlink" href="#gensim.models.doc2vec.Doctag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gensim.models.doc2vec.Doctag" title="gensim.models.doc2vec.Doctag"><code class="xref py py-class docutils literal"><span class="pre">gensim.models.doc2vec.Doctag</span></code></a></p>
<p>A string document tag discovered during the initial vocabulary
scan. (The document-vector equivalent of a Vocab object.)</p>
<p>Will not be used if all presented document tags are ints.</p>
<dl class="method">
<dt id="gensim.models.doc2vec.Doctag.count">
<code class="descname">count</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span> &rarr; integer -- return number of occurrences of value<a class="headerlink" href="#gensim.models.doc2vec.Doctag.count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="gensim.models.doc2vec.Doctag.doc_count">
<code class="descname">doc_count</code><a class="headerlink" href="#gensim.models.doc2vec.Doctag.doc_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="gensim.models.doc2vec.Doctag.index">
<code class="descname">index</code><a class="headerlink" href="#gensim.models.doc2vec.Doctag.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.Doctag.repeat">
<code class="descname">repeat</code><span class="sig-paren">(</span><em>word_count</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.Doctag.repeat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="gensim.models.doc2vec.Doctag.word_count">
<code class="descname">word_count</code><a class="headerlink" href="#gensim.models.doc2vec.Doctag.word_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gensim.models.doc2vec.DocvecsArray">
<em class="property">class </em><code class="descclassname">gensim.models.doc2vec.</code><code class="descname">DocvecsArray</code><span class="sig-paren">(</span><em>mapfile_path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../utils.html#gensim.utils.SaveLoad" title="gensim.utils.SaveLoad"><code class="xref py py-class docutils literal"><span class="pre">gensim.utils.SaveLoad</span></code></a></p>
<p>Default storage of doc vectors during/after training, in a numpy array.</p>
<p>As the &#8216;docvecs&#8217; property of a Doc2Vec model, allows access and
comparison of document vectors.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">docvec</span> <span class="o">=</span> <span class="n">d2v_model</span><span class="o">.</span><span class="n">docvecs</span><span class="p">[</span><span class="mi">99</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">docvec</span> <span class="o">=</span> <span class="n">d2v_model</span><span class="o">.</span><span class="n">docvecs</span><span class="p">[</span><span class="s">&#39;SENT_99&#39;</span><span class="p">]</span>  <span class="c"># if string tag used in training</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sims</span> <span class="o">=</span> <span class="n">d2v_model</span><span class="o">.</span><span class="n">docvecs</span><span class="o">.</span><span class="n">most_similar</span><span class="p">(</span><span class="mi">99</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sims</span> <span class="o">=</span> <span class="n">d2v_model</span><span class="o">.</span><span class="n">docvecs</span><span class="o">.</span><span class="n">most_similar</span><span class="p">(</span><span class="s">&#39;SENT_99&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sims</span> <span class="o">=</span> <span class="n">d2v_model</span><span class="o">.</span><span class="n">docvecs</span><span class="o">.</span><span class="n">most_similar</span><span class="p">(</span><span class="n">docvec</span><span class="p">)</span>
</pre></div>
</div>
<p>If only plain int tags are presented during training, the dict (of
string tag -&gt; index) and list (of index -&gt; string tag) stay empty,
saving memory.</p>
<p>Supplying a mapfile_path (as by initializing a Doc2Vec model with a
&#8216;docvecs_mapfile&#8217; value) will use a pair of memory-mapped
files as the array backing for doctag_syn0/doctag_syn0_lockf values.</p>
<p>The Doc2Vec model automatically uses this class, but a future alternative
implementation, based on another persistence mechanism like LMDB, LevelDB,
or SQLite, should also be possible.</p>
<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.borrow_from">
<code class="descname">borrow_from</code><span class="sig-paren">(</span><em>other_docvecs</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.borrow_from" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.clear_sims">
<code class="descname">clear_sims</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.clear_sims" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.doesnt_match">
<code class="descname">doesnt_match</code><span class="sig-paren">(</span><em>docs</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.doesnt_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Which doc from the given list doesn&#8217;t go with the others?</p>
<p>(TODO: Accept vectors of out-of-training-set docs, as if from inference.)</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.estimated_lookup_memory">
<code class="descname">estimated_lookup_memory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.estimated_lookup_memory" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimated memory for tag lookup; 0 if using pure int tags.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.indexed_doctags">
<code class="descname">indexed_doctags</code><span class="sig-paren">(</span><em>doctag_tokens</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.indexed_doctags" title="Permalink to this definition">¶</a></dt>
<dd><p>Return indexes and backing-arrays used in training examples.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.init_sims">
<code class="descname">init_sims</code><span class="sig-paren">(</span><em>replace=False</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.init_sims" title="Permalink to this definition">¶</a></dt>
<dd><p>Precompute L2-normalized vectors.</p>
<p>If <cite>replace</cite> is set, forget the original vectors and only keep the normalized
ones = saves lots of memory!</p>
<p>Note that you <strong>cannot continue training</strong> after doing a replace. The model becomes
effectively read-only = you can call <cite>most_similar</cite>, <cite>similarity</cite> etc., but not <cite>train</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>fname</em>, <em>mmap=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a previously saved object from file (also see <cite>save</cite>).</p>
<p>If the object was saved with large arrays stored separately, you can load
these arrays via mmap (shared memory) using <cite>mmap=&#8217;r&#8217;</cite>. Default: don&#8217;t use
mmap, load large arrays as normal objects.</p>
<p>If the file being loaded is compressed (either &#8216;.gz&#8217; or &#8216;.bz2&#8217;), then
<cite>mmap=None</cite> must be set.  Load will raise an <cite>IOError</cite> if this condition
is encountered.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.most_similar">
<code class="descname">most_similar</code><span class="sig-paren">(</span><em>positive=[]</em>, <em>negative=[]</em>, <em>topn=10</em>, <em>clip_start=0</em>, <em>clip_end=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.most_similar" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the top-N most similar docvecs known from training. Positive docs contribute
positively towards the similarity, negative docs negatively.</p>
<p>This method computes cosine similarity between a simple mean of the projection
weight vectors of the given docs. Docs may be specified as vectors, integer indexes
of trained docvecs, or if the documents were originally presented with string tags,
by the corresponding tags.</p>
<p>The &#8216;clip_start&#8217; and &#8216;clip_end&#8217; allow limiting results to a particular contiguous
range of the underlying doctag_syn0norm vectors. (This may be useful if the ordering
there was chosen to be significant, such as more popular tag IDs in lower indexes.)</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.n_similarity">
<code class="descname">n_similarity</code><span class="sig-paren">(</span><em>ds1</em>, <em>ds2</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.n_similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute cosine similarity between two sets of docvecs from the trained set, specified by int
index or string tag. (TODO: Accept vectors of out-of-training-set docs, as if from inference.)</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.note_doctag">
<code class="descname">note_doctag</code><span class="sig-paren">(</span><em>key</em>, <em>document_no</em>, <em>document_length</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.note_doctag" title="Permalink to this definition">¶</a></dt>
<dd><p>Note a document tag during initial corpus scan, for structure sizing.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.reset_weights">
<code class="descname">reset_weights</code><span class="sig-paren">(</span><em>model</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.reset_weights" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>fname_or_handle</em>, <em>separately=None</em>, <em>sep_limit=10485760</em>, <em>ignore=frozenset([])</em>, <em>pickle_protocol=2</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the object to file (also see <cite>load</cite>).</p>
<p><cite>fname_or_handle</cite> is either a string specifying the file name to
save to, or an open file-like object which can be written to. If
the object is a file handle, no special array handling will be
performed; all attributes will be saved to the same file.</p>
<p>If <cite>separately</cite> is None, automatically detect large
numpy/scipy.sparse arrays in the object being stored, and store
them into separate files. This avoids pickle memory errors and
allows mmap&#8217;ing large arrays back on load efficiently.</p>
<p>You can also set <cite>separately</cite> manually, in which case it must be
a list of attribute names to be stored in separate files. The
automatic check is not performed in this case.</p>
<p><cite>ignore</cite> is a set of attribute names to <em>not</em> serialize (file
handles, caches etc). On subsequent load() these attributes will
be set to None.</p>
<p><cite>pickle_protocol</cite> defaults to 2 so the pickled object can be imported
in both Python 2 and 3.</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.similarity">
<code class="descname">similarity</code><span class="sig-paren">(</span><em>d1</em>, <em>d2</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute cosine similarity between two docvecs in the trained set, specified by int index or
string tag. (TODO: Accept vectors of out-of-training-set docs, as if from inference.)</p>
</dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.DocvecsArray.trained_item">
<code class="descname">trained_item</code><span class="sig-paren">(</span><em>indexed_tuple</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.DocvecsArray.trained_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Persist any changes made to the given indexes (matching tuple previously
returned by indexed_doctags()); a no-op for this implementation</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gensim.models.doc2vec.LabeledSentence">
<em class="property">class </em><code class="descclassname">gensim.models.doc2vec.</code><code class="descname">LabeledSentence</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.LabeledSentence" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gensim.models.doc2vec.TaggedDocument" title="gensim.models.doc2vec.TaggedDocument"><code class="xref py py-class docutils literal"><span class="pre">gensim.models.doc2vec.TaggedDocument</span></code></a></p>
<dl class="method">
<dt id="gensim.models.doc2vec.LabeledSentence.count">
<code class="descname">count</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span> &rarr; integer -- return number of occurrences of value<a class="headerlink" href="#gensim.models.doc2vec.LabeledSentence.count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.LabeledSentence.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>value</em><span class="optional">[</span>, <em>start</em><span class="optional">[</span>, <em>stop</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> &rarr; integer -- return first index of value.<a class="headerlink" href="#gensim.models.doc2vec.LabeledSentence.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises ValueError if the value is not present.</p>
</dd></dl>

<dl class="attribute">
<dt id="gensim.models.doc2vec.LabeledSentence.tags">
<code class="descname">tags</code><a class="headerlink" href="#gensim.models.doc2vec.LabeledSentence.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="gensim.models.doc2vec.LabeledSentence.words">
<code class="descname">words</code><a class="headerlink" href="#gensim.models.doc2vec.LabeledSentence.words" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gensim.models.doc2vec.TaggedBrownCorpus">
<em class="property">class </em><code class="descclassname">gensim.models.doc2vec.</code><code class="descname">TaggedBrownCorpus</code><span class="sig-paren">(</span><em>dirname</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.TaggedBrownCorpus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Iterate over documents from the Brown corpus (part of NLTK data), yielding
each document out as a TaggedDocument object.</p>
</dd></dl>

<dl class="class">
<dt id="gensim.models.doc2vec.TaggedDocument">
<em class="property">class </em><code class="descclassname">gensim.models.doc2vec.</code><code class="descname">TaggedDocument</code><a class="headerlink" href="#gensim.models.doc2vec.TaggedDocument" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gensim.models.doc2vec.TaggedDocument" title="gensim.models.doc2vec.TaggedDocument"><code class="xref py py-class docutils literal"><span class="pre">gensim.models.doc2vec.TaggedDocument</span></code></a></p>
<p>A single document, made up of <cite>words</cite> (a list of unicode string tokens)
and <cite>tags</cite> (a list of tokens). Tags may be one or more unicode string
tokens, but typical practice (which will also be most memory-efficient) is
for the tags list to include a unique integer id as the only tag.</p>
<p>Replaces &#8220;sentence as a list of words&#8221; from Word2Vec.</p>
<dl class="method">
<dt id="gensim.models.doc2vec.TaggedDocument.count">
<code class="descname">count</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span> &rarr; integer -- return number of occurrences of value<a class="headerlink" href="#gensim.models.doc2vec.TaggedDocument.count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gensim.models.doc2vec.TaggedDocument.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>value</em><span class="optional">[</span>, <em>start</em><span class="optional">[</span>, <em>stop</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> &rarr; integer -- return first index of value.<a class="headerlink" href="#gensim.models.doc2vec.TaggedDocument.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises ValueError if the value is not present.</p>
</dd></dl>

<dl class="attribute">
<dt id="gensim.models.doc2vec.TaggedDocument.tags">
<code class="descname">tags</code><a class="headerlink" href="#gensim.models.doc2vec.TaggedDocument.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="attribute">
<dt id="gensim.models.doc2vec.TaggedDocument.words">
<code class="descname">words</code><a class="headerlink" href="#gensim.models.doc2vec.TaggedDocument.words" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gensim.models.doc2vec.TaggedLineDocument">
<em class="property">class </em><code class="descclassname">gensim.models.doc2vec.</code><code class="descname">TaggedLineDocument</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#gensim.models.doc2vec.TaggedLineDocument" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Simple format: one document = one line = one TaggedDocument object.</p>
<p>Words are expected to be already preprocessed and separated by whitespace,
tags are constructed automatically from the document line number.</p>
<p><cite>source</cite> can be either a string (filename) or a file object.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">documents</span> <span class="o">=</span> <span class="n">TaggedLineDocument</span><span class="p">(</span><span class="s">&#39;myfile.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or for compressed files:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">documents</span> <span class="o">=</span> <span class="n">TaggedLineDocument</span><span class="p">(</span><span class="s">&#39;compressed_text.txt.bz2&#39;</span><span class="p">)</span>
<span class="n">documents</span> <span class="o">=</span> <span class="n">TaggedLineDocument</span><span class="p">(</span><span class="s">&#39;compressed_text.txt.gz&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      

      <div class="clearer"></div>
    </div>
    

    
    <div id="footer">
      <div id="footerwrapper">
        <div id="footerleft">
          <img src="../_static/images/logo-gensim.png" class="smallerlogo" alt="smaller gensim logo" />
          <a href="../index.html"><img src="../_static/images/gensim-footer.png" alt="gensim footer image" title="Gensim home" /></a>

          <div class="copyright">
            &copy; Copyright 2009-now, <a href="mailto:radimrehurek@seznam.cz" style="color:white"> Radim Řehůřek</a>
            <br />
              Last updated on Sep 19, 2015.
          </div>
        </div>

        <div id="footermiddleright">
          <div id="footermiddle">
            <ul class="navigation">
              <li><a href="../index.html">
                Home
              </a></li>
              <li>|</li>
              <li><a href="../tutorial.html">
                Tutorials
              </a></li>
              <li>|</li>
              <li><a href="../install.html">
                Install
              </a></li>
              <li>|</li>
              <li><a href="../support.html">
                Support
              </a></li>
              <li>|</li>
              <li><a href="../apiref.html">
                API
              </a></li>
              <li>|</li>
              <li><a href="../about.html">
                About
              </a></li>
            </ul>

            <div class="tweetodsazeni">
              <div class="tweet">
                <a href="https://twitter.com/radimrehurek" target="_blank" style="color: white">Tweet @RadimRehurek</a>
              </div>
            </div>

          </div>

          <div id="footerright">
            <div class="footernadpis">
              Support:
            </div>
            <div class="googlegroupsodsazeni">
              <a href="https://groups.google.com/group/gensim" class="googlegroups">
                Stay informed via gensim mailing list:
              </a>

              <form action="http://groups.google.com/group/gensim/boxsubscribe">
                <input type="text" name="email" placeholder="your@email.com" size="28" />
                <input type="submit" name="sub" value="Subscribe" />
              </form>

            </div>

            <div class="addthis_toolbox addthis_default_style addthis_32x32_style"
                addthis:title="#gensim"
                addthis:description="Efficient Topic Modelling in Python"
                style="margin:20px 0 0 0">
              <a class="addthis_button_preferred_1"></a>
              <a class="addthis_button_preferred_2"></a>
              <a class="addthis_button_preferred_3"></a>
              <a class="addthis_button_preferred_4"></a>
              <a class="addthis_button_compact"></a>
              <a class="addthis_counter addthis_bubble_style"></a>
            </div>
          </div>

        </div>
      </div>
    </div>
    

    <script type="text/javascript">
      (function() {
      var at = document.createElement('script'); at.type = 'text/javascript'; at.async = true;
      at.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 's7.addthis.com/js/250/addthis_widget.js#pubid=ra-4d738b9b1d31ccbd';
      var sat = document.getElementsByTagName('script')[0]; sat.parentNode.insertBefore(at, sat);
      })();
    </script>

  </body>
</html>