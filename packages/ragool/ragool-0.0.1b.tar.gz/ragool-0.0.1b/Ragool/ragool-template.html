<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
<style>
    body{
        background: #cacaca;
    }
    .error-block{
        background: #ffffff;
        padding: 10px;
        margin: 10px;
        width: 500px;
    }
    a, a:active, a:visited{
        font-family: Trebuchet ms, sans-serif;
        font-size: 10px;
        color: #52b9ca;
    }
    a:hover{
        font-family: Trebuchet ms, sans-serif;
        font-size: 10px;
        color: #2e91ca;
    }
    ._20 {
        margin: 10px;
        font-family: Trebuchet ms, sans-serif;
        font-size: 20px;
        color: burlywood;
    }
    ._12 {
        margin-left: 10px;
        font-family: Trebuchet ms, sans-serif;
        font-size: 12px;
        color: #0a2d38;
        word-wrap: break-word;
    }
    .red {
        color: #973833;
    }
</style>
</head>
<body>
%if request.path == '/':
%if not data:
<div class="_20">Woohoo! There's no erros</div>
%else
%for error in data:
<div class="error-block">
    <a href="{{ url_for(routename='error', error=error[0].split('/')[-1]) }}">{{ error[1]['date'].strftime('%c') }}</a>
    <div class="_20">{{ error[1]['traceback']['type'] }}</div>
    <div class="_12">{{ error[1]['traceback']['value'] }}</div>
    <a href="/rm">remove</a>
</div>
%end
%else:
<div class="error-block">
    <div class="_20">Error</div>
    <div class="_12">
        %for frame in data['traceback']['full']:
        <span class="red">File</span> : {{ frame[0] }} <span class="red">Line</span> : {{ frame[1] }}
        <span class="red">Function</span> : {{ frame[2] }}<br>
        <span class="red">Value</span> : {{ frame[3] }}
        <br>
        <br>
        %end
        {{ data['traceback']['value'] }}
    </div>
    <div class="_20">Request Headers</div>
    <div class="_12">
        <span class="red">Request URL :</span> {{ data['headers']['path'] }}<br>
        <span class="red">Content Type :</span> {{ data['headers']['Content-Type'] }}<br>
        <span class="red">Accept Encoding :</span> {{ data['headers']['Accept-Encoding'] }}<br>
        <span class="red">Accept :</span> {{ data['headers']['Accept'] }}<br>
        <span class="red">User Agent :</span> {{ data['headers']['User-Agent'] }}<br>
        <span class="red">Cookies :</span> {{ data['headers']['Cookie'] }}<br>
    </div>
</div>
%end
</body>
</html>