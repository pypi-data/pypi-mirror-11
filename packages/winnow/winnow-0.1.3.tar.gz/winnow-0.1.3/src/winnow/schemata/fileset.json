{
    "id": "https://opendesk.cc/schemata/fileset.json",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Winnow Fileset",
    "type": "object",
    "allOf": [
        {"$ref": "https://opendesk.cc/schemata/base/value.json#"},
        {"$ref": "https://opendesk.cc/schemata/base/options.json#"},
        {"$ref": "https://opendesk.cc/schemata/base/canonical.json#"},
        {
            "properties": {
                "name":{},
                "description":{},
                "long_description":{},
                "schema": {},
                "images":{},
                "source": {},
                "path": {},
                "product_version": {
                    "type": "string"
                },
                "aliases": {},
                "base": {},
                "version": {},
                "changes": {},
                "options": {},
                "shortcode": {},
                "type": {
                    "type": "string",
                    "pattern": "fileset"
                },
                "category":{
                    "type": "string"
                },
                "licenses": {},
                "manufacturing": {},
                "files": {
                    "oneOf": [
                        {
                            "type": "object",
                            "patternProperties": {
                                "[/*]?[a-z]": {
                                    "type": "object",
                                    "properties": {
                                        "asset": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string"
                                        },
                                        "name": {
                                            "type": "string"
                                        },
                                        "slug": {
                                            "type": "string"
                                        },
                                        "linear_metres": {
                                            "type": "number"
                                        },
                                        "num_components": {
                                            "type": "number"
                                        },
                                        "num_sheets": {
                                            "type": "number"
                                        }
                                    },
                                    "additionalProperties": false
                                }
                            }
                        },
                        {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "asset": {
                                        "type": "string"
                                    }
                                },
                                "required": ["asset"],
                                "additionalProperties": false
                            }
                        }
                    ]

                },
                "is_default": {},
                "is_public": {}
            },
            "additionalProperties": false,
            "required": ["category", "files", "changes", "name"]
        }
    ]
}
