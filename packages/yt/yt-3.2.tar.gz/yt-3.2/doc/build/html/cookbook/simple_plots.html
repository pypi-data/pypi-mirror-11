<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Making Simple Plots &mdash; The yt Project 3.2-dev documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.3.4/readable/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.2-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="The yt Project 3.2-dev documentation" href="../index.html" />
    <link rel="up" title="The Cookbook" href="index.html" />
    <link rel="next" title="Calculating Dataset Information" href="calculating_information.html" />
    <link rel="prev" title="The Cookbook" href="index.html" />
    
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-391373-2']);
      _gaq.push(['_setDomainName', 'yt-project.org']);
      _gaq.push(['_setAllowHash', false]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/yt_icon.png">
          The yt Project</a>
        <span class="navbar-text navbar-version pull-left"><b>3.2</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../help/index.html">How to get help</a></li>
                <li><a href="../quickstart/index.html">Quickstart notebooks</a></li>
                <li><a href="index.html">Cookbook</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Getting and Installing yt</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installing.html#getting-yt">Getting yt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installing.html#testing-your-installation">Testing Your Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installing.html#switching-between-yt-2-x-and-yt-3-x">Switching between yt-2.x and yt-3.x</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">yt Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/data_inspection.html">Data Inspection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/simple_visualization.html">Simple Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/data_objects_and_time_series.html">Data Objects and Time Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/derived_fields_and_profiles.html">Derived Fields and Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/volume_rendering.html">Volume Rendering</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../yt3differences.html">What&#8217;s New and Different in yt 3.0?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../yt3differences.html#updating-to-yt-3-0-from-old-versions-and-going-back">Updating to yt 3.0 from Old Versions (and going back)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yt3differences.html#converting-old-scripts-to-work-with-yt-3-0">Converting Old Scripts to Work with yt 3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yt3differences.html#cool-new-things">Cool New Things</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yt3differences.html#api-changes">API Changes</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The Cookbook</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#getting-the-sample-data">Getting the Sample Data</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#example-scripts">Example Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#example-notebooks">Example Notebooks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../visualizing/index.html">Visualizing Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../visualizing/plots.html">How to Make Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualizing/callbacks.html">Plot Modifications: Overplotting Contours, Velocities, Particles, and More</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualizing/manual_plotting.html">Using the Manual Plotting Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualizing/volume_rendering.html">Volume Rendering: Making 3D Photorealistic Isocontoured Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualizing/hardware_volume_rendering.html">Hardware Volume Rendering on NVidia Graphics cards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualizing/sketchfab.html">3D Surfaces and Sketchfab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualizing/mapserver.html">Mapserver - A Google-Maps-like Interface to your Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualizing/streamlines.html">Streamlines: Tracking the Trajectories of Tracers in your Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualizing/colormaps/index.html">Colormaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualizing/writing_fits_images.html">Writing FITS Images</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../analyzing/index.html">General Data Analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/fields.html">Fields in yt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/creating_derived_fields.html">Creating Derived Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/objects.html">Data Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/units/index.html">Symbolic Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/filtering.html">Filtering your Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/generating_processed_data.html">Generating Processed Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/time_series_analysis.html">Time Series Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/parallel_computation.html">Parallel Computation With yt</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../analyzing/analysis_modules/index.html">Topic-Specific Analysis Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/halo_analysis.html">Halo Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/synthetic_observation.html">Synthetic Observation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/exporting.html">Exporting to External Radiation Transport Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/two_point_functions.html">Two Point Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/clump_finding.html">Clump Finding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/particle_trajectories.html">Particle Trajectories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/ellipsoid_analysis.html">Halo Ellipsoid Analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examining/index.html">Loading and Examining Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examining/loading_data.html">Loading Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examining/generic_array_data.html">Loading Generic Array Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examining/generic_particle_data.html">Loading Generic Particle Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examining/spherical_data.html">Loading Spherical Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examining/low_level_inspection.html">Low-Level Data Inspection: Accessing Raw Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developing/index.html">Developing in yt</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developing/intro.html">Getting Involved</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/developing.html">How to Develop yt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/building_the_docs.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/debugdrive.html">Debugging yt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/creating_datatypes.html">Creating Data Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/creating_derived_fields.html">Creating Derived Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/creating_derived_quantities.html">Creating Derived Quantities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/creating_frontend.html">Creating A New Code Frontend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/external_analysis.html">Using yt with External Analysis Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference Materials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/code_support.html">Code Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/command-line.html">Command-Line Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/api/api.html">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/configuration.html">Customizing yt: The Configuration and Plugin Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/field_list.html">Field List</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/changelog.html">ChangeLog</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#version-installation">Version &amp; Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#code-errors-and-failures">Code Errors and Failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#units">Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#fields">Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#data-objects">Data Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#developing">Developing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../help/index.html">Getting Help</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#don-t-panic-and-don-t-give-up">Don&#8217;t panic and don&#8217;t give up</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#update-to-the-latest-version">Update to the latest version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#search-the-documentation-faq-and-mailing-lists">Search the documentation, FAQ, and mailing lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#look-at-the-source-code">Look at the source code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#isolate-and-document-your-problem">Isolate and document your problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#go-on-irc-to-ask-a-question">Go on IRC to ask a question</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#ask-the-mailing-list">Ask the mailing list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#submit-a-bug-report">Submit a bug report</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#special-issues">Special Issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About yt</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/index.html#what-is-yt">What is yt?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/index.html#who-is-yt">Who is yt?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/index.html#history-of-yt">History of yt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/index.html#how-do-i-contact-yt">How do I contact yt?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/index.html#how-do-i-cite-yt">How do I cite yt?</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Making Simple Plots</a><ul>
<li><a class="reference internal" href="#simple-slices">Simple Slices</a></li>
<li><a class="reference internal" href="#simple-projections-non-weighted">Simple Projections (Non-Weighted)</a></li>
<li><a class="reference internal" href="#simple-projections-weighted">Simple Projections (Weighted)</a></li>
<li><a class="reference internal" href="#simple-phase-plots">Simple Phase Plots</a></li>
<li><a class="reference internal" href="#simple-probability-distribution-functions">Simple Probability Distribution Functions</a></li>
<li><a class="reference internal" href="#simple-1d-histograms-profiles">Simple 1D Histograms (Profiles)</a></li>
<li><a class="reference internal" href="#simple-radial-profiles">Simple Radial Profiles</a></li>
<li><a class="reference internal" href="#d-profiles-over-time">1D Profiles Over Time</a></li>
<li><a class="reference internal" href="#profiles-with-variance-values">Profiles with Variance Values</a></li>
<li><a class="reference internal" href="#making-plots-of-multiple-fields-simultaneously">Making Plots of Multiple Fields Simultaneously</a></li>
<li><a class="reference internal" href="#off-axis-slicing">Off-Axis Slicing</a></li>
<li><a class="reference internal" href="#off-axis-projection">Off-Axis Projection</a></li>
<li><a class="reference internal" href="#simple-particle-plot">Simple Particle Plot</a></li>
<li><a class="reference internal" href="#non-spatial-particle-plots">Non-spatial Particle Plots</a></li>
<li><a class="reference internal" href="#single-color-particle-plots">Single-color Particle Plots</a></li>
<li><a class="reference internal" href="#simple-volume-rendering">Simple Volume Rendering</a></li>
<li><a class="reference internal" href="#showing-and-hiding-axis-labels-and-colorbars">Showing and Hiding Axis Labels and Colorbars</a></li>
<li><a class="reference internal" href="#accessing-and-modifying-plots-directly">Accessing and Modifying Plots Directly</a></li>
<li><a class="reference internal" href="#changing-the-colormap-used-in-a-plot">Changing the Colormap used in a Plot</a></li>
<li><a class="reference internal" href="#image-background-colors">Image Background Colors</a></li>
<li><a class="reference internal" href="#annotating-plots-to-include-lines-text-shapes-etc">Annotating Plots to Include Lines, Text, Shapes, etc.</a></li>
<li><a class="reference internal" href="#annotating-plots-with-a-timestamp-and-physical-scale">Annotating Plots with a Timestamp and Physical Scale</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="making-simple-plots">
<h1>Making Simple Plots<a class="headerlink" href="#making-simple-plots" title="Permalink to this headline">¶</a></h1>
<p>One of the easiest ways to interact with yt is by creating simple
visualizations of your data.  Below we show how to do this, as well as how to
extend these plots to be ready for publication.</p>
<div class="section" id="simple-slices">
<h2>Simple Slices<a class="headerlink" href="#simple-slices" title="Permalink to this headline">¶</a></h2>
<p>This script shows the simplest way to make a slice through a dataset.  See
<a class="reference internal" href="../visualizing/plots.html#slice-plots"><span>Slice Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="simple_slice.py">simple_slice.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Load the dataset.</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;GasSloshing/sloshing_nomag2_hdf5_plt_cnt_0150&quot;</span><span class="p">)</span>

<span class="c"># Create density slices in all three axes.</span>
<span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mf">800.0</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mf">800.0</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mf">800.0</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="simple-projections-non-weighted">
<h2>Simple Projections (Non-Weighted)<a class="headerlink" href="#simple-projections-non-weighted" title="Permalink to this headline">¶</a></h2>
<p>This is the simplest way to make a projection through a dataset.  There are
several different <a class="reference internal" href="../visualizing/plots.html#projection-types"><span>Types of Projections</span></a>, but non-weighted line integrals
and weighted line integrals are the two most common.  Here we create
density projections (non-weighted line integral).
See <a class="reference internal" href="../visualizing/plots.html#projection-plots"><span>Projection Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="simple_projection.py">simple_projection.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Load the dataset.</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;GalaxyClusterMerger/fiducial_1to3_b0.273d_hdf5_plt_cnt_0175&quot;</span><span class="p">)</span>

<span class="c"># Create projections of the density (non-weighted line integrals).</span>

<span class="n">yt</span><span class="o">.</span><span class="n">ProjectionPlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="n">yt</span><span class="o">.</span><span class="n">ProjectionPlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="n">yt</span><span class="o">.</span><span class="n">ProjectionPlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&quot;z&quot;</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="simple-projections-weighted">
<h2>Simple Projections (Weighted)<a class="headerlink" href="#simple-projections-weighted" title="Permalink to this headline">¶</a></h2>
<p>And here we produce density-weighted temperature projections (weighted line
integral) for the same dataset as the non-weighted projections above.
See <a class="reference internal" href="../visualizing/plots.html#projection-plots"><span>Projection Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="simple_projection_weighted.py">simple_projection_weighted.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Load the dataset.</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;GalaxyClusterMerger/fiducial_1to3_b0.273d_hdf5_plt_cnt_0175&quot;</span><span class="p">)</span>

<span class="c"># Create density-weighted projections of temperature (weighted line integrals)</span>

<span class="n">yt</span><span class="o">.</span><span class="n">ProjectionPlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="s">&quot;temperature&quot;</span><span class="p">,</span> <span class="n">weight_field</span><span class="o">=</span><span class="s">&quot;density&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="n">yt</span><span class="o">.</span><span class="n">ProjectionPlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="s">&quot;temperature&quot;</span><span class="p">,</span> <span class="n">weight_field</span><span class="o">=</span><span class="s">&quot;density&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="n">yt</span><span class="o">.</span><span class="n">ProjectionPlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&quot;z&quot;</span><span class="p">,</span> <span class="s">&quot;temperature&quot;</span><span class="p">,</span> <span class="n">weight_field</span><span class="o">=</span><span class="s">&quot;density&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="simple-phase-plots">
<h2>Simple Phase Plots<a class="headerlink" href="#simple-phase-plots" title="Permalink to this headline">¶</a></h2>
<p>This demonstrates how to make a phase plot.  Phase plots can be thought of as
two-dimensional histograms, where the value is either the weighted-average or
the total accumulation in a cell.
See <a class="reference internal" href="../visualizing/plots.html#how-to-make-2d-profiles"><span>2D Phase Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="simple_phase.py">simple_phase.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Load the dataset.</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;IsolatedGalaxy/galaxy0030/galaxy0030&quot;</span><span class="p">)</span>

<span class="c"># Create a sphere of radius 100 kpc in the center of the domain.</span>
<span class="n">my_sphere</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sphere</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mf">100.0</span><span class="p">,</span> <span class="s">&quot;kpc&quot;</span><span class="p">))</span>

<span class="c"># Create a PhasePlot object.</span>
<span class="c"># Setting weight to None will calculate a sum.</span>
<span class="c"># Setting weight to a field will calculate an average</span>
<span class="c"># weighted by that field.</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">PhasePlot</span><span class="p">(</span><span class="n">my_sphere</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">,</span> <span class="s">&quot;temperature&quot;</span><span class="p">,</span> <span class="s">&quot;cell_mass&quot;</span><span class="p">,</span>
                    <span class="n">weight_field</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="c"># Set the units of mass to be in solar masses (not the default in cgs)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">set_unit</span><span class="p">(</span><span class="s">&#39;cell_mass&#39;</span><span class="p">,</span> <span class="s">&#39;Msun&#39;</span><span class="p">)</span>

<span class="c"># Save the image.</span>
<span class="c"># Optionally, give a string as an argument</span>
<span class="c"># to name files with a keyword.</span>
<span class="n">plot</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="simple-probability-distribution-functions">
<h2>Simple Probability Distribution Functions<a class="headerlink" href="#simple-probability-distribution-functions" title="Permalink to this headline">¶</a></h2>
<p>Often, one wants to examine the distribution of one variable as a function of
another.  This shows how to see the distribution of mass in a simulation, with
respect to the total mass in the simulation.
See <a class="reference internal" href="../visualizing/plots.html#how-to-make-2d-profiles"><span>2D Phase Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="simple_pdf.py">simple_pdf.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Load the dataset.</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;GalaxyClusterMerger/fiducial_1to3_b0.273d_hdf5_plt_cnt_0175&quot;</span><span class="p">)</span>

<span class="c"># Create a data object that represents the whole box.</span>
<span class="n">ad</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">all_data</span><span class="p">()</span>

<span class="c"># This is identical to the simple phase plot, except we supply </span>
<span class="c"># the fractional=True keyword to divide the profile data by the sum. </span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">PhasePlot</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">,</span> <span class="s">&quot;temperature&quot;</span><span class="p">,</span> <span class="s">&quot;cell_mass&quot;</span><span class="p">,</span>
                    <span class="n">weight_field</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">fractional</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c"># Save the image.</span>
<span class="c"># Optionally, give a string as an argument</span>
<span class="c"># to name files with a keyword.</span>
<span class="n">plot</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="simple-1d-histograms-profiles">
<h2>Simple 1D Histograms (Profiles)<a class="headerlink" href="#simple-1d-histograms-profiles" title="Permalink to this headline">¶</a></h2>
<p>This is a &#8220;profile,&#8221; which is a 1D histogram.  This can be thought of as either
the total accumulation (when weight_field is set to <code class="docutils literal"><span class="pre">None</span></code>) or the average
(when a weight_field is supplied.)
See <a class="reference internal" href="../visualizing/plots.html#how-to-make-1d-profiles"><span>1D Profile Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="simple_profile.py">simple_profile.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Load the dataset.</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;IsolatedGalaxy/galaxy0030/galaxy0030&quot;</span><span class="p">)</span>

<span class="c"># Create a 1D profile within a sphere of radius 100 kpc</span>
<span class="c"># of the average temperature and average velocity_x </span>
<span class="c"># vs. density, weighted by mass.</span>
<span class="n">sphere</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sphere</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mf">100.</span><span class="p">,</span> <span class="s">&quot;kpc&quot;</span><span class="p">))</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ProfilePlot</span><span class="p">(</span><span class="n">sphere</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;temperature&quot;</span><span class="p">,</span> <span class="s">&quot;velocity_x&quot;</span><span class="p">],</span>
                      <span class="n">weight_field</span><span class="o">=</span><span class="s">&quot;cell_mass&quot;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">set_log</span><span class="p">(</span><span class="s">&quot;velocity_x&quot;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>

<span class="c"># Save the image.</span>
<span class="c"># Optionally, give a string as an argument</span>
<span class="c"># to name files with a keyword.</span>
<span class="n">plot</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="simple-radial-profiles">
<h2>Simple Radial Profiles<a class="headerlink" href="#simple-radial-profiles" title="Permalink to this headline">¶</a></h2>
<p>This shows how to make a profile of a quantity with respect to the radius.
See <a class="reference internal" href="../visualizing/plots.html#how-to-make-1d-profiles"><span>1D Profile Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="simple_radial_profile.py">simple_radial_profile.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Load the dataset.</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;IsolatedGalaxy/galaxy0030/galaxy0030&quot;</span><span class="p">)</span>

<span class="c"># Create a sphere of radius 100 kpc in the center of the box.</span>
<span class="n">my_sphere</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sphere</span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mf">100.0</span><span class="p">,</span> <span class="s">&quot;kpc&quot;</span><span class="p">))</span>

<span class="c"># Create a profile of the average density vs. radius.</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ProfilePlot</span><span class="p">(</span><span class="n">my_sphere</span><span class="p">,</span> <span class="s">&quot;radius&quot;</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">,</span>
                      <span class="n">weight_field</span><span class="o">=</span><span class="s">&quot;cell_mass&quot;</span><span class="p">)</span>

<span class="c"># Change the units of the radius into kpc (and not the default in cgs)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">set_unit</span><span class="p">(</span><span class="s">&#39;radius&#39;</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">)</span>

<span class="c"># Save the image.</span>
<span class="c"># Optionally, give a string as an argument</span>
<span class="c"># to name files with a keyword.</span>
<span class="n">plot</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="d-profiles-over-time">
<h2>1D Profiles Over Time<a class="headerlink" href="#d-profiles-over-time" title="Permalink to this headline">¶</a></h2>
<p>This is a simple example of overplotting multiple 1D profiles from a number
of datasets to show how they evolve over time.
See <a class="reference internal" href="../visualizing/plots.html#how-to-make-1d-profiles"><span>1D Profile Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="time_series_profiles.py">time_series_profiles.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Create a time-series object.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">simulation</span><span class="p">(</span><span class="s">&quot;enzo_tiny_cosmology/32Mpc_32.enzo&quot;</span><span class="p">,</span> <span class="s">&quot;Enzo&quot;</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">get_time_series</span><span class="p">(</span><span class="n">redshifts</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>

<span class="c"># Lists to hold profiles, labels, and plot specifications.</span>
<span class="n">profiles</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">plot_specs</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c"># Loop over each dataset in the time-series.</span>
<span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">sim</span><span class="p">:</span>
    <span class="c"># Create a data container to hold the whole dataset.</span>
    <span class="n">ad</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">all_data</span><span class="p">()</span>
    <span class="c"># Create a 1d profile of density vs. temperature.</span>
    <span class="n">profiles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">yt</span><span class="o">.</span><span class="n">create_profile</span><span class="p">(</span><span class="n">ad</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;density&quot;</span><span class="p">],</span> 
                                   <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;temperature&quot;</span><span class="p">]))</span>
    <span class="c"># Add labels and linestyles.</span>
    <span class="n">labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;z = </span><span class="si">%.2f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">ds</span><span class="o">.</span><span class="n">current_redshift</span><span class="p">)</span>
    <span class="n">plot_specs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">))</span>

<span class="c"># Create the profile plot from the list of profiles.</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ProfilePlot</span><span class="o">.</span><span class="n">from_profiles</span><span class="p">(</span><span class="n">profiles</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
                                 <span class="n">plot_specs</span><span class="o">=</span><span class="n">plot_specs</span><span class="p">)</span>
<span class="c"># Save the image.</span>
<span class="n">plot</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="profiles-with-variance-values">
<span id="cookbook-profile-variance"></span><h2>Profiles with Variance Values<a class="headerlink" href="#profiles-with-variance-values" title="Permalink to this headline">¶</a></h2>
<p>This shows how to plot the variance for a 1D profile.  In this example, we
manually create a 1D profile object, which gives us access to the variance
data.
See <a class="reference internal" href="../visualizing/plots.html#how-to-make-1d-profiles"><span>1D Profile Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="profile_with_variance.py">profile_with_variance.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Load the dataset.</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;IsolatedGalaxy/galaxy0030/galaxy0030&quot;</span><span class="p">)</span>

<span class="c"># Create a sphere of radius 1 Mpc centered on the max density location.</span>
<span class="n">sp</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sphere</span><span class="p">(</span><span class="s">&quot;max&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;Mpc&quot;</span><span class="p">))</span>

<span class="c"># Calculate and store the bulk velocity for the sphere.</span>
<span class="n">bulk_velocity</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">quantities</span><span class="o">.</span><span class="n">bulk_velocity</span><span class="p">()</span>
<span class="n">sp</span><span class="o">.</span><span class="n">set_field_parameter</span><span class="p">(</span><span class="s">&#39;bulk_velocity&#39;</span><span class="p">,</span> <span class="n">bulk_velocity</span><span class="p">)</span>

<span class="c"># Create a 1D profile object for profiles over radius</span>
<span class="c"># and add a velocity profile.</span>
<span class="n">prof</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">create_profile</span><span class="p">(</span><span class="n">sp</span><span class="p">,</span> <span class="s">&#39;radius&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;gas&#39;</span><span class="p">,</span> <span class="s">&#39;velocity_magnitude&#39;</span><span class="p">),</span>
                         <span class="n">units</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;radius&#39;</span><span class="p">:</span> <span class="s">&#39;kpc&#39;</span><span class="p">},</span>
                         <span class="n">extrema</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;radius&#39;</span><span class="p">:</span> <span class="p">((</span><span class="mf">0.1</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mf">1000.0</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">))},</span>
                         <span class="n">weight_field</span><span class="o">=</span><span class="s">&#39;cell_mass&#39;</span><span class="p">)</span>

<span class="c"># Create arrays to plot.</span>
<span class="n">radius</span> <span class="o">=</span> <span class="n">prof</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">value</span>
<span class="n">mean</span> <span class="o">=</span> <span class="n">prof</span><span class="p">[</span><span class="s">&#39;gas&#39;</span><span class="p">,</span> <span class="s">&#39;velocity_magnitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
<span class="n">variance</span> <span class="o">=</span> <span class="n">prof</span><span class="o">.</span><span class="n">variance</span><span class="p">[</span><span class="s">&#39;gas&#39;</span><span class="p">,</span> <span class="s">&#39;velocity_magnitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>

<span class="c"># Plot the average velocity magnitude.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">&#39;Mean&#39;</span><span class="p">)</span>
<span class="c"># Plot the variance of the velocity magnitude.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="n">variance</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">&#39;Standard Deviation&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;r [kpc]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;v [cm/s]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">&#39;velocity_profiles.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="making-plots-of-multiple-fields-simultaneously">
<h2>Making Plots of Multiple Fields Simultaneously<a class="headerlink" href="#making-plots-of-multiple-fields-simultaneously" title="Permalink to this headline">¶</a></h2>
<p>By adding multiple fields to a single
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.SlicePlot.html#yt.visualization.plot_window.SlicePlot" title="yt.visualization.plot_window.SlicePlot"><code class="xref py py-class docutils literal"><span class="pre">SlicePlot</span></code></a> or
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.ProjectionPlot.html#yt.visualization.plot_window.ProjectionPlot" title="yt.visualization.plot_window.ProjectionPlot"><code class="xref py py-class docutils literal"><span class="pre">ProjectionPlot</span></code></a> some of the overhead of
creating the data object can be reduced, and better performance squeezed out.
This recipe shows how to add multiple fields to a single plot.
See <a class="reference internal" href="../visualizing/plots.html#slice-plots"><span>Slice Plots</span></a> and <a class="reference internal" href="../visualizing/plots.html#projection-plots"><span>Projection Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="simple_slice_with_multiple_fields.py">simple_slice_with_multiple_fields.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Load the dataset</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;GasSloshing/sloshing_nomag2_hdf5_plt_cnt_0150&quot;</span><span class="p">)</span>

<span class="c"># Create density slices of several fields along the x axis</span>
<span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;density&#39;</span><span class="p">,</span><span class="s">&#39;temperature&#39;</span><span class="p">,</span><span class="s">&#39;pressure&#39;</span><span class="p">],</span> 
             <span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mf">800.0</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="off-axis-slicing">
<h2>Off-Axis Slicing<a class="headerlink" href="#off-axis-slicing" title="Permalink to this headline">¶</a></h2>
<p>One can create slices from any arbitrary angle, not just those aligned with
the x,y,z axes.
See <a class="reference internal" href="../visualizing/plots.html#off-axis-slices"><span>Off Axis Slices</span></a> for more information.</p>
<p>(<a class="reference external" href="simple_off_axis_slice.py">simple_off_axis_slice.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Load the dataset.</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;IsolatedGalaxy/galaxy0030/galaxy0030&quot;</span><span class="p">)</span>

<span class="c"># Create a 15 kpc radius sphere, centered on the center of the sim volume</span>
<span class="n">sp</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sphere</span><span class="p">(</span><span class="s">&quot;center&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mf">15.0</span><span class="p">,</span> <span class="s">&quot;kpc&quot;</span><span class="p">))</span>

<span class="c"># Get the angular momentum vector for the sphere.</span>
<span class="n">L</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">quantities</span><span class="o">.</span><span class="n">angular_momentum_vector</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s">&quot;Angular momentum vector: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>

<span class="c"># Create an OffAxisSlicePlot of density centered on the object with the L </span>
<span class="c"># vector as its normal and a width of 25 kpc on a side</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">OffAxisSlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">,</span> <span class="n">sp</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="s">&quot;kpc&quot;</span><span class="p">))</span>
<span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="off-axis-projection">
<span id="cookbook-simple-off-axis-projection"></span><h2>Off-Axis Projection<a class="headerlink" href="#off-axis-projection" title="Permalink to this headline">¶</a></h2>
<p>Like off-axis slices, off-axis projections can be created from any arbitrary
viewing angle.
See <a class="reference internal" href="../visualizing/plots.html#off-axis-projections"><span>Off Axis Projection Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="simple_off_axis_projection.py">simple_off_axis_projection.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Load the dataset.</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;IsolatedGalaxy/galaxy0030/galaxy0030&quot;</span><span class="p">)</span>

<span class="c"># Create a 15 kpc radius sphere, centered on the center of the sim volume</span>
<span class="n">sp</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sphere</span><span class="p">(</span><span class="s">&quot;center&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mf">15.0</span><span class="p">,</span> <span class="s">&quot;kpc&quot;</span><span class="p">))</span>

<span class="c"># Get the angular momentum vector for the sphere.</span>
<span class="n">L</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">quantities</span><span class="o">.</span><span class="n">angular_momentum_vector</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s">&quot;Angular momentum vector: {0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>

<span class="c"># Create an OffAxisProjectionPlot of density centered on the object with the L </span>
<span class="c"># vector as its normal and a width of 25 kpc on a side</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">OffAxisProjectionPlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">,</span> <span class="n">sp</span><span class="o">.</span><span class="n">center</span><span class="p">,</span> <span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="s">&quot;kpc&quot;</span><span class="p">))</span>
<span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="simple-particle-plot">
<span id="cookbook-simple-particle-plot"></span><h2>Simple Particle Plot<a class="headerlink" href="#simple-particle-plot" title="Permalink to this headline">¶</a></h2>
<p>You can also use yt to make particle-only plots. This script shows how to
plot all the particle x and y positions in a dataset, using the particle mass
to set the color scale.
See <a class="reference internal" href="../visualizing/plots.html#particle-plots"><span>Particle Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="particle_xy_plot.py">particle_xy_plot.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># load the dataset</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&#39;IsolatedGalaxy/galaxy0030/galaxy0030&#39;</span><span class="p">)</span>

<span class="c"># create our plot</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ParticlePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;particle_position_x&#39;</span><span class="p">,</span> <span class="s">&#39;particle_position_y&#39;</span><span class="p">,</span> <span class="s">&#39;particle_mass&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>

<span class="c"># pick some appropriate units</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_axes_unit</span><span class="p">(</span><span class="s">&#39;kpc&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_unit</span><span class="p">(</span><span class="s">&#39;particle_mass&#39;</span><span class="p">,</span> <span class="s">&#39;Msun&#39;</span><span class="p">)</span>

<span class="c">#save result</span>
<span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="non-spatial-particle-plots">
<span id="cookbook-non-spatial-particle-plot"></span><h2>Non-spatial Particle Plots<a class="headerlink" href="#non-spatial-particle-plots" title="Permalink to this headline">¶</a></h2>
<p>You are not limited to plotting spatial fields on the x and y axes. This
example shows how to plot the particle x-coordinates versus their z-velocities,
again using the particle mass to set the colorbar.
See <a class="reference internal" href="../visualizing/plots.html#particle-plots"><span>Particle Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="particle_xvz_plot.py">particle_xvz_plot.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># load the dataset</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&#39;IsolatedGalaxy/galaxy0030/galaxy0030&#39;</span><span class="p">)</span>

<span class="c"># create our plot</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ParticlePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;particle_position_x&#39;</span><span class="p">,</span> <span class="s">&#39;particle_velocity_z&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;particle_mass&#39;</span><span class="p">])</span>

<span class="c"># pick some appropriate units</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_unit</span><span class="p">(</span><span class="s">&#39;particle_position_x&#39;</span><span class="p">,</span> <span class="s">&#39;Mpc&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_unit</span><span class="p">(</span><span class="s">&#39;particle_velocity_z&#39;</span><span class="p">,</span> <span class="s">&#39;km/s&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_unit</span><span class="p">(</span><span class="s">&#39;particle_mass&#39;</span><span class="p">,</span> <span class="s">&#39;Msun&#39;</span><span class="p">)</span>

<span class="c"># save result</span>
<span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="single-color-particle-plots">
<span id="cookbook-single-color-particle-plot"></span><h2>Single-color Particle Plots<a class="headerlink" href="#single-color-particle-plots" title="Permalink to this headline">¶</a></h2>
<p>If you don&#8217;t want to display a third field on the color bar axis, simply pass
in a color string instead of a particle field.
See <a class="reference internal" href="../visualizing/plots.html#particle-plots"><span>Particle Plots</span></a> for more information.</p>
<p>(<a class="reference external" href="particle_one_color_plot.py">particle_one_color_plot.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># load the dataset</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&#39;IsolatedGalaxy/galaxy0030/galaxy0030&#39;</span><span class="p">)</span>

<span class="c"># create our plot</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ParticlePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;particle_position_x&#39;</span><span class="p">,</span> <span class="s">&#39;particle_position_y&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;b&#39;</span><span class="p">)</span>

<span class="c"># zoom in a little bit</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">)</span>

<span class="c">#save result</span>
<span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="simple-volume-rendering">
<span id="cookbook-simple-volume-rendering"></span><h2>Simple Volume Rendering<a class="headerlink" href="#simple-volume-rendering" title="Permalink to this headline">¶</a></h2>
<p>Volume renderings are 3D projections rendering isocontours in any arbitrary
field (e.g. density, temperature, pressure, etc.)
See <a class="reference internal" href="../visualizing/volume_rendering.html#volume-rendering"><span>Volume Rendering: Making 3D Photorealistic Isocontoured Images</span></a> for more information.</p>
<p>(<a class="reference external" href="simple_volume_rendering.py">simple_volume_rendering.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="c"># Load the dataset.</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;Enzo_64/DD0043/data0043&quot;</span><span class="p">)</span>

<span class="c"># Create a data container (like a sphere or region) that</span>
<span class="c"># represents the entire domain.</span>
<span class="n">ad</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">all_data</span><span class="p">()</span>

<span class="c"># Get the minimum and maximum densities.</span>
<span class="n">mi</span><span class="p">,</span> <span class="n">ma</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">quantities</span><span class="o">.</span><span class="n">extrema</span><span class="p">(</span><span class="s">&quot;density&quot;</span><span class="p">)</span>

<span class="c"># Create a transfer function to map field values to colors.</span>
<span class="c"># We bump up our minimum to cut out some of the background fluid</span>
<span class="n">tf</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ColorTransferFunction</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">ma</span><span class="p">)))</span>

<span class="c"># Add five Gaussians, evenly spaced between the min and</span>
<span class="c"># max specified above with widths of 0.02 and using the</span>
<span class="c"># spectral colormap.</span>
<span class="n">tf</span><span class="o">.</span><span class="n">add_layers</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s">&quot;spectral&quot;</span><span class="p">)</span>

<span class="c"># Choose a center for the render.</span>
<span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]</span>

<span class="c"># Choose a vector representing the viewing direction.</span>
<span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">]</span>

<span class="c"># Set the width of the image.</span>
<span class="c"># Decreasing or increasing this value</span>
<span class="c"># results in a zoom in or out.</span>
<span class="n">W</span> <span class="o">=</span> <span class="mf">1.0</span>

<span class="c"># The number of pixels along one side of the image.</span>
<span class="c"># The final image will have Npixel^2 pixels.</span>
<span class="n">Npixels</span> <span class="o">=</span> <span class="mi">512</span>

<span class="c"># Create a camera object.</span>
<span class="c"># This object creates the images and</span>
<span class="c"># can be moved and rotated.</span>
<span class="n">cam</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">camera</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">Npixels</span><span class="p">,</span> <span class="n">tf</span><span class="p">)</span>

<span class="c"># Create a snapshot.</span>
<span class="c"># The return value of this function could also be accepted, modified (or saved</span>
<span class="c"># for later manipulation) and then put written out using write_bitmap.</span>
<span class="c"># clip_ratio applies a maximum to the function, which is set to that value</span>
<span class="c"># times the .std() of the array.</span>
<span class="n">cam</span><span class="o">.</span><span class="n">snapshot</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">_volume_rendered.png&quot;</span> <span class="o">%</span> <span class="n">ds</span><span class="p">,</span> <span class="n">clip_ratio</span><span class="o">=</span><span class="mf">8.0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="showing-and-hiding-axis-labels-and-colorbars">
<span id="show-hide-axes-colorbar"></span><h2>Showing and Hiding Axis Labels and Colorbars<a class="headerlink" href="#showing-and-hiding-axis-labels-and-colorbars" title="Permalink to this headline">¶</a></h2>
<p>This example illustrates how to create a SlicePlot and then suppress the axes
labels and colorbars.  This is useful when you don&#8217;t care about the physical
scales and just want to take a closer look at the raw plot data.  See
<a class="reference internal" href="../visualizing/plots.html#hiding-colorbar-and-axes"><span>Hiding the Colorbar and Axis Labels</span></a> for more information.</p>
<p>(<a class="reference external" href="show_hide_axes_colorbar.py">show_hide_axes_colorbar.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;IsolatedGalaxy/galaxy0030/galaxy0030&quot;</span><span class="p">)</span>
<span class="n">slc</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">)</span>
<span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&quot;default_sliceplot.png&quot;</span><span class="p">)</span>

<span class="n">slc</span><span class="o">.</span><span class="n">hide_axes</span><span class="p">()</span>
<span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&quot;no_axes_sliceplot.png&quot;</span><span class="p">)</span>

<span class="n">slc</span><span class="o">.</span><span class="n">hide_colorbar</span><span class="p">()</span>
<span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&quot;no_axes_no_colorbar_sliceplot.png&quot;</span><span class="p">)</span>

<span class="n">slc</span><span class="o">.</span><span class="n">show_axes</span><span class="p">()</span>
<span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&quot;no_colorbar_sliceplot.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="accessing-and-modifying-plots-directly">
<span id="matplotlib-primitives"></span><h2>Accessing and Modifying Plots Directly<a class="headerlink" href="#accessing-and-modifying-plots-directly" title="Permalink to this headline">¶</a></h2>
<p>While often the Plot Window, and its affiliated <a class="reference internal" href="../visualizing/callbacks.html#callbacks"><span>Plot Modifications: Overplotting Contours, Velocities, Particles, and More</span></a> can
cover normal use cases, sometimes more direct access to the underlying
Matplotlib engine is necessary.  This recipe shows how to modify the plot
window <a class="reference external" href="http://matplotlib.sourceforge.net/api/axes_api.html#matplotlib.axes.Axes" title="(in Matplotlib v1.4.3)"><code class="xref py py-class docutils literal"><span class="pre">matplotlib.axes.Axes</span></code></a> object directly.
See <a class="reference internal" href="../visualizing/plots.html#matplotlib-customization"><span>Further customization via matplotlib</span></a> for more information.</p>
<p>(<a class="reference external" href="simple_slice_matplotlib_example.py">simple_slice_matplotlib_example.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="c"># Load the dataset.</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;GasSloshing/sloshing_nomag2_hdf5_plt_cnt_0150&quot;</span><span class="p">)</span>

<span class="c"># Create a slice object</span>
<span class="n">slc</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span><span class="s">&#39;x&#39;</span><span class="p">,</span><span class="s">&#39;density&#39;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">800.0</span><span class="p">,</span><span class="s">&#39;kpc&#39;</span><span class="p">))</span>

<span class="c"># Get a reference to the matplotlib axes object for the plot</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">slc</span><span class="o">.</span><span class="n">plots</span><span class="p">[</span><span class="s">&#39;density&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">axes</span>

<span class="c"># Let&#39;s adjust the x axis tick labels</span>
<span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_ticklabels</span><span class="p">():</span>
    <span class="n">label</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s">&#39;red&#39;</span><span class="p">)</span>
    <span class="n">label</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>

<span class="c"># Get a reference to the matplotlib figure object for the plot</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">slc</span><span class="o">.</span><span class="n">plots</span><span class="p">[</span><span class="s">&#39;density&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">figure</span>

<span class="c"># And create a mini-panel of a gaussian histogram inside the plot</span>
<span class="n">rect</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">new_ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span>

<span class="n">n</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">patches</span> <span class="o">=</span> <span class="n">new_ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span><span class="o">+</span><span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span>
                               <span class="n">facecolor</span><span class="o">=</span><span class="s">&#39;black&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s">&#39;black&#39;</span><span class="p">)</span>

<span class="c"># Make sure its visible</span>
<span class="n">new_ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">colors</span><span class="o">=</span><span class="s">&#39;white&#39;</span><span class="p">)</span>

<span class="c"># And label it</span>
<span class="n">la</span> <span class="o">=</span> <span class="n">new_ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">&#39;Dinosaurs per furlong&#39;</span><span class="p">)</span>
<span class="n">la</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s">&#39;white&#39;</span><span class="p">)</span>

<span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="changing-the-colormap-used-in-a-plot">
<h2>Changing the Colormap used in a Plot<a class="headerlink" href="#changing-the-colormap-used-in-a-plot" title="Permalink to this headline">¶</a></h2>
<p>yt has sensible defaults for colormaps, but there are over a hundred available
for customizing your plots.  Here we generate a projection and then change
its colormap.  See <a class="reference internal" href="../visualizing/colormaps/index.html#colormaps"><span>Colormaps</span></a> for a list and for images of all the
available colormaps.</p>
<p>(<a class="reference external" href="colormaps.py">colormaps.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="c"># Load the dataset</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;IsolatedGalaxy/galaxy0030/galaxy0030&quot;</span><span class="p">)</span>

<span class="c"># Create a projection and save it with the default colormap (&#39;algae&#39;)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ProjectionPlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&quot;z&quot;</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">))</span>
<span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

<span class="c"># Change the colormap to &#39;jet&#39; and save again.  We must specify </span>
<span class="c"># a different filename here or it will save it over the top of </span>
<span class="c"># our first projection.</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_cmap</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s">&quot;density&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">&#39;jet&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&#39;proj_with_jet_cmap.png&#39;</span><span class="p">)</span>

<span class="c"># Change the colormap to &#39;hot&#39; and save again.  </span>
<span class="n">p</span><span class="o">.</span><span class="n">set_cmap</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s">&quot;density&quot;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">&#39;hot&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&#39;proj_with_hot_cmap.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="image-background-colors">
<h2>Image Background Colors<a class="headerlink" href="#image-background-colors" title="Permalink to this headline">¶</a></h2>
<p>Here we see how to take an image and save it using different background colors.</p>
<p>In this case we use the <a class="reference internal" href="#cookbook-simple-volume-rendering"><span>Simple Volume Rendering</span></a>
recipe to generate the image, but it works for any NxNx4 image array
(3 colors and 1 opacity channel).  See <a class="reference internal" href="../visualizing/volume_rendering.html#volume-rendering"><span>Volume Rendering: Making 3D Photorealistic Isocontoured Images</span></a> for more
information.</p>
<p>(<a class="reference external" href="image_background_colors.py">image_background_colors.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># This shows how to save ImageArray objects, such as those returned from </span>
<span class="c"># volume renderings, to pngs with varying backgrounds.</span>

<span class="c"># First we use the simple_volume_rendering.py recipe from above to generate</span>
<span class="c"># a standard volume rendering.  The only difference is that we use </span>
<span class="c"># grey_opacity=True with our TransferFunction, as the colored background </span>
<span class="c"># functionality requires images with an opacity between 0 and 1. </span>

<span class="c"># We have removed all the comments from the volume rendering recipe for </span>
<span class="c"># brevity here, but consult the recipe for more details.</span>

<span class="kn">import</span> <span class="nn">yt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;Enzo_64/DD0043/data0043&quot;</span><span class="p">)</span>
<span class="n">ad</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">all_data</span><span class="p">()</span>
<span class="n">mi</span><span class="p">,</span> <span class="n">ma</span> <span class="o">=</span> <span class="n">ad</span><span class="o">.</span><span class="n">quantities</span><span class="o">.</span><span class="n">extrema</span><span class="p">(</span><span class="s">&quot;density&quot;</span><span class="p">)</span>
<span class="n">tf</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ColorTransferFunction</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">ma</span><span class="p">)),</span> <span class="n">grey_opacity</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">tf</span><span class="o">.</span><span class="n">add_layers</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s">&quot;spectral&quot;</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]</span>
<span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">]</span>
<span class="n">W</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">Npixels</span> <span class="o">=</span> <span class="mi">512</span>
<span class="n">cam</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">camera</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">Npixels</span><span class="p">,</span> <span class="n">tf</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">cam</span><span class="o">.</span><span class="n">snapshot</span><span class="p">(</span><span class="s">&quot;original.png&quot;</span> <span class="o">%</span> <span class="n">ds</span><span class="p">,</span> <span class="n">clip_ratio</span><span class="o">=</span><span class="mf">8.0</span><span class="p">)</span>

<span class="c"># Our image array can now be transformed to include different background</span>
<span class="c"># colors.  By default, the background color is black.  The following</span>
<span class="c"># modifications can be used on any image array.</span>

<span class="c"># write_png accepts a background keyword argument that defaults to &#39;black&#39;.</span>
<span class="c"># Other choices include:</span>
<span class="c"># black (0.,0.,0.,1.)</span>
<span class="c"># white (1.,1.,1.,1.)</span>
<span class="c"># None  (0.,0.,0.,0.) &lt;-- Transparent!</span>
<span class="c"># any rgba list/array: [r,g,b,a], bounded by 0..1</span>

<span class="c"># We include the clip_ratio=8 keyword here to bring out more contrast between</span>
<span class="c"># the background and foreground, but it is entirely optional.</span>

<span class="n">im</span><span class="o">.</span><span class="n">write_png</span><span class="p">(</span><span class="s">&#39;black_bg.png&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s">&#39;black&#39;</span><span class="p">,</span> <span class="n">clip_ratio</span><span class="o">=</span><span class="mf">8.0</span><span class="p">)</span>
<span class="n">im</span><span class="o">.</span><span class="n">write_png</span><span class="p">(</span><span class="s">&#39;white_bg.png&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s">&#39;white&#39;</span><span class="p">,</span> <span class="n">clip_ratio</span><span class="o">=</span><span class="mf">8.0</span><span class="p">)</span>
<span class="n">im</span><span class="o">.</span><span class="n">write_png</span><span class="p">(</span><span class="s">&#39;green_bg.png&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="p">[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">],</span> <span class="n">clip_ratio</span><span class="o">=</span><span class="mf">8.0</span><span class="p">)</span>
<span class="n">im</span><span class="o">.</span><span class="n">write_png</span><span class="p">(</span><span class="s">&#39;transparent_bg.png&#39;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">clip_ratio</span><span class="o">=</span><span class="mf">8.0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="annotating-plots-to-include-lines-text-shapes-etc">
<span id="annotations-recipe"></span><h2>Annotating Plots to Include Lines, Text, Shapes, etc.<a class="headerlink" href="#annotating-plots-to-include-lines-text-shapes-etc" title="Permalink to this headline">¶</a></h2>
<p>It can be useful to add annotations to plots to show off certain features
and make it easier for your audience to understand the plot&#8217;s purpose.  There
are a variety of available <a class="reference internal" href="../visualizing/callbacks.html#callbacks"><span>plot modifications</span></a> one can use
to add annotations to their plots.  Below includes just a handful, but please
look at the other <a class="reference internal" href="../visualizing/callbacks.html#callbacks"><span>plot modifications</span></a> to get a full
description of what you can do to highlight your figures.</p>
<p>(<a class="reference external" href="annotations.py">annotations.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;enzo_tiny_cosmology/DD0046/DD0046&quot;</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ProjectionPlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&quot;z&quot;</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">annotate_sphere</span><span class="p">([</span><span class="mf">0.54</span><span class="p">,</span><span class="mf">0.72</span><span class="p">],</span> <span class="n">radius</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;Mpc&#39;</span><span class="p">),</span> <span class="n">coord_system</span><span class="o">=</span><span class="s">&#39;axis&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s">&#39;Halo #7&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">annotate_sphere</span><span class="p">([</span><span class="mf">0.65</span><span class="p">,</span><span class="mf">0.38</span><span class="p">,</span><span class="mf">0.3</span><span class="p">],</span> <span class="n">radius</span><span class="o">=</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span> <span class="s">&#39;Mpc&#39;</span><span class="p">),</span> <span class="n">coord_system</span><span class="o">=</span><span class="s">&#39;data&#39;</span><span class="p">,</span> <span class="n">circle_args</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;color&#39;</span><span class="p">:</span><span class="s">&#39;green&#39;</span><span class="p">,</span> <span class="s">&#39;linewidth&#39;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s">&#39;linestyle&#39;</span><span class="p">:</span><span class="s">&#39;dashed&#39;</span><span class="p">})</span>
<span class="n">p</span><span class="o">.</span><span class="n">annotate_arrow</span><span class="p">([</span><span class="mf">0.87</span><span class="p">,</span><span class="mf">0.59</span><span class="p">,</span><span class="mf">0.2</span><span class="p">],</span> <span class="n">coord_system</span><span class="o">=</span><span class="s">&#39;data&#39;</span><span class="p">,</span> <span class="n">plot_args</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;color&#39;</span><span class="p">:</span><span class="s">&#39;red&#39;</span><span class="p">})</span>
<span class="n">p</span><span class="o">.</span><span class="n">annotate_text</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">],</span> <span class="s">&#39;Some halos&#39;</span><span class="p">,</span> <span class="n">coord_system</span><span class="o">=</span><span class="s">&#39;plot&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">annotate_marker</span><span class="p">([</span><span class="mf">0.45</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.4</span><span class="p">],</span> <span class="n">coord_system</span><span class="o">=</span><span class="s">&#39;data&#39;</span><span class="p">,</span> 
                  <span class="n">plot_args</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;color&#39;</span><span class="p">:</span><span class="s">&#39;yellow&#39;</span><span class="p">,</span> <span class="s">&#39;s&#39;</span><span class="p">:</span><span class="mi">500</span><span class="p">})</span>
<span class="n">p</span><span class="o">.</span><span class="n">annotate_line</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.4</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.9</span><span class="p">],</span> <span class="n">coord_system</span><span class="o">=</span><span class="s">&#39;axis&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">annotate_timestamp</span><span class="p">(</span><span class="n">redshift</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">annotate_scale</span><span class="p">()</span>
<span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="annotating-plots-with-a-timestamp-and-physical-scale">
<h2>Annotating Plots with a Timestamp and Physical Scale<a class="headerlink" href="#annotating-plots-with-a-timestamp-and-physical-scale" title="Permalink to this headline">¶</a></h2>
<p>When creating movies of multiple outputs from the same simulation (see <a class="reference internal" href="../analyzing/time_series_analysis.html#time-series-analysis"><span>Time Series Analysis</span></a>), it can be helpful to include a timestamp and the physical scale of each individual output.  This is simply achieved using the <a class="reference internal" href="../visualizing/callbacks.html#annotate-timestamp"><span>annotate_timestamp()</span></a> and <a class="reference internal" href="../visualizing/callbacks.html#annotate-scale"><span>annotate_scale()</span></a> callbacks on your plots.  For more information about similar plot modifications using other callbacks, see the section on <a class="reference internal" href="../visualizing/callbacks.html#callbacks"><span>Plot Modifications</span></a>.</p>
<p>(<a class="reference external" href="annotate_timestamp_and_scale.py">annotate_timestamp_and_scale.py</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>

<span class="n">ts</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;enzo_tiny_cosmology/DD000?/DD000?&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="n">ts</span><span class="p">:</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ProjectionPlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&quot;z&quot;</span><span class="p">,</span> <span class="s">&quot;density&quot;</span><span class="p">)</span>
    <span class="n">p</span><span class="o">.</span><span class="n">annotate_timestamp</span><span class="p">(</span><span class="n">corner</span><span class="o">=</span><span class="s">&#39;upper_left&#39;</span><span class="p">,</span> <span class="n">redshift</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">draw_inset_box</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">p</span><span class="o">.</span><span class="n">annotate_scale</span><span class="p">(</span><span class="n">corner</span><span class="o">=</span><span class="s">&#39;upper_right&#39;</span><span class="p">)</span>
    <span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
    <div class="footer">
      &copy; Copyright 2013, the yt Project.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>