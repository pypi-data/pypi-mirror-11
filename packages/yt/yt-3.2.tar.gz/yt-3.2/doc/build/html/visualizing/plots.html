<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to Make Plots &mdash; The yt Project 3.2-dev documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.3.4/readable/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.2-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="The yt Project 3.2-dev documentation" href="../index.html" />
    <link rel="up" title="Visualizing Data" href="index.html" />
    <link rel="next" title="Plot Modifications: Overplotting Contours, Velocities, Particles, and More" href="callbacks.html" />
    <link rel="prev" title="Visualizing Data" href="index.html" />
    
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-391373-2']);
      _gaq.push(['_setDomainName', 'yt-project.org']);
      _gaq.push(['_setAllowHash', false]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/yt_icon.png">
          The yt Project</a>
        <span class="navbar-text navbar-version pull-left"><b>3.2</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../help/index.html">How to get help</a></li>
                <li><a href="../quickstart/index.html">Quickstart notebooks</a></li>
                <li><a href="../cookbook/index.html">Cookbook</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Getting and Installing yt</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installing.html#getting-yt">Getting yt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installing.html#testing-your-installation">Testing Your Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installing.html#switching-between-yt-2-x-and-yt-3-x">Switching between yt-2.x and yt-3.x</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">yt Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/data_inspection.html">Data Inspection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/simple_visualization.html">Simple Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/data_objects_and_time_series.html">Data Objects and Time Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/derived_fields_and_profiles.html">Derived Fields and Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/volume_rendering.html">Volume Rendering</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../yt3differences.html">What&#8217;s New and Different in yt 3.0?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../yt3differences.html#updating-to-yt-3-0-from-old-versions-and-going-back">Updating to yt 3.0 from Old Versions (and going back)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yt3differences.html#converting-old-scripts-to-work-with-yt-3-0">Converting Old Scripts to Work with yt 3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yt3differences.html#cool-new-things">Cool New Things</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yt3differences.html#api-changes">API Changes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/index.html">The Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/index.html#getting-the-sample-data">Getting the Sample Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/index.html#example-scripts">Example Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/index.html#example-notebooks">Example Notebooks</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Visualizing Data</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">How to Make Plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="callbacks.html">Plot Modifications: Overplotting Contours, Velocities, Particles, and More</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual_plotting.html">Using the Manual Plotting Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="volume_rendering.html">Volume Rendering: Making 3D Photorealistic Isocontoured Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware_volume_rendering.html">Hardware Volume Rendering on NVidia Graphics cards</a></li>
<li class="toctree-l2"><a class="reference internal" href="sketchfab.html">3D Surfaces and Sketchfab</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapserver.html">Mapserver - A Google-Maps-like Interface to your Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="streamlines.html">Streamlines: Tracking the Trajectories of Tracers in your Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="colormaps/index.html">Colormaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_fits_images.html">Writing FITS Images</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../analyzing/index.html">General Data Analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/fields.html">Fields in yt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/creating_derived_fields.html">Creating Derived Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/objects.html">Data Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/units/index.html">Symbolic Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/filtering.html">Filtering your Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/generating_processed_data.html">Generating Processed Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/time_series_analysis.html">Time Series Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/parallel_computation.html">Parallel Computation With yt</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../analyzing/analysis_modules/index.html">Topic-Specific Analysis Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/halo_analysis.html">Halo Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/synthetic_observation.html">Synthetic Observation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/exporting.html">Exporting to External Radiation Transport Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/two_point_functions.html">Two Point Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/clump_finding.html">Clump Finding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/particle_trajectories.html">Particle Trajectories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analyzing/analysis_modules/ellipsoid_analysis.html">Halo Ellipsoid Analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examining/index.html">Loading and Examining Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examining/loading_data.html">Loading Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examining/generic_array_data.html">Loading Generic Array Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examining/generic_particle_data.html">Loading Generic Particle Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examining/spherical_data.html">Loading Spherical Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examining/low_level_inspection.html">Low-Level Data Inspection: Accessing Raw Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developing/index.html">Developing in yt</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developing/intro.html">Getting Involved</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/developing.html">How to Develop yt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/building_the_docs.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/debugdrive.html">Debugging yt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/creating_datatypes.html">Creating Data Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/creating_derived_fields.html">Creating Derived Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/creating_derived_quantities.html">Creating Derived Quantities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/creating_frontend.html">Creating A New Code Frontend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/external_analysis.html">Using yt with External Analysis Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference Materials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/code_support.html">Code Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/command-line.html">Command-Line Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/api/api.html">API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/configuration.html">Customizing yt: The Configuration and Plugin Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/field_list.html">Field List</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/changelog.html">ChangeLog</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#version-installation">Version &amp; Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#code-errors-and-failures">Code Errors and Failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#units">Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#fields">Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#data-objects">Data Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#developing">Developing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../help/index.html">Getting Help</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#don-t-panic-and-don-t-give-up">Don&#8217;t panic and don&#8217;t give up</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#update-to-the-latest-version">Update to the latest version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#search-the-documentation-faq-and-mailing-lists">Search the documentation, FAQ, and mailing lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#look-at-the-source-code">Look at the source code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#isolate-and-document-your-problem">Isolate and document your problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#go-on-irc-to-ask-a-question">Go on IRC to ask a question</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#ask-the-mailing-list">Ask the mailing list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#submit-a-bug-report">Submit a bug report</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/index.html#special-issues">Special Issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About yt</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/index.html#what-is-yt">What is yt?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/index.html#who-is-yt">Who is yt?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/index.html#history-of-yt">History of yt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/index.html#how-do-i-contact-yt">How do I contact yt?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/index.html#how-do-i-cite-yt">How do I cite yt?</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">How to Make Plots</a><ul>
<li><a class="reference internal" href="#slices-projections">Slices &amp; Projections</a><ul>
<li><a class="reference internal" href="#slice-plots">Slice Plots</a></li>
<li><a class="reference internal" href="#off-axis-slices">Off Axis Slices</a></li>
<li><a class="reference internal" href="#projection-plots">Projection Plots</a><ul>
<li><a class="reference internal" href="#types-of-projections">Types of Projections</a></li>
</ul>
</li>
<li><a class="reference internal" href="#off-axis-projection-plots">Off Axis Projection Plots</a></li>
</ul>
</li>
<li><a class="reference internal" href="#plot-customization-recentering-resizing-colormaps-and-more">Plot Customization: Recentering, Resizing, Colormaps, and More</a><ul>
<li><a class="reference internal" href="#panning-and-zooming">Panning and zooming</a></li>
<li><a class="reference internal" href="#set-axes-units">Set axes units</a></li>
<li><a class="reference internal" href="#set-the-plot-center">Set the plot center</a></li>
<li><a class="reference internal" href="#hiding-the-colorbar-and-axis-labels">Hiding the Colorbar and Axis Labels</a></li>
<li><a class="reference internal" href="#fonts">Fonts</a></li>
<li><a class="reference internal" href="#colormaps">Colormaps</a></li>
<li><a class="reference internal" href="#annotations">Annotations</a></li>
<li><a class="reference internal" href="#set-the-size-of-the-plot">Set the size of the plot</a></li>
<li><a class="reference internal" href="#turning-off-minorticks">Turning off minorticks</a></li>
<li><a class="reference internal" href="#further-customization-via-matplotlib">Further customization via matplotlib</a></li>
</ul>
</li>
<li><a class="reference internal" href="#d-profile-plots">1D Profile Plots</a><ul>
<li><a class="reference internal" href="#overplotting-multiple-1d-profiles">Overplotting Multiple 1D Profiles</a></li>
<li><a class="reference internal" href="#customizing-axis-limits">Customizing axis limits</a></li>
<li><a class="reference internal" href="#customizing-units">Customizing Units</a></li>
<li><a class="reference internal" href="#linear-and-logarithmic-scaling">Linear and Logarithmic Scaling</a></li>
<li><a class="reference internal" href="#altering-line-properties">Altering Line Properties</a></li>
</ul>
</li>
<li><a class="reference internal" href="#d-phase-plots">2D Phase Plots</a><ul>
<li><a class="reference internal" href="#customizing-phase-plots">Customizing Phase Plots</a></li>
</ul>
</li>
<li><a class="reference internal" href="#probability-distribution-functions-and-accumulation">Probability Distribution Functions and Accumulation</a></li>
<li><a class="reference internal" href="#particle-plots">Particle Plots</a></li>
<li><a class="reference internal" href="#interactive-plotting">Interactive Plotting</a></li>
<li><a class="reference internal" href="#saving-plots">Saving Plots</a></li>
<li><a class="reference internal" href="#publication-ready-figures">Publication-ready Figures</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="how-to-make-plots">
<span id="id1"></span><h1>How to Make Plots<a class="headerlink" href="#how-to-make-plots" title="Permalink to this headline">¶</a></h1>
<p>In this section we explain how to use yt to create visualizations
of simulation data, derived fields, and the data produced by yt
analysis objects.  For details about the data extraction and
algorithms used to produce the image and analysis data, please see the
yt <a class="reference external" href="http://adsabs.harvard.edu/abs/2011ApJS..192....9T">method paper</a>.  There are also
many example scripts in <a class="reference internal" href="../cookbook/index.html#cookbook"><span>The Cookbook</span></a>.</p>
<p>The <a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.PlotWindow.html#yt.visualization.plot_window.PlotWindow" title="yt.visualization.plot_window.PlotWindow"><code class="xref py py-class docutils literal"><span class="pre">PlotWindow</span></code></a> interface is useful for
taking a quick look at simulation outputs.  Simple mechanisms exist for making
plots of slices, projections, 1D profiles, and 2D profiles (phase plots), all of
which are described below.</p>
<div class="section" id="slices-projections">
<span id="simple-inspection"></span><h2>Slices &amp; Projections<a class="headerlink" href="#slices-projections" title="Permalink to this headline">¶</a></h2>
<p>If you need to take a quick look at a single simulation output, yt
provides the <a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.PlotWindow.html#yt.visualization.plot_window.PlotWindow" title="yt.visualization.plot_window.PlotWindow"><code class="xref py py-class docutils literal"><span class="pre">PlotWindow</span></code></a> interface for
generating annotated 2D visualizations of simulation data.  You can create a
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.PlotWindow.html#yt.visualization.plot_window.PlotWindow" title="yt.visualization.plot_window.PlotWindow"><code class="xref py py-class docutils literal"><span class="pre">PlotWindow</span></code></a> plot by
supplying a dataset, a list of fields to plot, and a plot center to
create a <a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.html#yt.visualization.plot_window.AxisAlignedSlicePlot" title="yt.visualization.plot_window.AxisAlignedSlicePlot"><code class="xref py py-class docutils literal"><span class="pre">AxisAlignedSlicePlot</span></code></a>,
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.OffAxisSlicePlot.html#yt.visualization.plot_window.OffAxisSlicePlot" title="yt.visualization.plot_window.OffAxisSlicePlot"><code class="xref py py-class docutils literal"><span class="pre">OffAxisSlicePlot</span></code></a>,
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.ProjectionPlot.html#yt.visualization.plot_window.ProjectionPlot" title="yt.visualization.plot_window.ProjectionPlot"><code class="xref py py-class docutils literal"><span class="pre">ProjectionPlot</span></code></a>, or
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.OffAxisProjectionPlot.html#yt.visualization.plot_window.OffAxisProjectionPlot" title="yt.visualization.plot_window.OffAxisProjectionPlot"><code class="xref py py-class docutils literal"><span class="pre">OffAxisProjectionPlot</span></code></a>.</p>
<p>Plot objects use yt data objects to extract the maximum resolution
data available to render a 2D image of a field. Whenever a
two-dimensional image is created, the plotting object first obtains
the necessary data at the <em>highest resolution</em>.  Every time an image
is requested of it &#8211; for instance, when the width or field is changed
&#8211; this high-resolution data is then pixelized and placed in a buffer
of fixed size. This is accomplished behind the scenes using
<a class="reference internal" href="../reference/api/generated/yt.visualization.fixed_resolution.FixedResolutionBuffer.html#yt.visualization.fixed_resolution.FixedResolutionBuffer" title="yt.visualization.fixed_resolution.FixedResolutionBuffer"><code class="xref py py-class docutils literal"><span class="pre">FixedResolutionBuffer</span></code></a>.</p>
<p>The <a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.PlotWindow.html#yt.visualization.plot_window.PlotWindow" title="yt.visualization.plot_window.PlotWindow"><code class="xref py py-class docutils literal"><span class="pre">PlotWindow</span></code></a> class exposes the
underlying matplotlib
<a class="reference external" href="http://matplotlib.org/api/figure_api.html#matplotlib.figure.Figure">figure</a>
and <a class="reference external" href="http://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes">axes</a>
objects, making it easy to customize your plots and
add new annotations.  See <a class="reference internal" href="#matplotlib-customization"><span>Further customization via matplotlib</span></a> for more information.</p>
<div class="section" id="slice-plots">
<span id="id2"></span><h3>Slice Plots<a class="headerlink" href="#slice-plots" title="Permalink to this headline">¶</a></h3>
<p>The quickest way to plot a slice of a field through your data is via
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.SlicePlot.html#yt.visualization.plot_window.SlicePlot" title="yt.visualization.plot_window.SlicePlot"><code class="xref py py-class docutils literal"><span class="pre">SlicePlot</span></code></a>.  These plots are generally
quicker than projections because they only need to read and process a slice
through the dataset.</p>
<p>The following script plots a slice through the density field along the z-axis
centered on the center of the simulation box in a simulation dataset we&#8217;ve
opened and stored in <code class="docutils literal"><span class="pre">ds</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">slc</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="s">&#39;density&#39;</span><span class="p">)</span>
<span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>These two commands will create a slice object and store it in a variable we&#8217;ve
called <code class="docutils literal"><span class="pre">slc</span></code>.  Since this plot is aligned with the simulation coordinate
system, <code class="docutils literal"><span class="pre">slc</span></code> is an instance of
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.html#yt.visualization.plot_window.AxisAlignedSlicePlot" title="yt.visualization.plot_window.AxisAlignedSlicePlot"><code class="xref py py-class docutils literal"><span class="pre">AxisAlignedSlicePlot</span></code></a>. We then call the
<code class="docutils literal"><span class="pre">save()</span></code> function, which automatically saves the plot in png image format with
an automatically generated filename.  If you don&#8217;t want the slice object to
stick around, you can accomplish the same thing in one line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="s">&#39;density&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>It&#8217;s nice to keep the slice object around if you want to modify the plot.  By
default, the plot width will be set to the size of the simulation box.  To zoom
in by a factor of ten, you can call the zoom function attached to the slice
object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">slc</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="s">&#39;density&#39;</span><span class="p">)</span>
<span class="n">slc</span><span class="o">.</span><span class="n">zoom</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&#39;zoom&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will save a new plot to disk with a different filename - prepended with
&#8216;zoom&#8217; instead of the name of the dataset. If you want to set the width
manually, you can do that as well. For example, the following sequence of
commands will create a slice, set the width of the plot to 10 kiloparsecs, and
save it to disk.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">yt.units</span> <span class="kn">import</span> <span class="n">kpc</span>
<span class="n">slc</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="s">&#39;density&#39;</span><span class="p">)</span>
<span class="n">slc</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="n">kpc</span><span class="p">)</span>
<span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&#39;10kpc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The plot width can be specified independently along the x and y direction by
passing a tuple of widths.  An individual width can also be represented using a
<code class="docutils literal"><span class="pre">(value,</span> <span class="pre">unit)</span></code> tuple.  The following sequence of commands all equivalently
set the width of the plot to 200 kiloparsecs in the <code class="docutils literal"><span class="pre">x</span></code> and <code class="docutils literal"><span class="pre">y</span></code> direction.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">yt.units</span> <span class="kn">import</span> <span class="n">kpc</span>
<span class="n">slc</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="mi">200</span><span class="o">*</span><span class="n">kpc</span><span class="p">)</span>
<span class="n">slc</span><span class="o">.</span><span class="n">set_width</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">))</span>
<span class="n">slc</span><span class="o">.</span><span class="n">set_width</span><span class="p">((</span><span class="mi">200</span><span class="o">*</span><span class="n">kpc</span><span class="p">,</span> <span class="mi">200</span><span class="o">*</span><span class="n">kpc</span><span class="p">))</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">SlicePlot</span></code> also optionally accepts the coordinate to center the plot on
and the width of the plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="s">&#39;density&#39;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">],</span>
             <span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="s">&#39;kpc&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that, by default,
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.SlicePlot.html#yt.visualization.plot_window.SlicePlot" title="yt.visualization.plot_window.SlicePlot"><code class="xref py py-class docutils literal"><span class="pre">SlicePlot</span></code></a> shifts the
coordinates on the axes such that the origin is at the center of the
slice.  To instead use the coordinates as defined in the dataset, use
the optional argument: <code class="docutils literal"><span class="pre">origin=&quot;native&quot;</span></code></p>
<p>If supplied without units, the center is assumed by in code units.  There are also
the following alternative options for the <cite>center</cite> keyword:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">&quot;center&quot;</span></code>, <code class="docutils literal"><span class="pre">&quot;c&quot;</span></code>: the domain center</li>
<li><code class="docutils literal"><span class="pre">&quot;max&quot;</span></code>, <code class="docutils literal"><span class="pre">&quot;m&quot;</span></code>: the position of the maximum density</li>
<li><code class="docutils literal"><span class="pre">(&quot;min&quot;,</span> <span class="pre">field)</span></code>: the position of the minimum of <code class="docutils literal"><span class="pre">field</span></code></li>
<li><code class="docutils literal"><span class="pre">(&quot;max&quot;,</span> <span class="pre">field)</span></code>: the position of the maximum of <code class="docutils literal"><span class="pre">field</span></code></li>
</ul>
<p>where for the last two objects any spatial field, such as <code class="docutils literal"><span class="pre">&quot;density&quot;</span></code>,
<code class="docutils literal"><span class="pre">&quot;velocity_z&quot;</span></code>,
etc., may be used, e.g. <code class="docutils literal"><span class="pre">center=(&quot;min&quot;,&quot;temperature&quot;)</span></code>.</p>
<p>Here is an example that combines all of the options we just discussed.</p>
<p>The above example will display an annotated plot of a slice of the
Density field in a 20 kpc square window centered on the coordinate
(0.5, 0.5, 0.5) in the x-y plane.  The axis to slice along is keyed to the
letter &#8216;z&#8217;, corresponding to the z-axis.  Finally, the image is saved to
a png file.</p>
<p>Conceptually, you can think of the plot object as an adjustable window
into the data. For example:</p>
<p>will save a plot of the pressure field in a slice along the z
axis across the entire simulation domain followed by another plot that
is zoomed in by a factor of 30 with respect to the original
image. Both plots will be centered on the center of the simulation box.
With these sorts of manipulations, one can easily pan and zoom onto an
interesting region in the simulation and adjust the boundaries of the
region to visualize on the fly.</p>
<p>If you want to slice through a subset of the full dataset volume,
you can use the <code class="docutils literal"><span class="pre">data_source</span></code> keyword with a <a class="reference internal" href="../analyzing/objects.html#data-objects"><span>data object</span></a>
or a <a class="reference internal" href="../analyzing/filtering.html#cut-regions"><span>cut region</span></a>.</p>
<p>See <a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.html#yt.visualization.plot_window.AxisAlignedSlicePlot" title="yt.visualization.plot_window.AxisAlignedSlicePlot"><code class="xref py py-class docutils literal"><span class="pre">AxisAlignedSlicePlot</span></code></a> for the
full class description.</p>
</div>
<div class="section" id="off-axis-slices">
<span id="id3"></span><h3>Off Axis Slices<a class="headerlink" href="#off-axis-slices" title="Permalink to this headline">¶</a></h3>
<p>Off axis slice plots can be generated in much the same way as
grid-aligned slices.  Off axis slices use
<a class="reference internal" href="../reference/api/generated/yt.data_objects.selection_data_containers.YTCuttingPlaneBase.html#yt.data_objects.selection_data_containers.YTCuttingPlaneBase" title="yt.data_objects.selection_data_containers.YTCuttingPlaneBase"><code class="xref py py-class docutils literal"><span class="pre">YTCuttingPlaneBase</span></code></a> to slice
through simulation domains at an arbitrary oblique angle.  A
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.OffAxisSlicePlot.html#yt.visualization.plot_window.OffAxisSlicePlot" title="yt.visualization.plot_window.OffAxisSlicePlot"><code class="xref py py-class docutils literal"><span class="pre">OffAxisSlicePlot</span></code></a> can be
instantiated by specifying a dataset, the normal to the cutting
plane, and the name of the fields to plot.  Just like an
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.html#yt.visualization.plot_window.AxisAlignedSlicePlot" title="yt.visualization.plot_window.AxisAlignedSlicePlot"><code class="xref py py-class docutils literal"><span class="pre">AxisAlignedSlicePlot</span></code></a>, an
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.OffAxisSlicePlot.html#yt.visualization.plot_window.OffAxisSlicePlot" title="yt.visualization.plot_window.OffAxisSlicePlot"><code class="xref py py-class docutils literal"><span class="pre">OffAxisSlicePlot</span></code></a> can be created via the
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.SlicePlot.html#yt.visualization.plot_window.SlicePlot" title="yt.visualization.plot_window.SlicePlot"><code class="xref py py-class docutils literal"><span class="pre">SlicePlot</span></code></a> class. For example:</p>
<p>In this case, a normal vector for the cutting plane is supplied in the second
argument. Optionally, a <code class="docutils literal"><span class="pre">north_vector</span></code> can be specified to fix the orientation
of the image plane.</p>
</div>
<div class="section" id="projection-plots">
<span id="id4"></span><h3>Projection Plots<a class="headerlink" href="#projection-plots" title="Permalink to this headline">¶</a></h3>
<p>Using a fast adaptive projection, yt is able to quickly project
simulation data along the coordinate axes.</p>
<p>Projection plots are created by instantiating a
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.ProjectionPlot.html#yt.visualization.plot_window.ProjectionPlot" title="yt.visualization.plot_window.ProjectionPlot"><code class="xref py py-class docutils literal"><span class="pre">ProjectionPlot</span></code></a> object.  For
example:</p>
<p>will create a density-weighted projection of the temperature field along the x
axis, plot it, and then save the plot to a png image file.</p>
<p>Like <a class="reference internal" href="#slice-plots"><span>Slice Plots</span></a>, annotations and modifications can be applied
after creating the <code class="docutils literal"><span class="pre">ProjectionPlot</span></code> object.  Annotations are
described in <a class="reference internal" href="callbacks.html#callbacks"><span>Plot Modifications: Overplotting Contours, Velocities, Particles, and More</span></a>.  See
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.ProjectionPlot.html#yt.visualization.plot_window.ProjectionPlot" title="yt.visualization.plot_window.ProjectionPlot"><code class="xref py py-class docutils literal"><span class="pre">ProjectionPlot</span></code></a> for the full
class description.</p>
<p>If you want to project through a subset of the full dataset volume,
you can use the <code class="docutils literal"><span class="pre">data_source</span></code> keyword with a <a class="reference internal" href="../analyzing/objects.html#data-objects"><span>data object</span></a>.
The <a class="reference internal" href="../cookbook/complex_plots.html#thin-slice-projections"><span>Thin-Slice Projections</span></a> recipes demonstrates this functionality.</p>
<div class="section" id="types-of-projections">
<span id="projection-types"></span><h4>Types of Projections<a class="headerlink" href="#types-of-projections" title="Permalink to this headline">¶</a></h4>
<p>There are several different methods of projections that can be made either
when creating a projection with ds.proj() or when making a ProjectionPlot.
In either construction method, set the <code class="docutils literal"><span class="pre">method</span></code> keyword to be one of the
following:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">integrate</span></code> (unweighted)</dt>
<dd>This is the default projection method. It simply integrates the
requested field  <img class="math" src="../_images/math/14546c27a7b929642f7840acca5f851c503ea109.png" alt="f(x)"/> along a line of sight  <img class="math" src="../_images/math/976c654a0f1ab8febd8371ae77e428960e8b4506.png" alt="\hat{n}"/> ,
given by the axis parameter (e.g. <img class="math" src="../_images/math/b82545fe7cf3105746f4e491219fad441f533848.png" alt="\hat{i},\hat{j},"/> or
<img class="math" src="../_images/math/fa8a43fd984fd7fb47ea90109e3010adc8ab09cc.png" alt="\hat{k}"/>).  The units of the projected field
<img class="math" src="../_images/math/1cbe36015313703aec714d1e1a1d8d43dc52cc98.png" alt="g(X)"/> will be the units of the unprojected field  <img class="math" src="../_images/math/14546c27a7b929642f7840acca5f851c503ea109.png" alt="f(x)"/>
multiplied by the appropriate length unit, e.g., density in
<img class="math" src="../_images/math/d0b34c1486007d2225027572a22943f574398a95.png" alt="\mathrm{g\ cm^{-3}}"/> will be projected to  <img class="math" src="../_images/math/f472d403c85f863f0abf2f718ea2c1a6d0164a22.png" alt="\mathrm{g\ cm^{-2}}"/>.</dd>
</dl>
<div class="math">
<p><img src="../_images/math/324b45e90ada829e1b3f085083e450360607eb58.png" alt="g(X) = {\int\ {f(x)\hat{n}\cdot{dx}}}"/></p>
</div><dl class="docutils">
<dt><code class="docutils literal"><span class="pre">integrate</span></code> (weighted)</dt>
<dd>When using the <code class="docutils literal"><span class="pre">integrate</span></code>  method, a <code class="docutils literal"><span class="pre">weight_field</span></code> argument may also
be specified, which will produce a weighted projection.  <img class="math" src="../_images/math/e4eb55976aa3e6d20217b939298632b8f700c40d.png" alt="w(x)"/>
is the field used as a weight. One common example would
be to weight the &#8220;temperature&#8221; field by the &#8220;density&#8221; field. In this case,
the units of the projected field are the same as the unprojected field.</dd>
</dl>
<div class="math">
<p><img src="../_images/math/99207b89555adcd1b7f023708c2631c32ceefc21.png" alt="g(X) = \frac{\int\ {f(x)w(x)\hat{n}\cdot{dx}}}{\int\ {w(x)\hat{n}\cdot{dx}}}"/></p>
</div><dl class="docutils">
<dt><code class="docutils literal"><span class="pre">mip</span></code></dt>
<dd>This method picks out the maximum value of a field along the line of
sight given by the axis parameter.</dd>
<dt><code class="docutils literal"><span class="pre">sum</span></code></dt>
<dd>This method is the same as <code class="docutils literal"><span class="pre">integrate</span></code>, except that it does not
multiply by a path length when performing the integration, and is just a
straight summation of the field along the given axis. The units of the
projected field will be the same as those of the unprojected field. This
method is typically only useful for datasets such as 3D FITS cubes where
the third axis of the dataset is something like velocity or frequency, and
should _only_ be used with fixed-resolution grid-based datasets.</dd>
</dl>
</div>
</div>
<div class="section" id="off-axis-projection-plots">
<span id="off-axis-projections"></span><h3>Off Axis Projection Plots<a class="headerlink" href="#off-axis-projection-plots" title="Permalink to this headline">¶</a></h3>
<p>Internally, off axis projections are created using <a class="reference internal" href="volume_rendering.html#the-camera-interface"><span>The Camera Interface</span></a>
by applying the
<a class="reference internal" href="../reference/api/generated/yt.visualization.volume_rendering.transfer_functions.ProjectionTransferFunction.html#yt.visualization.volume_rendering.transfer_functions.ProjectionTransferFunction" title="yt.visualization.volume_rendering.transfer_functions.ProjectionTransferFunction"><code class="xref py py-class docutils literal"><span class="pre">ProjectionTransferFunction</span></code></a>.
In this use case, the volume renderer casts a set of plane parallel rays, one
for each pixel in the image.  The data values along each ray are summed,
creating the final image buffer.</p>
<p id="off-axis-projection-function">To avoid manually creating a camera and setting the transfer
function, yt provides the <a class="reference internal" href="../reference/api/generated/yt.visualization.volume_rendering.camera.off_axis_projection.html#yt.visualization.volume_rendering.camera.off_axis_projection" title="yt.visualization.volume_rendering.camera.off_axis_projection"><code class="xref py py-func docutils literal"><span class="pre">off_axis_projection()</span></code></a>
function, which wraps the camera interface to create an off axis
projection image buffer.  These images can be saved to disk or
used in custom plots.  This snippet creates an off axis
projection through a simulation.</p>
<p>Here, <code class="docutils literal"><span class="pre">W</span></code> is the width of the projection in the x, y, <em>and</em> z
directions.</p>
<p>One can also generate generate annotated off axis projections
using
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.OffAxisProjectionPlot.html#yt.visualization.plot_window.OffAxisProjectionPlot" title="yt.visualization.plot_window.OffAxisProjectionPlot"><code class="xref py py-class docutils literal"><span class="pre">OffAxisProjectionPlot</span></code></a>. These
plots can be created in much the same way as an
<code class="docutils literal"><span class="pre">OffAxisSlicePlot</span></code>, requiring only an open dataset, a direction
to project along, and a field to project.  For example:</p>
<p>OffAxisProjectionPlots can also be created with a number of
keyword arguments, as described in
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.OffAxisProjectionPlot.html#yt.visualization.plot_window.OffAxisProjectionPlot" title="yt.visualization.plot_window.OffAxisProjectionPlot"><code class="xref py py-class docutils literal"><span class="pre">OffAxisProjectionPlot</span></code></a></p>
</div>
</div>
<div class="section" id="plot-customization-recentering-resizing-colormaps-and-more">
<h2>Plot Customization: Recentering, Resizing, Colormaps, and More<a class="headerlink" href="#plot-customization-recentering-resizing-colormaps-and-more" title="Permalink to this headline">¶</a></h2>
<p>You can customize each of the four plot types above in identical ways.  We&#8217;ll go
over each of the customizations methods below.  For each of the examples below we
will modify the following plot.</p>
<div class="section" id="panning-and-zooming">
<h3>Panning and zooming<a class="headerlink" href="#panning-and-zooming" title="Permalink to this headline">¶</a></h3>
<p>There are three methods to dynamically pan around the data.</p>
<p><a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.pan.html#yt.visualization.plot_window.AxisAlignedSlicePlot.pan" title="yt.visualization.plot_window.AxisAlignedSlicePlot.pan"><code class="xref py py-meth docutils literal"><span class="pre">pan()</span></code></a> accepts x and y
deltas.</p>
<p><a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.pan_rel.html#yt.visualization.plot_window.AxisAlignedSlicePlot.pan_rel" title="yt.visualization.plot_window.AxisAlignedSlicePlot.pan_rel"><code class="xref py py-meth docutils literal"><span class="pre">pan_rel()</span></code></a> accepts deltas
in units relative to the field of view of the plot.</p>
<p><a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.zoom.html#yt.visualization.plot_window.AxisAlignedSlicePlot.zoom" title="yt.visualization.plot_window.AxisAlignedSlicePlot.zoom"><code class="xref py py-meth docutils literal"><span class="pre">zoom()</span></code></a> accepts a factor to zoom in by.</p>
</div>
<div class="section" id="set-axes-units">
<h3>Set axes units<a class="headerlink" href="#set-axes-units" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.set_axes_unit.html#yt.visualization.plot_window.AxisAlignedSlicePlot.set_axes_unit" title="yt.visualization.plot_window.AxisAlignedSlicePlot.set_axes_unit"><code class="xref py py-meth docutils literal"><span class="pre">set_axes_unit()</span></code></a> allows the customization of
the axes unit labels.</p>
<p>The same result could have been accomplished by explicitly setting the <code class="docutils literal"><span class="pre">width</span></code>
to <code class="docutils literal"><span class="pre">(.01,</span> <span class="pre">'Mpc')</span></code>.</p>
</div>
<div class="section" id="set-the-plot-center">
<h3>Set the plot center<a class="headerlink" href="#set-the-plot-center" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.set_center.html#yt.visualization.plot_window.AxisAlignedSlicePlot.set_center" title="yt.visualization.plot_window.AxisAlignedSlicePlot.set_center"><code class="xref py py-meth docutils literal"><span class="pre">set_center()</span></code></a>
function accepts a new center for the plot, in code units.  New centers must be
two element tuples.</p>
</div>
<div class="section" id="hiding-the-colorbar-and-axis-labels">
<span id="hiding-colorbar-and-axes"></span><h3>Hiding the Colorbar and Axis Labels<a class="headerlink" href="#hiding-the-colorbar-and-axis-labels" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.PlotWindow.html#yt.visualization.plot_window.PlotWindow" title="yt.visualization.plot_window.PlotWindow"><code class="xref py py-class docutils literal"><span class="pre">PlotWindow</span></code></a> class has functions
attached for hiding/showing the colorbar and axes.  This allows for making
minimal plots that focus on the data:</p>
<p>See the cookbook recipe <a class="reference internal" href="../cookbook/simple_plots.html#show-hide-axes-colorbar"><span>Showing and Hiding Axis Labels and Colorbars</span></a> and the
<cite>full function description ~yt.visualization.plot_window.PlotWindow</cite> for more
information.</p>
</div>
<div class="section" id="fonts">
<h3>Fonts<a class="headerlink" href="#fonts" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.set_font.html#yt.visualization.plot_window.AxisAlignedSlicePlot.set_font" title="yt.visualization.plot_window.AxisAlignedSlicePlot.set_font"><code class="xref py py-meth docutils literal"><span class="pre">set_font()</span></code></a> allows font
costomization.</p>
</div>
<div class="section" id="colormaps">
<h3>Colormaps<a class="headerlink" href="#colormaps" title="Permalink to this headline">¶</a></h3>
<p>Each of these functions accept two arguments.  In all cases the first argument
is a field name.  This makes it possible to use different custom colormaps for
different fields tracked by the plot object.</p>
<p>To change the colormap for the plot, call the
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.set_cmap.html#yt.visualization.plot_window.AxisAlignedSlicePlot.set_cmap" title="yt.visualization.plot_window.AxisAlignedSlicePlot.set_cmap"><code class="xref py py-meth docutils literal"><span class="pre">set_cmap()</span></code></a> function.
Use any of the colormaps listed in the <a class="reference internal" href="colormaps/index.html#colormaps"><span>Colormaps</span></a> section.</p>
<p>The <a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.set_log.html#yt.visualization.plot_window.AxisAlignedSlicePlot.set_log" title="yt.visualization.plot_window.AxisAlignedSlicePlot.set_log"><code class="xref py py-meth docutils literal"><span class="pre">set_log()</span></code></a> function
accepts a field name and a boolean.  If the boolean is <code class="docutils literal"><span class="pre">True</span></code>, the colormap
for the field will be log scaled.  If it is <code class="docutils literal"><span class="pre">False</span></code> the colormap will be
linear.</p>
<p>Specifically, a field containing both positive and negative values can be plotted
with symlog scale, by seting the boolean to be <code class="docutils literal"><span class="pre">True</span></code> and providing an extra
parameter <code class="docutils literal"><span class="pre">linthresh</span></code>. In the region around zero (when the log scale approaches
to infinity), the linear scale will be applied to the region <code class="docutils literal"><span class="pre">(-linthresh,</span> <span class="pre">linthresh)</span></code>
and stretched relative to the logarithmic range. You can also plot a positive field
under symlog scale with the linear range of <code class="docutils literal"><span class="pre">(0,</span> <span class="pre">linthresh)</span></code>.</p>
<p>Lastly, the <a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.set_zlim.html#yt.visualization.plot_window.AxisAlignedSlicePlot.set_zlim" title="yt.visualization.plot_window.AxisAlignedSlicePlot.set_zlim"><code class="xref py py-meth docutils literal"><span class="pre">set_zlim()</span></code></a>
function makes it possible to set a custom colormap range.</p>
</div>
<div class="section" id="annotations">
<h3>Annotations<a class="headerlink" href="#annotations" title="Permalink to this headline">¶</a></h3>
<p>A slice object can also add annotations like a title, an overlying
quiver plot, the location of grid boundaries, halo-finder annotations,
and many other annotations, including user-customizable annotations.
For example:</p>
<p>will plot the density field in a 10 kiloparsec slice through the
z-axis centered on the highest density point in the simulation domain.
Before saving the plot, the script annotates it with the grid
boundaries, which are drawn as lines in the plot, with colors going
from black to white depending on the AMR level of the grid.</p>
<p>Annotations are described in <a class="reference internal" href="callbacks.html#callbacks"><span>Plot Modifications: Overplotting Contours, Velocities, Particles, and More</span></a>.</p>
</div>
<div class="section" id="set-the-size-of-the-plot">
<h3>Set the size of the plot<a class="headerlink" href="#set-the-size-of-the-plot" title="Permalink to this headline">¶</a></h3>
<p>To set the size of the plot, use the
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.set_figure_size.html#yt.visualization.plot_window.AxisAlignedSlicePlot.set_figure_size" title="yt.visualization.plot_window.AxisAlignedSlicePlot.set_figure_size"><code class="xref py py-meth docutils literal"><span class="pre">set_figure_size()</span></code></a> function.  The argument
is the size of the longest edge of the plot in inches.  View the full resolution
image to see the difference more clearly.</p>
<p>To change the resolution of the image, call the
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.set_buff_size.html#yt.visualization.plot_window.AxisAlignedSlicePlot.set_buff_size" title="yt.visualization.plot_window.AxisAlignedSlicePlot.set_buff_size"><code class="xref py py-meth docutils literal"><span class="pre">set_buff_size()</span></code></a> function.</p>
</div>
<div class="section" id="turning-off-minorticks">
<h3>Turning off minorticks<a class="headerlink" href="#turning-off-minorticks" title="Permalink to this headline">¶</a></h3>
<p>By default minorticks for the x and y axes are turned on.
The minorticks may be removed using the
<code class="xref py py-meth docutils literal"><span class="pre">set_minorticks()</span></code>
function, which either accepts a specific field name including the &#8216;all&#8217; alias
and the desired state for the plot as &#8216;on&#8217; or &#8216;off&#8217;. There is also an analogous
<code class="xref py py-meth docutils literal"><span class="pre">set_cbar_minorticks()</span></code>
function for the colorbar axis.</p>
</div>
<div class="section" id="further-customization-via-matplotlib">
<span id="matplotlib-customization"></span><h3>Further customization via matplotlib<a class="headerlink" href="#further-customization-via-matplotlib" title="Permalink to this headline">¶</a></h3>
<p>Each <a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.PlotWindow.html#yt.visualization.plot_window.PlotWindow" title="yt.visualization.plot_window.PlotWindow"><code class="xref py py-class docutils literal"><span class="pre">PlotWindow</span></code></a> object is really a
container for plots - one plot for each field specified in the list of fields
supplied when the plot object is created. The individual plots can be
accessed via the <code class="docutils literal"><span class="pre">plots</span></code> dictionary attached to each
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.PlotWindow.html#yt.visualization.plot_window.PlotWindow" title="yt.visualization.plot_window.PlotWindow"><code class="xref py py-class docutils literal"><span class="pre">PlotWindow</span></code></a> object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">slc</span> <span class="o">=</span> <span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;density&#39;</span><span class="p">,</span> <span class="s">&#39;temperature&#39;</span><span class="p">]</span>
<span class="n">dens_plot</span> <span class="o">=</span> <span class="n">slc</span><span class="o">.</span><span class="n">plots</span><span class="p">[</span><span class="s">&#39;density&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>In this example <code class="docutils literal"><span class="pre">dens_plot</span></code> is an instance of
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.WindowPlotMPL.html#yt.visualization.plot_window.WindowPlotMPL" title="yt.visualization.plot_window.WindowPlotMPL"><code class="xref py py-class docutils literal"><span class="pre">WindowPlotMPL</span></code></a>, an object that wraps the
matplotlib
<a class="reference external" href="http://matplotlib.org/api/figure_api.html#matplotlib.figure.Figure">figure</a>
and <a class="reference external" href="http://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes">axes</a>
objects.  We can access these matplotlib primitives via attributes of
<code class="docutils literal"><span class="pre">dens_plot</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">figure</span> <span class="o">=</span> <span class="n">dens_plot</span><span class="o">.</span><span class="n">figure</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">dens_plot</span><span class="o">.</span><span class="n">axes</span>
<span class="n">colorbar_axes</span> <span class="o">=</span> <span class="n">dens_plot</span><span class="o">.</span><span class="n">cax</span>
</pre></div>
</div>
<p>These are the
<a class="reference external" href="http://matplotlib.org/api/figure_api.html#matplotlib.figure.Figure">figure</a>
and <a class="reference external" href="http://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes">axes</a>
objects that control the actual drawing of the plot.  Arbitrary plot
customizations are possible by manipulating these objects.  See
<a class="reference internal" href="../cookbook/simple_plots.html#matplotlib-primitives"><span>Accessing and Modifying Plots Directly</span></a> for an example.</p>
</div>
</div>
<div class="section" id="d-profile-plots">
<span id="how-to-make-1d-profiles"></span><h2>1D Profile Plots<a class="headerlink" href="#d-profile-plots" title="Permalink to this headline">¶</a></h2>
<p>1D profiles are used to calculate the average or the sum of a given quantity
with respect to a second quantity.  Two common examples are the &#8220;average density
as a function of radius&#8221; or &#8220;the total mass within a given set of density bins.&#8221;
When created, they default to the average: in fact, they default to the average
as weighted by the total cell mass.  However, this can be modified to take
either the total value or the average with respect to a different quantity.</p>
<p>Profiles operate on <a class="reference internal" href="../analyzing/objects.html#data-objects"><span>data objects</span></a>; they will take the
entire data contained in a sphere, a prism, an extracted region and so on, and
they will calculate and use that as input to their calculation.  To make a 1D
profile plot, create a (<a class="reference internal" href="../reference/api/generated/yt.visualization.profile_plotter.ProfilePlot.html#yt.visualization.profile_plotter.ProfilePlot" title="yt.visualization.profile_plotter.ProfilePlot"><code class="xref py py-class docutils literal"><span class="pre">ProfilePlot</span></code></a>)
object, supplying the data object, the field for binning, and a list of fields
to be profiled.</p>
<p>This will create a <a class="reference internal" href="../reference/api/generated/yt.data_objects.selection_data_containers.YTDiskBase.html#yt.data_objects.selection_data_containers.YTDiskBase" title="yt.data_objects.selection_data_containers.YTDiskBase"><code class="xref py py-class docutils literal"><span class="pre">YTDiskBase</span></code></a>
centered at [0.5, 0.5, 0.5], with a normal vector of [0.0, 0.0, 1.0], radius of
10 kiloparsecs and height of 3 kiloparsecs and will then make a plot of the
mass-weighted average temperature as a function of density for all of the gas
contained in the cylinder.</p>
<p>We could also have made a profile considering only the gas in a sphere.
For instance:</p>
<p>Note that because we have specified the weighting field to be <code class="docutils literal"><span class="pre">None</span></code>, the
profile plot will display the accumulated cell mass as a function of temperature
rather than the average. Also note the use of a <code class="docutils literal"><span class="pre">(value,</span> <span class="pre">unit)</span></code> tuple. These
can be used interchangably with units explicitly imported from <code class="docutils literal"><span class="pre">yt.units</span></code> when
creating yt plots.</p>
<p>We can also accumulate along the bin field of a <code class="docutils literal"><span class="pre">ProfilePlot</span></code> (the bin field
is the x-axis in a <code class="docutils literal"><span class="pre">ProfilePlot</span></code>, in the last example the bin field is
<code class="docutils literal"><span class="pre">Temperature</span></code>) by setting the <code class="docutils literal"><span class="pre">accumulation</span></code> keyword argument to <code class="docutils literal"><span class="pre">True</span></code>.
The following example uses <code class="docutils literal"><span class="pre">weight_field</span> <span class="pre">=</span> <span class="pre">None</span></code> and <code class="docutils literal"><span class="pre">accumulation</span> <span class="pre">=</span> <span class="pre">True</span></code> to
generate a plot of the enclosed mass in a sphere:</p>
<p>You can also access the data generated by profiles directly, which can be
useful for overplotting average quantities on top of phase plots, or for
exporting and plotting multiple profiles simultaneously from a time series.
The <code class="docutils literal"><span class="pre">profiles</span></code> attribute contains a list of all profiles that have been
made.  For each item in the list, the x field data can be accessed with <code class="docutils literal"><span class="pre">x</span></code>.
The profiled fields can be accessed from the dictionary <code class="docutils literal"><span class="pre">field_data</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span> <span class="o">=</span> <span class="n">ProfilePlot</span><span class="p">(</span><span class="n">my_sphere</span><span class="p">,</span> <span class="s">&quot;temperature&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;cell_mass&quot;</span><span class="p">],</span>
                   <span class="n">weight_field</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">profile</span> <span class="o">=</span> <span class="n">plot</span><span class="o">.</span><span class="n">profiles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="c"># print the bin field, in this case temperature</span>
<span class="k">print</span> <span class="n">profile</span><span class="o">.</span><span class="n">x</span>
<span class="c"># print the profiled cell_mass field</span>
<span class="k">print</span> <span class="n">profile</span><span class="p">[</span><span class="s">&#39;cell_mass&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Other options, such as the number of bins, are also configurable. See the
documentation for <a class="reference internal" href="../reference/api/generated/yt.visualization.profile_plotter.ProfilePlot.html#yt.visualization.profile_plotter.ProfilePlot" title="yt.visualization.profile_plotter.ProfilePlot"><code class="xref py py-class docutils literal"><span class="pre">ProfilePlot</span></code></a> for
more information.</p>
<div class="section" id="overplotting-multiple-1d-profiles">
<h3>Overplotting Multiple 1D Profiles<a class="headerlink" href="#overplotting-multiple-1d-profiles" title="Permalink to this headline">¶</a></h3>
<p>It is often desirable to overplot multiple 1D profile to show evolution
with time.  This is supported with the <code class="docutils literal"><span class="pre">from_profiles</span></code> class method.
1D profiles are created with the <a class="reference internal" href="../reference/api/generated/yt.data_objects.profiles.create_profile.html#yt.data_objects.profiles.create_profile" title="yt.data_objects.profiles.create_profile"><code class="xref py py-func docutils literal"><span class="pre">create_profile()</span></code></a>
method and then given to the ProfilePlot object.</p>
</div>
<div class="section" id="customizing-axis-limits">
<h3>Customizing axis limits<a class="headerlink" href="#customizing-axis-limits" title="Permalink to this headline">¶</a></h3>
<p>By default the x and y limits for <code class="docutils literal"><span class="pre">ProfilePlot</span></code> are determined using the
<a class="reference internal" href="../reference/api/generated/yt.data_objects.derived_quantities.Extrema.html#yt.data_objects.derived_quantities.Extrema" title="yt.data_objects.derived_quantities.Extrema"><code class="xref py py-class docutils literal"><span class="pre">Extrema</span></code></a> derived quantity.  If you
want to create a plot with custom axis limits, you have two options.</p>
<p>First, you can create a custom profile object using
<a class="reference internal" href="../reference/api/generated/yt.data_objects.profiles.create_profile.html#yt.data_objects.profiles.create_profile" title="yt.data_objects.profiles.create_profile"><code class="xref py py-func docutils literal"><span class="pre">create_profile()</span></code></a>.
This function accepts a dictionary of <code class="docutils literal"><span class="pre">(max,</span> <span class="pre">min)</span></code> tuples keyed to field names.</p>
<p>You can also make use of the
<a class="reference internal" href="../reference/api/generated/yt.visualization.profile_plotter.ProfilePlot.set_xlim.html#yt.visualization.profile_plotter.ProfilePlot.set_xlim" title="yt.visualization.profile_plotter.ProfilePlot.set_xlim"><code class="xref py py-meth docutils literal"><span class="pre">set_xlim()</span></code></a> and
<a class="reference internal" href="../reference/api/generated/yt.visualization.profile_plotter.ProfilePlot.set_ylim.html#yt.visualization.profile_plotter.ProfilePlot.set_ylim" title="yt.visualization.profile_plotter.ProfilePlot.set_ylim"><code class="xref py py-meth docutils literal"><span class="pre">set_ylim()</span></code></a> functions to
customize the axes limits of a plot that has already been created.  Note that
calling <code class="docutils literal"><span class="pre">set_xlim</span></code> is much slower than calling <code class="docutils literal"><span class="pre">set_ylim</span></code>.  This is because
<code class="docutils literal"><span class="pre">set_xlim</span></code> must recreate the profile object using the specified extrema.
Creating a profile directly via <a class="reference internal" href="../reference/api/generated/yt.data_objects.profiles.create_profile.html#yt.data_objects.profiles.create_profile" title="yt.data_objects.profiles.create_profile"><code class="xref py py-func docutils literal"><span class="pre">create_profile()</span></code></a>
might be significantly faster.
Note that since there is only one bin field, <code class="docutils literal"><span class="pre">set_xlim</span></code>
does not accept a field name as the first argument.</p>
</div>
<div class="section" id="customizing-units">
<h3>Customizing Units<a class="headerlink" href="#customizing-units" title="Permalink to this headline">¶</a></h3>
<p>Units for both the x and y axis can be controlled via the
<a class="reference internal" href="../reference/api/generated/yt.visualization.profile_plotter.ProfilePlot.set_unit.html#yt.visualization.profile_plotter.ProfilePlot.set_unit" title="yt.visualization.profile_plotter.ProfilePlot.set_unit"><code class="xref py py-meth docutils literal"><span class="pre">set_unit()</span></code></a> method.
Adjusting the plot units does not require recreating the histogram, so adjusting
units will always be inexpensive, requiring only an in-place unit conversion.</p>
<p>In the following example we create a plot of the average density in solar
masses per cubic parsec as a function of radius in kiloparsecs.</p>
</div>
<div class="section" id="linear-and-logarithmic-scaling">
<h3>Linear and Logarithmic Scaling<a class="headerlink" href="#linear-and-logarithmic-scaling" title="Permalink to this headline">¶</a></h3>
<p>The axis scaling can be manipulated via the
<a class="reference internal" href="../reference/api/generated/yt.visualization.profile_plotter.ProfilePlot.set_log.html#yt.visualization.profile_plotter.ProfilePlot.set_log" title="yt.visualization.profile_plotter.ProfilePlot.set_log"><code class="xref py py-meth docutils literal"><span class="pre">set_log()</span></code></a> function.  This
function accepts a field name and a boolean.  If the boolean is <code class="docutils literal"><span class="pre">True</span></code>, the
field is plotted in log scale.  If <code class="docutils literal"><span class="pre">False</span></code>, the field is plotted in linear
scale.</p>
<p>In the following example we create a plot of the average x velocity as a
function of radius.  Since the x component of the velocity vector can be
negative, we set the scaling to be linear for this field.</p>
</div>
<div class="section" id="altering-line-properties">
<h3>Altering Line Properties<a class="headerlink" href="#altering-line-properties" title="Permalink to this headline">¶</a></h3>
<p>Line properties for any and all of the profiles can be changed with the
<code class="xref py py-func docutils literal"><span class="pre">set_line_property()</span></code> function.
The two arguments given are the line property and desired value.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot</span><span class="o">.</span><span class="n">set_line_property</span><span class="p">(</span><span class="s">&quot;linestyle&quot;</span><span class="p">,</span> <span class="s">&quot;--&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>With no additional arguments, all of the lines plotted will be altered.  To
change the property of a single line, give also the index of the profile.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># change only the first line</span>
<span class="n">plot</span><span class="o">.</span><span class="n">set_line_property</span><span class="p">(</span><span class="s">&quot;linestyle&quot;</span><span class="p">,</span> <span class="s">&quot;--&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="d-phase-plots">
<span id="how-to-make-2d-profiles"></span><h2>2D Phase Plots<a class="headerlink" href="#d-phase-plots" title="Permalink to this headline">¶</a></h2>
<p>2D phase plots function in much the same was as 1D phase plots, but with a
<a class="reference internal" href="../reference/api/generated/yt.visualization.profile_plotter.PhasePlot.html#yt.visualization.profile_plotter.PhasePlot" title="yt.visualization.profile_plotter.PhasePlot"><code class="xref py py-class docutils literal"><span class="pre">PhasePlot</span></code></a> object.  Much like 1D
profiles, 2D profiles (phase plots) are best thought of as plotting a
distribution of points, either taking the average or the accumulation in a bin.
The default behavior is to average, using the cell mass as the weighting,
but this behavior can be controlled through the <code class="docutils literal"><span class="pre">weight_field</span></code> parameter.
For example, to generate a 2D distribution of mass enclosed in density and
temperature bins, you can do:</p>
<p>If you would rather see the average value of a field as a function of two other
fields, leave off the <code class="docutils literal"><span class="pre">weight_field</span></code> argument, and it will average by
the cell mass.  This would look
something like:</p>
<div class="section" id="customizing-phase-plots">
<h3>Customizing Phase Plots<a class="headerlink" href="#customizing-phase-plots" title="Permalink to this headline">¶</a></h3>
<p>Similarly to 1D profile plots, <a class="reference internal" href="../reference/api/generated/yt.visualization.profile_plotter.PhasePlot.html#yt.visualization.profile_plotter.PhasePlot" title="yt.visualization.profile_plotter.PhasePlot"><code class="xref py py-class docutils literal"><span class="pre">PhasePlot</span></code></a>
can be customized via <code class="docutils literal"><span class="pre">set_unit</span></code>,
<code class="docutils literal"><span class="pre">set_xlim</span></code>, <code class="docutils literal"><span class="pre">set_ylim</span></code>, and <code class="docutils literal"><span class="pre">set_zlim</span></code>.  The following example illustrates
how to manipulate these functions.</p>
<p>It is also possible to construct a custom 2D profile object and then use the
<a class="reference internal" href="../reference/api/generated/yt.visualization.profile_plotter.PhasePlot.from_profile.html#yt.visualization.profile_plotter.PhasePlot.from_profile" title="yt.visualization.profile_plotter.PhasePlot.from_profile"><code class="xref py py-meth docutils literal"><span class="pre">from_profile()</span></code></a> function to
create a <code class="docutils literal"><span class="pre">PhasePlot</span></code> using the profile object.
This will sometimes be faster, especially if you need custom x and y axes
limits.  The following example illustrates this workflow:</p>
</div>
</div>
<div class="section" id="probability-distribution-functions-and-accumulation">
<h2>Probability Distribution Functions and Accumulation<a class="headerlink" href="#probability-distribution-functions-and-accumulation" title="Permalink to this headline">¶</a></h2>
<p>Both 1D and 2D profiles which show the total of amount of some field, such as
mass, in a bin (done by setting the <code class="docutils literal"><span class="pre">weight_field</span></code> keyword to <code class="docutils literal"><span class="pre">None</span></code>) can be
turned into probability distribution functions (PDFs) by setting the
<code class="docutils literal"><span class="pre">fractional</span></code> keyword to <code class="docutils literal"><span class="pre">True</span></code>.  When set to <code class="docutils literal"><span class="pre">True</span></code>, the value in each bin
is divided by the sum total from all bins.  These can be turned into cumulative
distribution functions (CDFs) by setting the <code class="docutils literal"><span class="pre">accumulation</span></code> keyword to
<code class="docutils literal"><span class="pre">True</span></code>.  This will make it so that the value in any bin N is the cumulative
sum of all bins from 0 to N.  The direction of the summation can be reversed by
setting <code class="docutils literal"><span class="pre">accumulation</span></code> to <code class="docutils literal"><span class="pre">-True</span></code>.  For <code class="docutils literal"><span class="pre">PhasePlot</span></code>, the accumulation can
be set independently for each axis by setting <code class="docutils literal"><span class="pre">accumulation</span></code> to a list of
<code class="docutils literal"><span class="pre">True</span></code>/ <code class="docutils literal"><span class="pre">-True</span></code> /<code class="docutils literal"><span class="pre">False</span></code> values.</p>
</div>
<div class="section" id="particle-plots">
<span id="id9"></span><h2>Particle Plots<a class="headerlink" href="#particle-plots" title="Permalink to this headline">¶</a></h2>
<p>Slice and projection plots both provide a callback for over-plotting particle
positions onto gas fields. However, sometimes you want to plot the particle
quantities by themselves, perhaps because the gas fields are not relevant to
the your point, or perhaps because your dataset doesn&#8217;t contain any gas fields
in the first place. Additionally, you may want to plot your particles with a
third field, such as particle mass or age,  mapped to a colorbar.
<code class="xref py py-class docutils literal"><span class="pre">ParticlePlot</span></code> provides a convenient
way to do this in yt.</p>
<p>The easiest way to make a <code class="xref py py-class docutils literal"><span class="pre">ParticlePlot</span></code>
is to use the convenience routine. This has the syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ParticlePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;particle_position_x&#39;</span><span class="p">,</span> <span class="s">&#39;particle_position_y&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal"><span class="pre">ds</span></code> is a dataset we&#8217;ve previously opened. The commands create a particle
plot that shows the x and y positions of all the particles in <code class="docutils literal"><span class="pre">ds</span></code> and save the
result to a file on the disk. The type of plot returned depends on the fields you
pass in; in this case, <code class="docutils literal"><span class="pre">p</span></code> will be an <code class="xref py py-class docutils literal"><span class="pre">ParticleProjectionPlot</span></code>,
because the fields are aligned to the coordinate system of the simulation.</p>
<p>Most of the callbacks the work for slice and projection plots also work for
<code class="xref py py-class docutils literal"><span class="pre">ParticleProjectionPlot</span></code>.
For instance, we can zoom in:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ParticlePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;particle_position_x&#39;</span><span class="p">,</span> <span class="s">&#39;particle_position_y&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">zoom</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&#39;zoom&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>change the width:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span><span class="o">.</span><span class="n">set_width</span><span class="p">((</span><span class="mi">500</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>or change the axis units:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span><span class="o">.</span><span class="n">set_unit</span><span class="p">(</span><span class="s">&#39;particle_position_x&#39;</span><span class="p">,</span> <span class="s">&#39;Mpc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here is a full example that shows the simplest way to use
<code class="xref py py-class docutils literal"><span class="pre">ParticlePlot</span></code>:</p>
<p>In the above examples, we are simply splatting particle x and y positions onto
a plot using some color. We can also supply an additional particle field, and map
that to a colorbar. For instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">ParticlePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;particle_position_x&#39;</span><span class="p">,</span> <span class="s">&#39;particle_position_y&#39;</span><span class="p">,</span>
                        <span class="s">&#39;particle_mass&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_unit</span><span class="p">(</span><span class="s">&#39;particle_mass&#39;</span><span class="p">,</span> <span class="s">&#39;Msun&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>will create a plot with the particle mass used to set the colorbar.
Specifically, <code class="xref py py-class docutils literal"><span class="pre">ParticlePlot</span></code>
shows the total <code class="docutils literal"><span class="pre">z_field</span></code> for all the partices in each pixel on the
colorbar axis; to plot average quantities instead, one can supply a
<code class="docutils literal"><span class="pre">weight_field</span></code> argument.</p>
<p>Here is a complete example that uses the <code class="docutils literal"><span class="pre">particle_mass</span></code> field
to set the colorbar and shows off some of the modification functions for
<code class="xref py py-class docutils literal"><span class="pre">ParticleProjectionPlot</span></code>:</p>
<p>If the fields passed in to <code class="xref py py-class docutils literal"><span class="pre">ParticlePlot</span></code>
do not correspond to a valid <code class="xref py py-class docutils literal"><span class="pre">ParticleProjectionPlot</span></code>,
a <code class="xref py py-class docutils literal"><span class="pre">ParticlePhasePlot</span></code> will be returned instead.
<code class="xref py py-class docutils literal"><span class="pre">ParticlePhasePlot</span></code> is used to plot arbitrary particle
fields against each other, and do not support some of the callbacks available in
<code class="xref py py-class docutils literal"><span class="pre">ParticleProjectionPlot</span></code> -
for instance, <a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.pan.html#yt.visualization.plot_window.AxisAlignedSlicePlot.pan" title="yt.visualization.plot_window.AxisAlignedSlicePlot.pan"><code class="xref py py-meth docutils literal"><span class="pre">pan()</span></code></a> and
<a class="reference internal" href="../reference/api/generated/yt.visualization.plot_window.AxisAlignedSlicePlot.zoom.html#yt.visualization.plot_window.AxisAlignedSlicePlot.zoom" title="yt.visualization.plot_window.AxisAlignedSlicePlot.zoom"><code class="xref py py-meth docutils literal"><span class="pre">zoom()</span></code></a> don&#8217;t make much sense when of your axes is a position
and the other is a velocity. The modification functions defined for <a class="reference internal" href="../reference/api/generated/yt.visualization.profile_plotter.PhasePlot.html#yt.visualization.profile_plotter.PhasePlot" title="yt.visualization.profile_plotter.PhasePlot"><code class="xref py py-class docutils literal"><span class="pre">PhasePlot</span></code></a>
should all work, however.</p>
<p>Here is an example of making a <code class="xref py py-class docutils literal"><span class="pre">ParticlePhasePlot</span></code>
of <code class="docutils literal"><span class="pre">particle_position_x</span></code> versus <code class="docutils literal"><span class="pre">particle_velocity_z</span></code>, with the <code class="docutils literal"><span class="pre">particle_mass</span></code> on the colorbar:</p>
<p>and here is one with the particle x and y velocities on the plot axes:</p>
<p>If you want more control over the details of the <code class="xref py py-class docutils literal"><span class="pre">ParticleProjectionPlot</span></code> or
<code class="xref py py-class docutils literal"><span class="pre">ParticlePhasePlot</span></code>, you can always use these classes directly. For instance,
here is an example of using the <code class="docutils literal"><span class="pre">depth</span></code> argument to <code class="xref py py-class docutils literal"><span class="pre">ParticleProjectionPlot</span></code>
to only plot the particles that live in a thin slice around the center of the
domain:</p>
<p>and here is an example of using the <code class="docutils literal"><span class="pre">data_source</span></code> argument to <code class="xref py py-class docutils literal"><span class="pre">ParticlePhasePlot</span></code>
to only consider the particles that lie within a 50 kpc sphere around the domain center:</p>
<p>Finally, with 1D and 2D Profiles, you can create a <code class="xref py py-class docutils literal"><span class="pre">ParticleProfile</span></code>
object seperately using the <a class="reference internal" href="../reference/api/generated/yt.data_objects.profiles.create_profile.html#yt.data_objects.profiles.create_profile" title="yt.data_objects.profiles.create_profile"><code class="xref py py-func docutils literal"><span class="pre">create_profile()</span></code></a> function, and then use it
create a <code class="xref py py-class docutils literal"><span class="pre">ParticlePhasePlot</span></code> object using the
<code class="xref py py-meth docutils literal"><span class="pre">from_profile()</span></code> method. In this example,
we have also used the <code class="docutils literal"><span class="pre">weight_field</span></code> argument to compute the average <code class="docutils literal"><span class="pre">particle_mass</span></code> in each
pixel, instead of the total:</p>
<p>Under the hood, the <code class="xref py py-class docutils literal"><span class="pre">ParticleProfile</span></code> class works a lot like a
<a class="reference internal" href="../reference/api/generated/yt.data_objects.profiles.Profile2D.html#yt.data_objects.profiles.Profile2D" title="yt.data_objects.profiles.Profile2D"><code class="xref py py-class docutils literal"><span class="pre">Profile2D</span></code></a> object, except that instead of just binning the
particle field, you can also use higher-order deposition functions like the cloud-in-cell
interpolant to spread out the particle quantites over a few cells in the profile. The
<a class="reference internal" href="../reference/api/generated/yt.data_objects.profiles.create_profile.html#yt.data_objects.profiles.create_profile" title="yt.data_objects.profiles.create_profile"><code class="xref py py-func docutils literal"><span class="pre">create_profile()</span></code></a> will automatically detect when all the fields
you pass in are particle fields, and return a <code class="xref py py-class docutils literal"><span class="pre">ParticleProfile</span></code>
if that is the case. For a complete description of the <code class="xref py py-class docutils literal"><span class="pre">ParticleProfile</span></code>
class please consult the reference documentation.</p>
</div>
<div class="section" id="interactive-plotting">
<span id="id10"></span><h2>Interactive Plotting<a class="headerlink" href="#interactive-plotting" title="Permalink to this headline">¶</a></h2>
<p>The best way to interactively plot data is through the IPython notebook.  Many
detailed tutorials on using the IPython notebook can be found at
<a class="reference internal" href="../cookbook/notebook_tutorial.html#notebook-tutorial"><span>Notebook Tutorial</span></a>. The simplest way to launch the notebook it is to
type:</p>
<div class="highlight-bash"><div class="highlight"><pre>yt notebook
</pre></div>
</div>
<p>at the command line.  This will prompt you for a password (so that if you&#8217;re on
a shared user machine no one else can pretend to be you!) and then spawn an
IPython notebook you can connect to.</p>
<p>If you want to see yt plots inline inside your notebook, you need only create a
plot and then call <code class="docutils literal"><span class="pre">.show()</span></code> and the image will appear inline:</p>
</div>
<div class="section" id="saving-plots">
<span id="id11"></span><h2>Saving Plots<a class="headerlink" href="#saving-plots" title="Permalink to this headline">¶</a></h2>
<p>If you want to save your yt plots, you have a couple of options for customizing
the plot filenames. If you don&#8217;t care what the filenames are, just calling the
<code class="docutils literal"><span class="pre">save</span></code> method with no additional arguments usually suffices:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;GasSloshing/sloshing_nomag2_hdf5_plt_cnt_0100&quot;</span><span class="p">)</span>
<span class="n">slc</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&quot;z&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;kT&quot;</span><span class="p">,</span><span class="s">&quot;density&quot;</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="p">(</span><span class="mf">500.0</span><span class="p">,</span><span class="s">&quot;kpc&quot;</span><span class="p">))</span>
<span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<p>which will yield PNG plots with the filenames</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>ls *.png
sloshing_nomag2_hdf5_plt_cnt_0100_Slice_z_density.png
sloshing_nomag2_hdf5_plt_cnt_0100_Slice_z_kT.png
</pre></div>
</div>
<p>which has a general form of</p>
<p>Calling <code class="docutils literal"><span class="pre">save</span></code> with a single argument or the <code class="docutils literal"><span class="pre">name</span></code> keyword argument
specifies an alternative name for the plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&quot;bananas&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;bananas&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>yields</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>ls *.png
bananas_Slice_z_kT.png
bananas_Slice_z_density.png
</pre></div>
</div>
<p>If you call <code class="docutils literal"><span class="pre">save</span></code> with a full filename with a file suffix, the plot
will be saved with that filename:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&quot;sloshing.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>since this will take any field and plot it with this filename, it is
typically only useful if you are plotting one field. If you want to
simply change the image format of the plotted file, use the <code class="docutils literal"><span class="pre">suffix</span></code>
keyword:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">slc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;bananas&quot;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s">&quot;eps&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>yielding</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>ls *.eps
bananas_Slice_z_kT.eps
bananas_Slice_z_density.eps
</pre></div>
</div>
</div>
<div class="section" id="publication-ready-figures">
<span id="eps-writer"></span><h2>Publication-ready Figures<a class="headerlink" href="#publication-ready-figures" title="Permalink to this headline">¶</a></h2>
<p>While the routines above give a convienent method to inspect and
visualize your data, publishers often require figures to be in PDF or
EPS format.  While the matplotlib supports vector graphics and image
compression in PDF formats, it does not support compression in EPS
formats.  The <code class="xref py py-class docutils literal"><span class="pre">DualEPS</span></code> module
provides an interface with the <a class="reference external" href="http://pyx.sourceforge.net/">PyX</a>,
which is a Python abstraction of the PostScript drawing model with a
LaTeX interface.  It is optimal for publications to provide figures
with vector graphics to avoid rasterization of the lines and text,
along with compression to produce figures that do not have a large
filesize.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">PyX must be installed, which can be accomplished either manually
with <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pyx</span></code> or with the install script by setting
<code class="docutils literal"><span class="pre">INST_PYX=1</span></code>.</p>
</div>
<p>This module can take any of the plots mentioned above and create an
EPS or PDF figure.  For example,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt.visualization.eps_writer</span> <span class="kn">as</span> <span class="nn">eps</span>
<span class="n">slc</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="s">&#39;density&#39;</span><span class="p">)</span>
<span class="n">slc</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">)</span>
<span class="n">eps_fig</span> <span class="o">=</span> <span class="n">eps</span><span class="o">.</span><span class="n">single_plot</span><span class="p">(</span><span class="n">slc</span><span class="p">)</span>
<span class="n">eps_fig</span><span class="o">.</span><span class="n">save_fig</span><span class="p">(</span><span class="s">&#39;zoom&#39;</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;eps&#39;</span><span class="p">)</span>
<span class="n">eps_fig</span><span class="o">.</span><span class="n">save_fig</span><span class="p">(</span><span class="s">&#39;zoom-pdf&#39;</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;pdf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">eps_fig</span></code> object exposes all of the low-level functionality of
<code class="docutils literal"><span class="pre">PyX</span></code> for further customization (see the <a class="reference external" href="http://pyx.sourceforge.net/manual/index.html">PyX documentation</a>).  There are a few
convenience routines in <code class="docutils literal"><span class="pre">eps_writer</span></code>, such as drawing a circle,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">eps_fig</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">))</span>
<span class="n">eps_fig</span><span class="o">.</span><span class="n">sav_fig</span><span class="p">(</span><span class="s">&#39;zoom-circle&#39;</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;eps&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>with a radius of 0.2 at a center of (0.5, 0.5), both of which are in
units of the figure&#8217;s field of view.  The
<code class="xref py py-func docutils literal"><span class="pre">multiplot_yt()</span></code> routine also
provides a convenient method to produce multi-panel figures
from a PlotWindow.  For example,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">yt</span>
<span class="kn">import</span> <span class="nn">yt.visualization.eps_writer</span> <span class="kn">as</span> <span class="nn">eps</span>

<span class="n">slc</span> <span class="o">=</span> <span class="n">yt</span><span class="o">.</span><span class="n">SlicePlot</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;density&#39;</span><span class="p">,</span> <span class="s">&#39;temperature&#39;</span><span class="p">,</span> <span class="s">&#39;pressure&#39;</span><span class="p">,</span>
                   <span class="s">&#39;velocity_magnitude&#39;</span><span class="p">])</span>
<span class="n">slc</span><span class="o">.</span><span class="n">set_width</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="s">&#39;kpc&#39;</span><span class="p">)</span>
<span class="n">eps_fig</span> <span class="o">=</span> <span class="n">eps</span><span class="o">.</span><span class="n">multiplot_yt</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">slc</span><span class="p">,</span> <span class="n">bare_axes</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">eps_fig</span><span class="o">.</span><span class="n">scale_line</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="s">&#39;5 kpc&#39;</span><span class="p">)</span>
<span class="n">eps_fig</span><span class="o">.</span><span class="n">save_fig</span><span class="p">(</span><span class="s">&#39;multi&#39;</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;eps&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>will produce a 2x2 panel figure with a scale bar indicating 5 kpc.
The routine will try its best to place the colorbars in the optimal
margin, but it can be overridden by providing the keyword
<code class="docutils literal"><span class="pre">cb_location</span></code> with a dict of either <code class="docutils literal"><span class="pre">right,</span> <span class="pre">left,</span> <span class="pre">top,</span> <span class="pre">bottom</span></code>
with the fields as the keys.</p>
</div>
</div>


    </div>
      
  </div>
</div>
    <div class="footer">
      &copy; Copyright 2013, the yt Project.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>