---
- name: source
  type: trim
- name: name
- name: id_number
- name: family_drawn_by
- name: last_id
  type: int
- name: # last_internal_id
  read: 2
- name: disease_loci
  for: 7
  structure:
    - name: name
    - name: colour
      type: colour
    - name:
      read: 1
    - name: pattern
      type: pattern
- name: comments
  type: comment
- name: creation_date
  type: date
- name: last_updated
  type: date
- name:
  read: 5
- name: quantitative_value_loci
  for: 7
  structure:
    - name: name
- name: selected_id
  type: int
- name:
  read: 7
- name: markers
  while:
    operands:
      - marker_delimiter
      - separator
    operator: ne
    term: marker_term
  structure:
    - name: separator
      type: short
    - name:
      read: 438
- name:
  read: 9
- name: members
  do_while:
    operands:
      - last_id
      - id
    operator: ne
  structure:
    - name: surname
    - name: other_surnames
    - name: forenames
    - name: known_as
    - name: maiden_name
    - name: ethnicity
      structure:
        - name: self
        - name: m_g_mother
        - name: m_g_father
        - name: p_g_mother
        - name: p_g_father
    - name: origins
      structure:
        - name: self
        - name: m_g_mother
        - name: m_g_father
        - name: p_g_mother
        - name: p_g_father
    - name: address
      type: comment
    - name: additional_information
      type: comment
    - name: date_of_birth
      type: date
    - name: date_of_death
      type: date
    - name: sex
      type: sex
    - name: id
      type: int
    - name: pedigree_number
      type: int
    - name: mother_id
      type: int
    - name: father_id
      type: int
    - name: internal_id # Remove?
      type: int
    - name: number_of_individuals
      type: int
    - name: age_gestation
    - name: individual_id
    - name: number_of_spouses
      type: int
    - name: spouses
      for: number_of_spouses
      structure:
        - name: id
          type: int
        - name: flags
          type: relationship
        - name: name
    - name: twin_id
      type: int
    - name: comment
      type: comment
    - name: adoption_type
      type: adoption_type
    - name: genetic_symbols
      type: short
    - name:
      read: 1
    - name: flags
      type: individual
    - name: proband
      type: proband
    - name: x_coordinate
      type: int
    - name: y_coordinate
      type: int
    - name: annotation_1
      type: annotation_1
    - name: multiple_pregnancies
      type: multiple_pregnancies
    - name:
      read: 3
    - name: crossover
      structure:
        - name: allele_1
          structure:
            - name: co
              while:
                operands:
                  - crossover_delimiter
                  - separator
                operator: ne
                term: crossover_term
              structure:
                - name: separator
                  type: short
                - name:
                  read: 10
        - name:
          read: 9
    - name: unknown1
      type: raw
      read: 2
    - name: crossover
      structure:
        - name: allele_2
          structure:
            - name: co
              while:
                operands:
                  - crossover_delimiter
                  - separator
                operator: ne
                term: crossover_term
              structure:
                - name: separator
                  type: short
                - name:
                  read: 10
        - name:
          read: 9
    - name:
      read: 12
    - name: unknown_list
      for: 7
      structure:
        - name:
          read: 24
    - name: annotation_2
      type: annotation_2
    - name: additional_symbols
      type: short
    # NOTE: DNA and BLOOD fields are switched in Cyrillic. i.e., if DNA is
    # selected, the BLOOD_LOCATION field is stored and if BLOOD is
    # selected, the DNA_LOCATION field is stored. This is probably a bug.
    - name: dna_location
      if:
        operands:
          - dna
    - name: blood_location
      if:
        operands:
          - blood
    - name: cells_location
      if:
        operands:
          - cells
    - name: sample
      type: sample
    - name: sample_number
    - name: # colour
      read: 3
    - name:
      read: 17
    - name: # pattern
      read: 2
- name: number_of_unknown_data
  type: int
- name:
  read: 1 # FIXME: 1 should be default.
- name: unknown_data
  for: number_of_unknown_data
  structure:
    - name:
      read: 12
- name: number_of_custom_descriptions
  type: int
- name: genetic_symbols
  for: 19
  structure:
    - name: value
- name: additional_symbols
  for: 4
  structure:
    - name: value
- name: custom_symbols
  for: number_of_custom_descriptions
  structure:
    - name: name
    - name: value
- name:
  read: 14
- name: zoom
  type: int
- name: unknown_1 # Zoom.
  type: raw
  read: 4
- name: unknown_2 # Zoom.
  type: raw
  read: 4
- name:
  read: 20
- name: number_of_text_fields
  type: int
# TODO: x and y coordinates have more digits.
- name: text
  for: number_of_text_fields
  structure:
    - name: comment
    - name:
      read: 54
    - name: x_coordinate
      type: short
    - name:
      read: 3
    - name: y_coordinate
      type: short
    - name:
      read: 7
- name: eof_marker
  type: trim
