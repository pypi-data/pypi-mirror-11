.\"Copying and distribution of this file, with or without modification,
.\"are permitted in any medium without royalty provided the copyright
.\"notice and this notice are preserved.  This file is offered as-is,
.\"without any warranty.
.TH RN 1 "2015-09-24" "v1.0" "Easy multiple renaming"
.SH NAME
.B rn
rename multiple files, directories or extensions
.SH SYNOPSIS 
.BR rn " option"
.RB [ \-\-dir " | " \-\-ext "] [" \-q ]
.I target
.SH DESCRIPTION
.B rn
transforms the names of any number of \fItarget\fR files, directories or
extensions according to the given options and their parameters.
.SH OPTIONS
.\"delete
.TP
.BR \-d " <"\fI:n " | " \fI\-n " | " \fIn:m " | " \fIn: >
Delete the first \fIn\fR characters of the \fItarget\fR names if \fIn\fR is a
positive number preceded by a colon, delete the last \fIn\fR characters if 
\fIn\fR is a negative number, delete all characters from the nth position to 
the mth position when \fIn\fR and \fIm\fR are both positive numbers separated 
by a colon, and delete from the nth character to the end of the \fItarget\fR
names when a positive number \fIn\fR is followed by a colon.
.IP 
Character positions are counted from one, so \fIn\fR must be a non zero 
positive number.
.IP
In the first option (\fI:n\fR), the colon can be omitted.
.\"crop
.TP
.BR \-x " <" \fItext\fR " | " \fItext:\fR " | " \fI:text\fR " | " \fItext1:text2\fR >
.IP
Delete all the appearances of \fItext\fR in the \fItarget\fR names for any
given \fItext\fR, delete from \fItext\fR to the end of the \fItarget\fR names
when \fItext\fR is followed by a colon, delete from the beginning of the
\fItarget\fR names to \fItext\fR when \fItext\fR is preceded by a colon, and
delete from \fItext1\fR to \fItext2\fR when \fItext1\fR and \fItext2\fR are
separated by a colon.
.\"replace
.TP
.BR \-r " " \fIold\fR " " \fInew\fR
Replace all the appearances of \fIold\fR in the \fItarget\fR names with
\fInew\fR.
.\" uppercase
.TP
.B \-u
Change all the \fItarget\fR names to upper case.
.\" lowercase
.TP
.B \-l
Change all the \fItarget\fR names to lower case.
.\" titlecase
.TP
.B \-t
Change all the \fItarget\fR names to title case (all words starting with an
upper case letter).
.\"prefix
.TP
.BR \-p " " \fIprefix\fR
Add \fIprefix\fR at the beginning of the \fItarget\fR names.
.\"suffix
.TP
.BR \-s " " \fIsuffix\fR
Add \fIsuffix\fR at the end of the \fItarget\fR names.
.\"help
.TP
.B \-h
Help. Show a short summary of options.
.\"dir
.TP
.BR \-\-dir
Rename directories.
.\"ext
.TP
.BR \-\-ext
Rename extensions.
.\"quiet
.TP
.B \-q
Quiet option. Will not show the new names and will not not ask for
confirmation before renaming. Error messages will still be shown, though.
.\"target
.TP
.I target
The names or paths of the files or directories to rename. For file extensions, 
the names or paths of the files whose extensions will be renamed.
.IP
As default, \fBrn\fR will rename files. To rename directories or file
extensions use the option \fB--dir\fR or \fB--ext\fR, repectively, before
\fItarget\fR.
.IP
All the wild-cards admitted by the shell, like "*" or "?", are allowed.
.SH EXAMPLES
.TP
Delete the last two characters of all the file names in the current directory:
.IP
$ rn \-d \-2 *
.P
Delete all whitespace characters from all the file names in the current
directory:
.IP
$ rn \-x ' ' *
.P
Delete the word "HDTV" from all the file names with "mpg" extension in the 
current directory:
.IP
$ rn \-x HDTV *.mpg
.P
Delete all the text from "season-" to the end of the file name for all the
files in the directories ~/flying-circus-1 and ~/flying-circus-2:
.IP
$ rn \-x season-: ~/flying-circus-1/* ~/flying-circus-2/*
.P
Replace whitespace characters with hyphens in all the file names found in the
subdirectories below the current directory. Note that \fBrn\fR will replace 
each space with a hyphen, e.g. "one two  " -> "one\-two\-\-".
.IP
$ rn \-r ' ' \- */*
.P
Change all the "JPG" extensions to lower case for all the files in the current
directory:
.IP
$ rn \-l \-\-ext *.JPG
.P
Add the prefix "monty-python-" to the names of three directories (grail, brian
and life):
.IP
$ rn \-p "monty-python-" --dir grail brian life
.SH RECURSIVITY
There is no specific option to recursively rename files through 
subdirectories, but it can still be achieved in two ways:
.TP
- specifying all the paths:
$ rn -l --ext *.JPG */*.JPG */*/*.JPG */*/*/*.JPG
.TP
- combining the \fBfind\fR command (in UNIX like systems) with \fBrn\fR:
$ find . -name *.JPG -exec rn -l --ext -q {} \;
.SH ERROR MESSAGES AND WARNINGS
.TP 
Not matching target!
No file or directory found with that name. Check syntax and for extra
"options" that should not be there that \fBrn\fR could interpret as file 
names.
.TP
Wrong arguments for delete!
The delete option (-d) admits only one argument. If you are trying to specify 
a range like n:m, do not let any whitespace before or after the colon. Use 
crop(-x) to delete characters or words.
.TP
Wrong arguments for crop!
Crop (-x) admits only one argument. A text that may be preceded or followed by
a colon without any whitespace between them.
.TP
Wrong arguments for replace!
Replace admits only two arguments: the old text and the new text with one
whitespace between them.
.TP
Wrong arguments!
Generic error for the rest of options. Check usage.
.TP
No changes!
No file was renamed because the rename option selected had no effect in the
target names, i.e. trying to change to lower case files that are lower case.
.TP
Repeated name(s)!
No file was renamed because, as a result of the renaming operation, some of
the selected files would have had the same name, or would have had the same
name of an already existant file or directory.
.TP
Aborted by user!
No renaming occurred because you answered "no" to the confirmation question.
.TP
I/O error! Check permissions.
A real input/output error occurred in the system or, more probably, you do not
have permission to rename all or part of the \fItarget\fR files.
No file was renamed (not even the ones you had permission to, if any).
.SH BUGS
Unaware of them in version 1.0.
.P
If you find an error, either in the program, or in this manual, please e-mail
the details to the author. Hopefully it will be solved in the next version of
\fBrn\fR.
.SH AUTHOR
Jose M. Casarejos <rn-program at mundo-r dot com>
