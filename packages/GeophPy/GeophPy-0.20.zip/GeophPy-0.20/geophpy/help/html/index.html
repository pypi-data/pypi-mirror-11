<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>GeophPy : Tools for sub-surface geophysical survey data processing &mdash; GeophPy 0.20 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.20',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="GeophPy 0.20 documentation" href="#" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">GeophPy 0.20 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-geophpy">
<span id="geophpy-tools-for-sub-surface-geophysical-survey-data-processing"></span><h1>GeophPy : Tools for sub-surface geophysical survey data processing<a class="headerlink" href="#module-geophpy" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This project was initiated through cooperation between the french CNRS units <a class="reference external" href="http://www.archeorient.mom.fr/recherche-et-activites/ressources-techniques/pole-2/">UMR5133-Archeorient</a> (FR) and <a class="reference external" href="http://www.sisyphe.jussieu.fr/dga/">UMR7619-Metis</a> (FR)</p>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>GeophPy is a python module which aims at building tools to display and process sub-surface geophysics data in the field of archaeology, geology, and other.</p>
<p>The main feature of this module is to build a &#8220;geophysic data set&#8221; composed by series of data values Z in the format (X,Y,Z) with (X,Y) being the point position of the geophysic Z value, to process or display maps of Z values.</p>
<p>This module has been developped to be used in a graphical user interface software, WuMapPy.</p>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Building a data set from one or severals data files.</li>
<li>Displaying geophysicals maps in 2D or 3D Dimensions.</li>
<li>Processing data sets with geophysicals methods.</li>
<li>Compatibility with Python 3.x</li>
</ul>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Download the zip file &#8220;GeophPy-vx.y&#8221; and unzip it.</p>
<p>You can install now GeophPy with this command:</p>
<div class="highlight-console"><div class="highlight"><pre><span class="gp">$</span> python setup.py install
</pre></div>
</div>
<p>WuMapPy and GeophPy are using others python modules. If the installation of one of these modules failed on windows, you can install independently thes modules using this useful web site : <a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/">http://www.lfd.uci.edu/~gohlke/pythonlibs/</a></p>
</div>
<div class="section" id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">geophpy.dataset</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<div class="section" id="opening-files">
<h3>Opening files<a class="headerlink" href="#opening-files" title="Permalink to this headline">¶</a></h3>
<p>You can open files indicating the column number (1...n) of the data set to be processed :</p>
<blockquote>
<div><ul class="simple">
<li>&#8221;.dat&#8221; issued from Geometrics magnetometer G-858 (named &#8216;ascii&#8217; format with &#8216; &#8216; as delimiter):</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">DataSet</span><span class="o">.</span><span class="n">from_file</span><span class="p">([</span><span class="s">&quot;test.dat&quot;</span><span class="p">],</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;ascii&#39;</span><span class="p">,</span>
<span class="go">delimiter=&#39; &#39;)</span>
</pre></div>
</div>
<ul class="simple">
<li>or XYZ files (files with column titles on the first line, and data values on the others, with X and Y in the first two columns, and Z1,...,Zn in the following columns, separated by a delimiter &#8216;t&#8217; &#8216;,&#8217; &#8216;;&#8217;...)</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">DataSet</span><span class="o">.</span><span class="n">from_file</span><span class="p">([</span><span class="s">&quot;test.xyz&quot;</span><span class="p">],</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;ascii&#39;</span><span class="p">,</span>
<span class="go">delimiter=&#39;\t&#39;)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>XYZ file example:</dt>
<dd><table border="1" class="first last docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">X</th>
<th class="head">Y</th>
<th class="head">Z</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>0</td>
<td>0.34</td>
</tr>
<tr class="row-odd"><td>0</td>
<td>1</td>
<td>-0.21</td>
</tr>
<tr class="row-even"><td>0</td>
<td>2</td>
<td>2.45</td>
</tr>
<tr class="row-odd"><td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div></blockquote>
<p>You can easily obtain the list of the available file formats with the command :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span> <span class="o">=</span> <span class="n">fileformat_getlist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="go">[&#39;ascii&#39;]</span>
</pre></div>
</div>
<p>It is possible to build a data set from a concatenation of severals files of the same format :</p>
<blockquote>
<div><ul class="simple">
<li>To open several selected files:</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">DataSet</span><span class="o">.</span><span class="n">from_file</span><span class="p">([</span><span class="s">&quot;abcde.dat&quot;</span><span class="p">,</span><span class="s">&quot;fghij.dat&quot;</span><span class="p">],</span>
<span class="go">              format=&#39;ascii&#39;, delimiter=&#39; &#39;, z_colnum = 5)</span>
</pre></div>
</div>
<ul class="simple">
<li>To open all files &#8221;.dat&#8221; beginning by &#8220;file&#8221;:</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span> <span class="o">=</span> <span class="n">DataSet</span><span class="o">.</span><span class="n">from_file</span><span class="p">([</span><span class="s">&quot;file*.dat&quot;</span><span class="p">],</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;ascii&#39;</span><span class="p">,</span>
<span class="go">              delimiter=&#39; &#39;, z_colnum = 5)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="checking-files-compatibility">
<h3>Checking files compatibility<a class="headerlink" href="#checking-files-compatibility" title="Permalink to this headline">¶</a></h3>
<p>Opening several files to build a data set needs to make sure that all files selected are in the same format.</p>
<p>It&#8217;s possible to check it by reading the headers of each files:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">compatibility</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">columns_nb</span> <span class="o">=</span> <span class="bp">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="nb">file</span> <span class="ow">in</span> <span class="n">fileslist</span> <span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">col_nb</span><span class="p">,</span> <span class="n">rows</span> <span class="o">=</span> <span class="n">getlinesfrom_file</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="k">if</span> <span class="p">((</span><span class="n">columns_nb</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">col_nb</span> <span class="o">!=</span> <span class="n">columns_nb</span><span class="p">))</span> <span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">compatibility</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="k">break</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="k">else</span> <span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">columns_nb</span> <span class="o">=</span> <span class="n">col_nb</span>
</pre></div>
</div>
</div>
<div class="section" id="data-set-description">
<h3>Data set Description<a class="headerlink" href="#data-set-description" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>A data set contains 3 objects:</dt>
<dd><ul class="first last simple">
<li>info.</li>
<li>data.</li>
<li>georef.</li>
</ul>
</dd>
<dt>The &#8220;info&#8221; object contains informations about the data set:</dt>
<dd><ul class="first last simple">
<li>x_min = minimal x coordinate of the data set.</li>
<li>x_max = maximal x coordinate of the data set.</li>
<li>y_min = minimal y coordinate of the data set.</li>
<li>y_max = maximal y coordinate of the data set.</li>
<li>z_min = minimal z value of the data set.</li>
<li>z_max = maximal z value of the data set.</li>
<li>x_gridding_delta = delta between 2 x values in the interpolated image grid.</li>
<li>y_gridding_delta = delta between 2 y values in the interpolated image grid.</li>
<li>gridding_interpolation = interpolation name used for the building of the image grid.</li>
</ul>
</dd>
<dt>The &#8220;data&#8221; object contains :</dt>
<dd><ul class="first simple">
<li>fields = names of the fields (columns) : [&#8216;X&#8217;, &#8216;Y&#8217;, &#8216;Z&#8217;]</li>
<li>values = 2D array of raw values before interpolating (array with (x, y, z) values) : [[0, 0, 0.34], [0, 1, -0.21], [0, 2, 2.45], ...]</li>
<li>z_image = 2D array of current gridded z data values : [[z(x0,y0), z(x1,y0), z(x2,y0), ...], [z(x0,y1), z(x1,y1), z(x2,y1), ...], ...]</li>
</ul>
<p class="last">(Note : the z_image structure is not built after openinf file, but by using gridding interpolation function)</p>
</dd>
<dt>The &#8220;georef&#8221; object contains :</dt>
<dd><ul class="first last simple">
<li>active = True if contains georeferencing informations, False by default.</li>
<li>pt1 = Point number 1 Coordinates, in local and utm referencing (local_x, local_y, utm_easting, utm_northing, utm_zonenumber, utm_zoneletter).</li>
<li>pt2 = Point number 2 Coordinates, in local and utm referencing (local_x, local_y, utm_easting, utm_northing, utm_zonenumber, utm_zoneletter).</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="data-set-operating">
<h3>Data set operating<a class="headerlink" href="#data-set-operating" title="Permalink to this headline">¶</a></h3>
<p>You can duplicate a data set to save, for example, a raw data set before processing it :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">rawdataset</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
<p>After having opened a file, you can interpolate (or not) data, with severals gridding interpolation methods (&#8216;none&#8217;, &#8216;nearest&#8217;, &#8216;linear&#8217;, &#8216;cubic&#8217;) to build z_image structure :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">interpolation</span><span class="o">=</span><span class="s">&quot;none&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>After doing this operation, it&#8217;s easy to see on a same plot the map and the plots (on a grid or not if no gridding interpolation is selected):</p>
<a class="reference internal image-reference" href="_images/figCarto2.PNG"><img alt="_images/figCarto2.PNG" class="align-center" src="_images/figCarto2.PNG" style="width: 50%;" /></a>
</div>
<div class="section" id="data-set-processing">
<h3>Data set processing<a class="headerlink" href="#data-set-processing" title="Permalink to this headline">¶</a></h3>
<div class="section" id="peak-filtering">
<h4>Peak filtering<a class="headerlink" href="#peak-filtering" title="Permalink to this headline">¶</a></h4>
<p>Peak filtering allows to filtering values lower than &#8216;setmin&#8217; and upper than &#8216;setmax&#8217;.
It can replace theses values by &#8216;NaN&#8217; value (if setnan at True), or median value (if setmed at True (and setnan at False)).</p>
</div>
<div class="section" id="median-filtering">
<h4>Median filtering<a class="headerlink" href="#median-filtering" title="Permalink to this headline">¶</a></h4>
<p>Median filtering allows to filtering values lower or upper than a percentage of the meaning of the (nx*ny) grid of points around.</p>
<a class="reference internal image-reference" href="_images/figMedianFilter.PNG"><img alt="_images/figMedianFilter.PNG" class="align-center" src="_images/figMedianFilter.PNG" style="width: 20%;" /></a>
</div>
<div class="section" id="festoon-filtering">
<h4>Festoon filtering<a class="headerlink" href="#festoon-filtering" title="Permalink to this headline">¶</a></h4>
<p>... To Be Developped ...</p>
</div>
<div class="section" id="regional-trend-filtering">
<h4>Regional trend filtering<a class="headerlink" href="#regional-trend-filtering" title="Permalink to this headline">¶</a></h4>
<p>... To Be Developped ...</p>
</div>
<div class="section" id="wallis-filtering">
<h4>Wallis filtering<a class="headerlink" href="#wallis-filtering" title="Permalink to this headline">¶</a></h4>
<p>... To Be Developped ...</p>
</div>
<div class="section" id="plough-filtering">
<h4>Plough filtering<a class="headerlink" href="#plough-filtering" title="Permalink to this headline">¶</a></h4>
<p>... To Be Developped ...</p>
</div>
<div class="section" id="constant-destriping">
<h4>Constant destriping<a class="headerlink" href="#constant-destriping" title="Permalink to this headline">¶</a></h4>
<p>... To Be Developped ...</p>
</div>
<div class="section" id="curve-destriping">
<h4>Curve destriping<a class="headerlink" href="#curve-destriping" title="Permalink to this headline">¶</a></h4>
<p>... To Be Developped ...</p>
</div>
<div class="section" id="logarithmic-transformation">
<h4>Logarithmic transformation<a class="headerlink" href="#logarithmic-transformation" title="Permalink to this headline">¶</a></h4>
<p>Introduction :</p>
<p>This processing is described here : &#8220;Enhancement of magnetic data by logarithmic transformation&#8221;, Bill Morris, Matt Pozza, Joe Boyce and Georges Leblanc - The Leading EDGE August 2001, Vol. 20,Num 8.</p>
<p>Input parameters :</p>
<ul class="simple">
<li>multfactor : it is a multiplying factor of the data (x5, x10, x20, x100).</li>
</ul>
<p>This factor depends on the precision of the data and is in the inverse order of this precision.</p>
</div>
<div class="section" id="pole-reduction">
<h4>Pole Reduction<a class="headerlink" href="#pole-reduction" title="Permalink to this headline">¶</a></h4>
<p>The reduction to the magnetic pole sets the data easy to read and be compared.
This processing calculates the anomaly which be obtained for the full incination of the magnetic field.
It uses a fast fourier series algorithm to work in the spectral range.</p>
<p>Input parameters :</p>
<ul class="simple">
<li>factor of apodisation, to reduce side effects.</li>
<li>inclination angle, angle between the geomagnetic North and the magnetic field measured at the soil surface, in the vertical plane.</li>
<li>alpha angle : it&#8217;s the angle between geomagnetic North and profiles direction, in the horizontal plane.</li>
</ul>
<a class="reference internal image-reference" href="_images/figAnglesRepresentation.PNG"><img alt="_images/figAnglesRepresentation.PNG" class="align-center" src="_images/figAnglesRepresentation.PNG" style="width: 50%;" /></a>
<a class="reference internal image-reference" href="_images/figWindowPoleReduction.PNG"><img alt="_images/figWindowPoleReduction.PNG" class="align-center" src="_images/figWindowPoleReduction.PNG" style="width: 50%;" /></a>
<p>Algorithm :</p>
<img alt="_images/figAlgoPoleReduction.PNG" src="_images/figAlgoPoleReduction.PNG" />
<p>u is the spatial frequency corresponding at the x direction, and v is the spatial frequency corresponding at the y direction.</p>
<ul class="simple">
<li>Filling gaps :</li>
</ul>
<p>To use the fast fourier algorithme, the data set don&#8217;t have to contain gaps or &#8216;NaN&#8217; values (Not A Number).
If the data set grid is not over interpolated, the first step will be profile by profile to fill the gaps using a spline interpolation method.</p>
<p>Apodisation :</p>
<p>It is an operation to attenuate sides effects. The factor of apodisation (0, 5, 10, 15, 20 or 25%) precises the size to extend the data values zone. Values of this extension will be attenuated by a cosinus formula :</p>
<img alt="_images/figApodisation.PNG" src="_images/figApodisation.PNG" />
<p>After processing, the size of the data values zone will become the same than before this apodisation.</p>
</div>
<div class="section" id="continuation">
<h4>Continuation<a class="headerlink" href="#continuation" title="Permalink to this headline">¶</a></h4>
<p>The downward continuation is a solution to reduce spread of anomalies and to correct coalescences calculating the anomaly if measures would be done at a lower level.
The upward continuation allows to smooth data.</p>
<p>Input parameters :</p>
<ul class="simple">
<li>factor of apodisation, to reduce side effects.</li>
<li>Technical of prospection (&#8220;Magnetic field&#8221;, &#8220;Magnetic field gradient&#8221;, Vertical component gradient&#8221;).</li>
<li>Sensors altitudes, relatives to th soil surface.</li>
<li>Continuation value, above or below the soil surface.</li>
</ul>
<a class="reference internal image-reference" href="_images/figWindowContinuation.PNG"><img alt="_images/figWindowContinuation.PNG" class="align-center" src="_images/figWindowContinuation.PNG" style="width: 50%;" /></a>
<p>Algorithm :</p>
<img alt="_images/figAlgoContinuation.PNG" src="_images/figAlgoContinuation.PNG" />
<p>The method of filling gaps or apodisation to reduce side effects are the sames than used in the pole reduction function.</p>
</div>
<div class="section" id="high-level-processing-functions">
<h4>High level processing functions<a class="headerlink" href="#high-level-processing-functions" title="Permalink to this headline">¶</a></h4>
<p>The calling protocol of these functions are describeds in the end of this document, but about the detailed code of these processing functions, it&#8217;s there :</p>
<span class="target" id="module-geophpy.processing.general"></span><div class="section" id="geophpy-processing-general">
<h5>geophpy.processing.general<a class="headerlink" href="#geophpy-processing-general" title="Permalink to this headline">¶</a></h5>
<p>DataSet Object general processing routines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">Copyright 2014 Lionel Darras, Philippe Marty and contributors, see AUTHORS.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">GNU GPL v3.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="geophpy.processing.general.peakfilt">
<code class="descclassname">geophpy.processing.general.</code><code class="descname">peakfilt</code><span class="sig-paren">(</span><em>dataset</em>, <em>setmin=None</em>, <em>setmax=None</em>, <em>setmed=False</em>, <em>setnan=False</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/processing/general.html#peakfilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.processing.general.peakfilt" title="Permalink to this definition">¶</a></dt>
<dd><p>cf. dataset.py</p>
</dd></dl>

<dl class="function">
<dt id="geophpy.processing.general.medianfilt">
<code class="descclassname">geophpy.processing.general.</code><code class="descname">medianfilt</code><span class="sig-paren">(</span><em>dataset</em>, <em>nx=3</em>, <em>ny=3</em>, <em>percent=0</em>, <em>gap=0</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/processing/general.html#medianfilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.processing.general.medianfilt" title="Permalink to this definition">¶</a></dt>
<dd><p>cf. dataset.py</p>
</dd></dl>

<dl class="function">
<dt id="geophpy.processing.general.festoonfilt">
<code class="descclassname">geophpy.processing.general.</code><code class="descname">festoonfilt</code><span class="sig-paren">(</span><em>dataset</em>, <em>method='Pearson'</em>, <em>shift=0</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/processing/general.html#festoonfilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.processing.general.festoonfilt" title="Permalink to this definition">¶</a></dt>
<dd><p>cf. dataset.py</p>
</dd></dl>

<dl class="function">
<dt id="geophpy.processing.general.regtrend">
<code class="descclassname">geophpy.processing.general.</code><code class="descname">regtrend</code><span class="sig-paren">(</span><em>dataset</em>, <em>nx=3</em>, <em>ny=3</em>, <em>method='rel'</em>, <em>component='loc'</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/processing/general.html#regtrend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.processing.general.regtrend" title="Permalink to this definition">¶</a></dt>
<dd><p>cf. dataset.py</p>
</dd></dl>

<dl class="function">
<dt id="geophpy.processing.general.ploughfilt">
<code class="descclassname">geophpy.processing.general.</code><code class="descname">ploughfilt</code><span class="sig-paren">(</span><em>dataset</em>, <em>nx=3</em>, <em>ny=3</em>, <em>apod=0</em>, <em>angle=None</em>, <em>cutoff=None</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/processing/general.html#ploughfilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.processing.general.ploughfilt" title="Permalink to this definition">¶</a></dt>
<dd><p>cf. dataset.py</p>
</dd></dl>

<dl class="function">
<dt id="geophpy.processing.general.destripecon">
<code class="descclassname">geophpy.processing.general.</code><code class="descname">destripecon</code><span class="sig-paren">(</span><em>dataset</em>, <em>Nprof=0</em>, <em>setmin=None</em>, <em>setmax=None</em>, <em>method='add'</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/processing/general.html#destripecon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.processing.general.destripecon" title="Permalink to this definition">¶</a></dt>
<dd><p>cf. dataset.py</p>
</dd></dl>

</div>
<span class="target" id="module-geophpy.processing.magnetism"></span><div class="section" id="geophpy-processing-magnetism">
<h5>geophpy.processing.magnetism<a class="headerlink" href="#geophpy-processing-magnetism" title="Permalink to this headline">¶</a></h5>
<p>DataSet Object general magnetism processing routines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">Copyright 2014 Lionel Darras, Philippe Marty and contributors, see AUTHORS.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">GNU GPL v3.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="geophpy.processing.magnetism.logtransform">
<code class="descclassname">geophpy.processing.magnetism.</code><code class="descname">logtransform</code><span class="sig-paren">(</span><em>dataset</em>, <em>multfactor=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/processing/magnetism.html#logtransform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.processing.magnetism.logtransform" title="Permalink to this definition">¶</a></dt>
<dd><p>To transform the data in logarihtmics values</p>
<p>Parameters :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object to do the treatment</td>
</tr>
<tr class="field-even field"><th class="field-name">Multfactor:</th><td class="field-body">multiplying factor</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geophpy.processing.magnetism.polereduction">
<code class="descclassname">geophpy.processing.magnetism.</code><code class="descname">polereduction</code><span class="sig-paren">(</span><em>dataset</em>, <em>apod=0</em>, <em>inclineangle=65</em>, <em>alphaangle=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/processing/magnetism.html#polereduction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.processing.magnetism.polereduction" title="Permalink to this definition">¶</a></dt>
<dd><p>To reduce at the magnetic pôle from a DataSet Object.</p>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object to do the treatment</td>
</tr>
<tr class="field-even field"><th class="field-name">Apod:</th><td class="field-body">apodisation factor (%), to reduce bord effects</td>
</tr>
<tr class="field-odd field"><th class="field-name">Inclinangle:</th><td class="field-body">incline angle of the magnetic field</td>
</tr>
<tr class="field-even field"><th class="field-name">Alphaangle:</th><td class="field-body">angle of magnetic field and y axe</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geophpy.processing.magnetism.continuation">
<code class="descclassname">geophpy.processing.magnetism.</code><code class="descname">continuation</code><span class="sig-paren">(</span><em>dataset</em>, <em>prosptech</em>, <em>apod</em>, <em>downsensoraltitude</em>, <em>upsensoraltitude</em>, <em>continuationflag</em>, <em>continuationvalue</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/processing/magnetism.html#continuation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.processing.magnetism.continuation" title="Permalink to this definition">¶</a></dt>
<dd><p>Continuation of the magnetic field</p>
<p>Parameters :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object to do the treatment</td>
</tr>
<tr class="field-even field"><th class="field-name">Prosptech:</th><td class="field-body">Prospection technical</td>
</tr>
<tr class="field-odd field"><th class="field-name">Apod:</th><td class="field-body">apodisation factor (%), to reduce bord effects</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Downsensoraltitude:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Altitude of the down magnetic sensor</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Upsensoraltitude:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Altitude of the up magnetic sensor</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Continuationflag:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Continuation flag, False if not continuation</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Continuationvalue:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Continuation altitude, greater than 0 if upper earth ground, lower than 0 else</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<span class="target" id="module-geophpy.operation.general"></span><div class="section" id="geophpy-operation-general">
<h5>geophpy.operation.general<a class="headerlink" href="#geophpy-operation-general" title="Permalink to this headline">¶</a></h5>
<p>DataSet Object general operations routines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">Copyright 2014 Lionel Darras, Philippe Marty and contributors, see AUTHORS.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">GNU GPL v3.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="geophpy.operation.general.apodisation2d">
<code class="descclassname">geophpy.operation.general.</code><code class="descname">apodisation2d</code><span class="sig-paren">(</span><em>val</em>, <em>apodisation_factor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/operation/general.html#apodisation2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.operation.general.apodisation2d" title="Permalink to this definition">¶</a></dt>
<dd><p>2D apodisation, to reduce side effects</p>
<p>Parameters :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Val:</th><td class="field-body">2-Dimension array</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Apodisation_factor:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">apodisation factor in percent (0-25)</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns :</dt>
<dd><ul class="first last simple">
<li>apodisation pixels number in x direction</li>
<li>apodisation pixels number in y direction</li>
<li>enlarged array after apodisation</li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="data-set-plotting">
<h3>Data set plotting<a class="headerlink" href="#data-set-plotting" title="Permalink to this headline">¶</a></h3>
<p>Plot type:</p>
<p>It is possible to plot the data set thanks to several plot types.</p>
<p>To see the plot types available , you can use :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span> <span class="o">=</span> <span class="n">plottype_getlist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="go">[&#39;2D-SURFACE&#39;,&#39;2D-CONTOUR&#39;, &#39;2D-CONTOURF&#39;]</span>
</pre></div>
</div>
<p>Interpolation:</p>
<p>It is possible to plot the data set by choosing several interpolations for the surface display.</p>
<p>To get the plotting interpolations available , you must type:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span> <span class="o">=</span> <span class="n">interpolation_getlist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="go">[&#39;nearest&#39;, &#39;bilinear&#39;, &#39;bicubic&#39;, &#39;spline16&#39;, &#39;sinc&#39;]</span>
</pre></div>
</div>
<p>Color map:</p>
<p>To plot a data set, you have to choose a color map.</p>
<p>To see the color maps available, you type:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cmaplist</span> <span class="o">=</span> <span class="n">colormap_getlist</span><span class="p">(</span><span class="n">creversed</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">cmaplist</span><span class="p">)</span>
<span class="go">[&#39;Blues&#39;, &#39;BrBG&#39;, &#39;BuGn&#39;, &#39;BuPu&#39;, &#39;CMRmap&#39;, &#39;GnBu&#39;, &#39;Greens&#39;, &#39;Greys&#39;,</span>
<span class="go"> &#39;OrRd&#39;, &#39;Oranges&#39;, &#39;PRGn&#39;, &#39;PiYG&#39;, &#39;PuBu&#39;, &#39;PuOr&#39;, &#39;PuRd&#39;,&#39;Purples&#39;,</span>
<span class="go"> &#39;RdBu&#39;,&#39;RdGy&#39;,&#39;RdPu&#39;,&#39;RdYlBu&#39;, &#39;RdYlGn&#39;, &#39;Reds&#39;, &#39;Spectral&#39;, &#39;Wistia&#39;,</span>
<span class="go"> &#39;YlGn&#39;, &#39;YlGnBu&#39;, &#39;YlOrBr&#39;, &#39;YlOrRd&#39;, &#39;afmhot&#39;, &#39;autumn&#39;, &#39;binary&#39;,</span>
<span class="go"> &#39;bone&#39;, &#39;bwr&#39;, &#39;copper&#39;, &#39;gist_earth&#39;, &#39;gist_gray&#39;, &#39;gist_heat&#39;,</span>
<span class="go"> &#39;gist_yarg&#39;, &#39;gnuplot&#39;, &#39;gray&#39;, &#39;hot&#39;, &#39;hsv&#39;, &#39;jet&#39;, &#39;ocean&#39;, &#39;pink&#39;,</span>
<span class="go"> &#39;spectral&#39;, &#39;terrain&#39;]</span>
</pre></div>
</div>
<p>Using the parameter creversed=True, you obtain the same number of color maps but with reversed colors, with a &#8220;_r&#8221; extension:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="n">cmapnb</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">colormap_plot</span><span class="p">(</span><span class="n">cmaplist</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">filename</span><span class="o">=</span><span class="s">&quot;CMAP_&quot;</span> <span class="o">+</span>
<span class="go">        str(i) + &quot;.PNG&quot;)</span>
</pre></div>
</div>
<p>Examples :</p>
<img alt="_images/figColorMap_1.PNG" src="_images/figColorMap_1.PNG" />
<img alt="_images/figColorMap_2.PNG" src="_images/figColorMap_2.PNG" />
<img alt="_images/figColorMap_3.PNG" src="_images/figColorMap_3.PNG" />
<img alt="_images/figColorMap_4.PNG" src="_images/figColorMap_4.PNG" />
<img alt="_images/figColorMap_5.PNG" src="_images/figColorMap_5.PNG" />
<img alt="_images/figColorMap_6.PNG" src="_images/figColorMap_6.PNG" />
<p>or you can build figure and plot objects to display them in a new window:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cm_fig</span> <span class="o">=</span> <span class="bp">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">first_time</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">cmapname</span> <span class="ow">in</span> <span class="n">cmaplist</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">cm_fig</span> <span class="o">=</span> <span class="n">colormap_plot</span><span class="p">(</span><span class="n">cmapname</span><span class="p">,</span> <span class="n">fig</span><span class="o">=</span><span class="n">cm_fig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">if</span> <span class="p">(</span><span class="n">first_time</span> <span class="o">==</span> <span class="bp">True</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">first_time</span> <span class="o">=</span> <span class="bp">False</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">fig</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<p>Histogram:</p>
<p>To adjust the limits of color map you must view the limits of the data set:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">zmin</span><span class="p">,</span> <span class="n">zmax</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">histo_getlimits</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also plot the histogram curve :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">histo_plot</span><span class="p">(</span><span class="s">&quot;histo.PNG&quot;</span><span class="p">,</span> <span class="n">zmin</span><span class="p">,</span> <span class="n">zmax</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="go">    transparent=True)</span>
</pre></div>
</div>
<p>to obtain :</p>
<a class="reference internal image-reference" href="_images/figHisto.PNG"><img alt="_images/figHisto.PNG" class="align-center" src="_images/figHisto.PNG" style="width: 50%;" /></a>
<p>or you can build figure and plot objects to display them in a window:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">h_fig</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">histo_plot</span><span class="p">()</span>
</pre></div>
</div>
<p>Correlation map:</p>
<p>You can plot the correlation map of a dataset :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">correlation_plotmap</span><span class="p">(</span><span class="s">&quot;corrmap.PNG&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">transparent</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>to obtain :</p>
<a class="reference internal image-reference" href="_images/figCorrelationMap.PNG"><img alt="_images/figCorrelationMap.PNG" class="align-center" src="_images/figCorrelationMap.PNG" style="width: 50%;" /></a>
<p>or you can build figure and plot objects to display them in a window:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">h_fig</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">histo_plot</span><span class="p">()</span>
</pre></div>
</div>
<p>Correlation sums:</p>
<p>You can plot the correlation sums of a dataset :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">correlation_plotsum</span><span class="p">(</span><span class="s">&quot;corrsum.PNG&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">transparent</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>to obtain :</p>
<a class="reference internal image-reference" href="_images/figCorrelationSum.PNG"><img alt="_images/figCorrelationSum.PNG" class="align-center" src="_images/figCorrelationSum.PNG" style="width: 50%;" /></a>
<p>Map plotting:</p>
<p>You can plot a data set using one of these plot types:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s">&#39;2D-SURFACE&#39;</span><span class="p">,</span> <span class="s">&#39;gray_r&#39;</span><span class="p">,</span> <span class="n">plot</span><span class="o">.</span><span class="n">PNG</span><span class="p">,</span>
<span class="go">    interpolation=&#39;bilinear&#39;, transparent=True, dpi=400)</span>
</pre></div>
</div>
<p>Examples :</p>
<p>Different plot types (&#8216;2D-SURFACE&#8217;, &#8216;2D-CONTOUR&#8217;, &#8216;2D-CONTOURF&#8217;):</p>
<p>&#8216;2D-SURFACE&#8217; :</p>
<a class="reference internal image-reference" href="_images/figCarto1.PNG"><img alt="_images/figCarto1.PNG" class="align-center" src="_images/figCarto1.PNG" style="width: 50%;" /></a>
<p>&#8216;2D-CONTOUR&#8217; :</p>
<a class="reference internal image-reference" href="_images/figCarto3.PNG"><img alt="_images/figCarto3.PNG" class="align-center" src="_images/figCarto3.PNG" style="width: 50%;" /></a>
<p>Different interpolations for a &#8220;2D-SURFACE&#8221; plot type (&#8216;bilinear&#8217;, &#8216;bicubic&#8217;):</p>
<p>With &#8216;bilinear&#8217; interpolation:</p>
<a class="reference internal image-reference" href="_images/figCarto4.PNG"><img alt="_images/figCarto4.PNG" class="align-center" src="_images/figCarto4.PNG" style="width: 50%;" /></a>
<p>With &#8216;bicubic&#8217; interpolation:</p>
<a class="reference internal image-reference" href="_images/figCarto5.PNG"><img alt="_images/figCarto5.PNG" class="align-center" src="_images/figCarto5.PNG" style="width: 50%;" /></a>
<p>It is possible not to display the color map and axis to import the picture in a SIG software.</p>
</div>
<div class="section" id="data-set-saving">
<h3>Data Set Saving<a class="headerlink" href="#data-set-saving" title="Permalink to this headline">¶</a></h3>
<p>You can save the data set in a file.</p>
<p>For the time being, it&#8217;s only possible to save data in xyz files as it&#8217;s described above:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">save</span><span class="o">.</span><span class="n">csv</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;xyz&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="geographic-positioning-set">
<span id="api"></span><h3>Geographic Positioning Set<a class="headerlink" href="#geographic-positioning-set" title="Permalink to this headline">¶</a></h3>
<p>It&#8217;s possible to open one or several files with geographics coordinates of the geophysics prospection zone :
These files can be ascii files with points positions, or shapefiles.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">geoposset</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gpset</span> <span class="o">=</span> <span class="n">GeoPosSet</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">refsys</span><span class="o">=</span><span class="s">&#39;WGS84&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s">&#39;shapefile&#39;</span><span class="p">,</span>
<span class="go">    [&quot;pt_topo&quot;])</span>
</pre></div>
</div>
<p>You can get so the numbers and list of points :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span> <span class="o">=</span> <span class="n">gpset</span><span class="o">.</span><span class="n">points_getlist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">32.52</span><span class="p">,</span> <span class="mf">34.70</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mf">32.52</span><span class="p">,</span> <span class="mf">34.70</span><span class="p">]]</span>  <span class="c">#with [num, x or lon, y or lat]</span>
</pre></div>
</div>
<p>You can plot them :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">gpset</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/figGps1.PNG"><img alt="_images/figGps1.PNG" class="align-center" src="_images/figGps1.PNG" style="width: 50%;" /></a>
<p>And converting a shapefile in a kml file :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gpset</span><span class="o">.</span><span class="n">to_kml</span><span class="p">(</span><span class="s">&quot;shapefile.kml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>to view the points, lines, and surfaces described in the shapefile, on google earth :</p>
<a class="reference internal image-reference" href="_images/figGps2.PNG"><img alt="_images/figGps2.PNG" class="align-center" src="_images/figGps2.PNG" style="width: 50%;" /></a>
<p>It&#8217;s possible to save theses points into an ascii file (.csv) composed by :</p>
<blockquote>
<div><p>Line 1 : &#8220;&#8216;WGS84&#8217;&#8221;, or &#8220;&#8216;UTM&#8217;, utm_zoneletter, utm_zonenumber&#8221;</p>
<p>Others lines : point_number; longitude; latitude; X; Y</p>
</div></blockquote>
<p>Example :</p>
<blockquote>
<div>WGS84
0;32.52432754649924;34.70609241062902;0.0;0.0
1;32.52387864354049;34.70625596577242;45.0;0.0
2;32.52365816268757;34.70584594601077;45.0;50.0
3;32.52343735426504;34.70543469612403;;             # (X=None, Y=None) =&gt; point not referenced in local positioning</div></blockquote>
<p>It is possible to georeference a data set with at less 4 points.</p>
<p>With the data set georeferenced, it is possible to export the data set in a kml file :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">to_kml</span><span class="p">(</span><span class="s">&#39;2D-SURFACE&#39;</span><span class="p">,</span> <span class="s">&#39;gray_r&#39;</span><span class="p">,</span> <span class="s">&quot;prospection.kml&quot;</span><span class="p">,</span>
<span class="go">    cmmin=-10, cmmax=10, dpi=600)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/figGeoref1.PNG"><img alt="_images/figGeoref1.PNG" class="align-center" src="_images/figGeoref1.PNG" style="width: 50%;" /></a>
<p>Exporting the data set as a raster in a SIG application (as ArcGis, QGis, Grass, ...) is possible with severals picture file format (&#8216;jpg&#8217;, &#8216;png&#8217;, &#8216;tiff&#8217;) :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dataset</span><span class="o">.</span><span class="n">to_raster</span><span class="p">(</span><span class="s">&#39;2D-SURFACE&#39;</span><span class="p">,</span> <span class="s">&#39;gray_r&#39;</span><span class="p">,</span> <span class="s">&quot;prospection.png&quot;</span><span class="p">,</span>
<span class="go">    cmmin=-10, cmmax=10, dpi=600)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/figGeoref2.PNG"><img alt="_images/figGeoref2.PNG" class="align-center" src="_images/figGeoref2.PNG" style="width: 50%;" /></a>
<p>A world file containing positioning informations of the raster is created (&#8216;jgw&#8217; for JPG, &#8216;pgw&#8217; dor PNG, and &#8216;tfw&#8217; for TIFF picture format) with :</p>
<blockquote>
<div><p>Line 1: A: pixel size in the x-direction in map units/pixel</p>
<p>Line 2: D: rotation about y-axis</p>
<p>Line 3: B: rotation about x-axis</p>
<p>Line 4: E: pixel size in the y-direction in map units, almost always negative[3]</p>
<p>Line 5: C: x-coordinate of the center of the upper left pixel</p>
<p>Line 6: F: y-coordinate of the center of the upper left pixel</p>
</div></blockquote>
<p>Example :</p>
<blockquote>
<div><p>0.0062202177595</p>
<p>-0.0190627320737</p>
<p>0.0131914192417</p>
<p>0.00860610262817</p>
<p>660197.8178</p>
<p>3599813.97056</p>
</div></blockquote>
</div>
</div>
<div class="section" id="using-a-graphic-user-interface">
<h2>Using a Graphic User Interface<a class="headerlink" href="#using-a-graphic-user-interface" title="Permalink to this headline">¶</a></h2>
<p>The name of the &#8220;Graphic User Interface&#8221; used has to be mentionned in the &#8220;matplotlibrc&#8221; file:</p>
<p>to use QT4 GUI :</p>
<blockquote>
<div>backend      : Qt4Agg</div></blockquote>
<p>Note : to use QtAgg with PySide module, add :</p>
<blockquote>
<div>backend.qt4  : PySide</div></blockquote>
<p>or to use Tkinter GUI:</p>
<blockquote>
<div>backend      : TkAgg</div></blockquote>
<p>Note:
<a href="#id1"><span class="problematic" id="id2">*</span></a>in Windows environment, this file is in the &#8220;C:\PythonXY\Lib\site-packages\matplotlib\mpl-data&#8221; directory.</p>
<p><a href="#id3"><span class="problematic" id="id4">*</span></a>in Linux environment, this file is in the &#8220;/etc&#8221; directory.</p>
<p>With QT4Agg GUI, you can plot data in a windows :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">geophpy.dataset</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">success</span><span class="p">,</span> <span class="n">dataset</span> <span class="o">=</span> <span class="n">DataSet</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s">&quot;DE11.dat&quot;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">&#39; &#39;</span><span class="p">,</span>
<span class="go">    z_colnum=5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="p">(</span><span class="n">success</span> <span class="o">=</span> <span class="bp">True</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">fig</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s">&#39;2D-SURFACE&#39;</span><span class="p">,</span> <span class="s">&#39;gist_rainbow&#39;</span><span class="p">,</span>
<span class="go">       dpi=600, axisdisplay=True, cmapdisplay=True, cmmin=-10, cmmax=10)</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>to obtain :</p>
<a class="reference internal image-reference" href="_images/figGraphUserInterface.PNG"><img alt="_images/figGraphUserInterface.PNG" class="align-center" src="_images/figGraphUserInterface.PNG" style="width: 50%;" /></a>
<p>You can also plot data in a windows with several color maps :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">geophpy.dataset</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="c"># to get the list of color maps availables</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span> <span class="o">=</span> <span class="n">colormap_getlist</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">first</span> <span class="o">=</span> <span class="bp">True</span>                            <span class="c"># first plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="bp">None</span>                              <span class="c"># no previous figure</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cmap</span> <span class="o">=</span> <span class="bp">None</span>                             <span class="c"># no previous color map</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">success</span><span class="p">,</span> <span class="n">dataset</span> <span class="o">=</span> <span class="n">DataSet</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s">&quot;DE11.dat&quot;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">&#39; &#39;</span><span class="p">,</span>
<span class="go">    z_colnum=5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="p">(</span><span class="n">success</span> <span class="o">==</span> <span class="bp">True</span><span class="p">):</span>                   <span class="c"># if file opened</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="c"># for each color map name in the list</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="k">for</span> <span class="n">colormapname</span> <span class="ow">in</span> <span class="nb">list</span> <span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">fig</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s">&#39;2D-SURFACE&#39;</span><span class="p">,</span> <span class="s">&#39;gist_rainbow&#39;</span><span class="p">,</span>
<span class="go">           dpi=600, axisdisplay=True, cmapdisplay=True, cmmin=-10,</span>
<span class="go">           cmmax=10)</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="k">if</span> <span class="p">(</span><span class="n">first</span> <span class="o">==</span> <span class="bp">True</span><span class="p">):</span>              <span class="c"># if first plot</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                    <span class="c"># displays figure windows</span>
<span class="gp">&gt;&gt;&gt; </span>          <span class="n">first</span> <span class="o">=</span> <span class="bp">False</span>                 <span class="c"># one time only</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="c"># updates the plot in the figure windows</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">p</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="c"># removes it to display the next</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">cmap</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="c"># waits 3 seconds before display the plot</span>
<span class="gp">&gt;&gt;&gt; </span>                <span class="c"># with the next color map</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="module-geophpy.dataset">
<span id="high-level-api"></span><h2>High level API<a class="headerlink" href="#module-geophpy.dataset" title="Permalink to this headline">¶</a></h2>
<div class="section" id="geophpy-dataset">
<h3>GeophPy.dataset<a class="headerlink" href="#geophpy-dataset" title="Permalink to this headline">¶</a></h3>
<p>DataSet Object constructor and methods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">Copyright 2014 Lionel Darras, Philippe Marty and contributors, see AUTHORS.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">GNU GPL v3.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="geophpy.dataset.getlinesfrom_file">
<code class="descclassname">geophpy.dataset.</code><code class="descname">getlinesfrom_file</code><span class="sig-paren">(</span><em>filename</em>, <em>fileformat=None</em>, <em>delimiter='\t'</em>, <em>skipinitialspace=True</em>, <em>skiprowsnb=0</em>, <em>rowsnb=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#getlinesfrom_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.getlinesfrom_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads lines in a file.</p>
<p>Parameters :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Fileformat:</th><td class="field-body">file format</td>
</tr>
<tr class="field-even field"><th class="field-name">Filename:</th><td class="field-body">file name with extension to read, &#8220;test.dat&#8221; for example.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Delimiter:</th><td class="field-body">delimiter between fields, tabulation by default.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Skipinitialspace:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">if True, considers severals delimiters as only one : &#8221;            &#8221; as &#8216;  &#8216;.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Skiprowsnb:</th><td class="field-body">number of rows to skip to get lines.</td>
</tr>
<tr class="field-even field"><th class="field-name">Rowsnb:</th><td class="field-body">number of the rows to read, 1 by default.</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Colsnb:</th><td class="field-body">number of columns in all rows, 0 if rows have different number of columns</td>
</tr>
<tr class="field-even field"><th class="field-name">Rows:</th><td class="field-body">rows.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geophpy.dataset.fileformat_getlist">
<code class="descclassname">geophpy.dataset.</code><code class="descname">fileformat_getlist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#fileformat_getlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.fileformat_getlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of format files availables</p>
<p>Returns: list of file formats availables, [&#8216;ascii&#8217;, ...]</p>
</dd></dl>

<dl class="function">
<dt id="geophpy.dataset.plottype_getlist">
<code class="descclassname">geophpy.dataset.</code><code class="descname">plottype_getlist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#plottype_getlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.plottype_getlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of plot type availables</p>
<p>Returns : list of plot type availables, [&#8216;2D_SURFACE&#8217;, &#8216;2D_CONTOUR&#8217;, ...]</p>
</dd></dl>

<dl class="function">
<dt id="geophpy.dataset.interpolation_getlist">
<code class="descclassname">geophpy.dataset.</code><code class="descname">interpolation_getlist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#interpolation_getlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.interpolation_getlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of interpolation methods availables</p>
<p>Returns : list of interpolation methods availables, [&#8216;bilinear&#8217;, &#8216;bicubic&#8217;, ...]</p>
</dd></dl>

<dl class="function">
<dt id="geophpy.dataset.colormap_getlist">
<code class="descclassname">geophpy.dataset.</code><code class="descname">colormap_getlist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#colormap_getlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.colormap_getlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Getting the colormap list.</p>
<p>Returns : list of colormap availables, [&#8216;gray&#8217;, ...]</p>
</dd></dl>

<dl class="function">
<dt id="geophpy.dataset.colormap_plot">
<code class="descclassname">geophpy.dataset.</code><code class="descname">colormap_plot</code><span class="sig-paren">(</span><em>cmname</em>, <em>creversed=None</em>, <em>fig=None</em>, <em>filename=None</em>, <em>dpi=None</em>, <em>transparent=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#colormap_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.colormap_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the colormap.</p>
<p>Parameters :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Cmname:</th><td class="field-body">Name of the colormap, &#8216;gray_r&#8217; for example.</td>
</tr>
<tr class="field-even field"><th class="field-name">Creversed:</th><td class="field-body">True to add &#8216;_r&#8217; at the cmname to reverse the color map</td>
</tr>
<tr class="field-odd field"><th class="field-name">Fig:</th><td class="field-body">figure to plot, None by default to create a new figure.</td>
</tr>
<tr class="field-even field"><th class="field-name">Filename:</th><td class="field-body">Name of the color map file to save, None if no file to save.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Dpi:</th><td class="field-body">&#8216;dot per inch&#8217; definition of the picture file if filename != None</td>
</tr>
<tr class="field-even field"><th class="field-name">Transparent:</th><td class="field-body">True to manage the transparency.</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Fig:</th><td class="field-body">Figure Object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geophpy.dataset.pictureformat_getlist">
<code class="descclassname">geophpy.dataset.</code><code class="descname">pictureformat_getlist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#pictureformat_getlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.pictureformat_getlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of pictures format availables</p>
<p>Returns: list of picture formats availables, [&#8216;jpg&#8217;, &#8216;png&#8217;, ...]</p>
</dd></dl>

<dl class="function">
<dt id="geophpy.dataset.rasterformat_getlist">
<code class="descclassname">geophpy.dataset.</code><code class="descname">rasterformat_getlist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#rasterformat_getlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.rasterformat_getlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of raster format files availables</p>
<p>Returns : list of raster file formats availables, [&#8216;jpg&#8217;, &#8216;png&#8217;, ...]</p>
</dd></dl>

<dl class="function">
<dt id="geophpy.dataset.correlmap">
<code class="descclassname">geophpy.dataset.</code><code class="descname">correlmap</code><span class="sig-paren">(</span><em>dataset</em>, <em>method</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#correlmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.correlmap" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>To compute the correlation map from an image :</dt>
<dd><ul class="first last simple">
<li>each profile (from the input list) is incrementally shifted and correlation coefficient computed against neighbouring profiles for each shift value</li>
<li>profiles are considered to be vertical, and the shift performed along the profile (hence vertically)</li>
<li>the correlation map size is then &#8220;twice the image vertical size&#8221; (shift may vary from -ymax to +ymax) by &#8220;number of profiles&#8221; (correlation is computed for each column listed in input)</li>
</ul>
</dd>
</dl>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object containing the Z-image to be correl-mapped</td>
</tr>
<tr class="field-even field"><th class="field-name">Cols:</th><td class="field-body">column numbers (1D array) of the image profiles to be correlated</td>
</tr>
<tr class="field-odd field"><th class="field-name">Method:</th><td class="field-body">correlation method to use (from festooncorrelation_getlist())</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Cor1:</th><td class="field-body">correlation map (shape = (2*zimg.shape[0]-1 , cols.size))</td>
</tr>
<tr class="field-even field"><th class="field-name">Pva1:</th><td class="field-body">weight map (see correlation functions description)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="geophpy.dataset.griddinginterpolation_getlist">
<code class="descclassname">geophpy.dataset.</code><code class="descname">griddinginterpolation_getlist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#griddinginterpolation_getlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.griddinginterpolation_getlist" title="Permalink to this definition">¶</a></dt>
<dd><p>To get the list of available gridding interpolation methods.</p>
</dd></dl>

<dl class="function">
<dt id="geophpy.dataset.festooncorrelation_getlist">
<code class="descclassname">geophpy.dataset.</code><code class="descname">festooncorrelation_getlist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#festooncorrelation_getlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.festooncorrelation_getlist" title="Permalink to this definition">¶</a></dt>
<dd><p>To get the list of available festoon correlation methods.</p>
</dd></dl>

</div>
<dl class="class">
<dt id="geophpy.dataset.DataSet">
<em class="property">class </em><code class="descclassname">geophpy.dataset.</code><code class="descname">DataSet</code><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a DataSet Object to process and display data.</p>
<p>info = Info()
data = Data()
georef = GeoRefSystem()</p>
<dl class="method">
<dt id="geophpy.dataset.DataSet.continuation">
<code class="descname">continuation</code><span class="sig-paren">(</span><em>prosptech</em>, <em>apod=0</em>, <em>downsensoraltitude=0.3</em>, <em>upsensoraltitude=1.0</em>, <em>continuationflag=False</em>, <em>continuationvalue=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.continuation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.continuation" title="Permalink to this definition">¶</a></dt>
<dd><p>Continuation of the magnetic field</p>
<p>Parameters :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Prosptech:</th><td class="field-body">Prospection technical</td>
</tr>
<tr class="field-even field"><th class="field-name">Apod:</th><td class="field-body">apodisation factor, to limit side effects</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Downsensoraltitude:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Altitude of the down magnetic sensor</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Upsensoraltitude:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Altitude of the upper magnetic sensor</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Continuationflag:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Continuation flag, False if not continuation</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Continuationaltitude:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Continuation altitude, greater than 0 if upper earth ground, lower than 0 else</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>To duplicate a DataSet Object.</p>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object to duplicate</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Newdataset:</th><td class="field-body">duplicated DataSet Object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.destripecon">
<code class="descname">destripecon</code><span class="sig-paren">(</span><em>Nprof=0</em>, <em>setmin=None</em>, <em>setmax=None</em>, <em>method='add'</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.destripecon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.destripecon" title="Permalink to this definition">¶</a></dt>
<dd><p>To destripe a DataSet Object by a constant (Zero Mean Traverse)</p>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object to be destriped</td>
</tr>
<tr class="field-even field"><th class="field-name">Nprof:</th><td class="field-body">number of profiles over which to compute the mean of reference ; if set to 0 (default), compute the mean over the whole data</td>
</tr>
<tr class="field-odd field"><th class="field-name">Setmin:</th><td class="field-body">while computing the mean, do not take into account data values lower than setmin</td>
</tr>
<tr class="field-even field"><th class="field-name">Setmax:</th><td class="field-body">while computing the mean, do not take into account data values greater than setmax</td>
</tr>
<tr class="field-odd field"><th class="field-name">Method:</th><td class="field-body">if set to &#8220;add&#8221; (default), destriping is done additively ; if set to &#8220;mult&#8221;, it is done multiplicatively</td>
</tr>
<tr class="field-even field"><th class="field-name">Valfilt:</th><td class="field-body">if set to True, then filters data.values instead of data.zimage</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.festoonfilt">
<code class="descname">festoonfilt</code><span class="sig-paren">(</span><em>method='Pearson'</em>, <em>shift=0</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.festoonfilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.festoonfilt" title="Permalink to this definition">¶</a></dt>
<dd><p>To filter festoon-like artefacts out of DataSet Object</p>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object to be filtered</td>
</tr>
<tr class="field-even field"><th class="field-name">Method:</th><td class="field-body">correlation method to use (from festooncorrelation_getlist())</td>
</tr>
<tr class="field-odd field"><th class="field-name">Shift:</th><td class="field-body">systematic shift value (in pixels) to apply ; if shift=0 then the shift value will be determined for each profile by correlation with neighbours</td>
</tr>
<tr class="field-even field"><th class="field-name">Valfilt:</th><td class="field-body">if set to True, then filters data.values instead of data.zimage</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Shift:</th><td class="field-body">shift value, modified if shift=0 in input parameter</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="geophpy.dataset.DataSet.from_file">
<em class="property">static </em><code class="descname">from_file</code><span class="sig-paren">(</span><em>filenameslist</em>, <em>fileformat=None</em>, <em>delimiter='\t'</em>, <em>x_colnum=1</em>, <em>y_colnum=2</em>, <em>z_colnum=3</em>, <em>skipinitialspace=True</em>, <em>skip_rows=1</em>, <em>fields_row=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>To build a DataSet Object from a file.</p>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Filenameslist:</th><td class="field-body">list of files to open
[&#8216;file1.xyz&#8217;, &#8216;file2.xyz&#8217; ...]
or
[&#8216;file*.xyz&#8217;] to open all files with filename beginning by &#8220;file&#8221; and ending by &#8221;.xyz&#8221;</td>
</tr>
<tr class="field-even field"><th class="field-name">Fileformat:</th><td class="field-body">format of files to open (None by default implies automatic determination from filename extension)</td>
</tr>
</tbody>
</table>
<p>Note: all files must have the same format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Delimiter:</th><td class="field-body">pattern delimitting fields within one line (e.g. &#8216;    &#8216;, &#8216;,&#8217;, &#8216;;&#8217; ...)</td>
</tr>
<tr class="field-even field"><th class="field-name">X_colnum:</th><td class="field-body">column number of the X coordinate of the profile (1 by default)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Y_colnum:</th><td class="field-body">column number of the Y coordinate inside the profile (2 by default)</td>
</tr>
<tr class="field-even field"><th class="field-name">Z_colnum:</th><td class="field-body">column number of the measurement profile (3 by default)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Skipinitialspace:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if True, several contiguous delimiters are equivalent to one</td>
</tr>
<tr class="field-even field"><th class="field-name">Skip_rows:</th><td class="field-body">number of rows to skip at the beginning of the file, i.e. to skip header rows (1 by default)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Fields_row:</th><td class="field-body">row number where to read the field names ; if -1 then default field names will be &#8220;X&#8221;, &#8220;Y&#8221; and &#8220;Z&#8221;</td>
</tr>
</tbody>
</table>
<p>Returns:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Success:</th><td class="field-body">true if DataSet Object built, false if not</td>
</tr>
<tr class="field-even field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object build from file(s) (empty if any error)</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<p>success, dataset = DataSet.from_file(&#8220;file.csv&#8221;)</p>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.histo_getlimits">
<code class="descname">histo_getlimits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.histo_getlimits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.histo_getlimits" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the limits values.</p>
<p>Returns : zmin, zmax</p>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.histo_plot">
<code class="descname">histo_plot</code><span class="sig-paren">(</span><em>fig=None</em>, <em>filename=None</em>, <em>zmin=None</em>, <em>zmax=None</em>, <em>dpi=None</em>, <em>transparent=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.histo_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.histo_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot histogram.</p>
<p>Parameters :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Fig:</th><td class="field-body">figure to plot, None by default to create a new figure.</td>
</tr>
<tr class="field-even field"><th class="field-name">Filename:</th><td class="field-body">Name of the histogram file to save, None if no file to save.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Zmin:</th><td class="field-body">Minimal Z value to represent.</td>
</tr>
<tr class="field-even field"><th class="field-name">Zmax:</th><td class="field-body">Maximal Z value to represent.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Dpi:</th><td class="field-body">&#8216;dot per inch&#8217; definition of the picture file if filename != None</td>
</tr>
<tr class="field-even field"><th class="field-name">Transparent:</th><td class="field-body">True to manage the transparency.</td>
</tr>
</tbody>
</table>
<p>Returns :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Fig:</th><td class="field-body">Figure Object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.logtransform">
<code class="descname">logtransform</code><span class="sig-paren">(</span><em>multfactor=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.logtransform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.logtransform" title="Permalink to this definition">¶</a></dt>
<dd><p>To transform the data in logarihtmics values</p>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object to be treated</td>
</tr>
<tr class="field-even field"><th class="field-name">Multfactor:</th><td class="field-body">multiply factor</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.medianfilt">
<code class="descname">medianfilt</code><span class="sig-paren">(</span><em>nx=3</em>, <em>ny=3</em>, <em>percent=0</em>, <em>gap=0</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.medianfilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.medianfilt" title="Permalink to this definition">¶</a></dt>
<dd><p>To process a DataSet Object with a median filter</p>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">Dataset Object to process</td>
</tr>
<tr class="field-even field"><th class="field-name">Nx:</th><td class="field-body">filter size in x coordinate</td>
</tr>
<tr class="field-odd field"><th class="field-name">Ny:</th><td class="field-body">filter size in y coordinate</td>
</tr>
<tr class="field-even field"><th class="field-name">Percent:</th><td class="field-body">deviation (in percents) from the median value (for absolute field measurements)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Gap:</th><td class="field-body">deviation (in raw units) from the median value (for relative anomaly measurements)</td>
</tr>
<tr class="field-even field"><th class="field-name">Valfilt:</th><td class="field-body">if set to True, then filters data.values instead of data.zimage</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.peakfilt">
<code class="descname">peakfilt</code><span class="sig-paren">(</span><em>setmin=None</em>, <em>setmax=None</em>, <em>setmed=False</em>, <em>setnan=False</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.peakfilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.peakfilt" title="Permalink to this definition">¶</a></dt>
<dd><p>To eliminate peaks from a DataSet Object.</p>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object to eliminate peaks from</td>
</tr>
<tr class="field-even field"><th class="field-name">Setmin:</th><td class="field-body">minimal threshold value</td>
</tr>
<tr class="field-odd field"><th class="field-name">Setmax:</th><td class="field-body">maximal threshold value</td>
</tr>
<tr class="field-even field"><th class="field-name">Setmed:</th><td class="field-body">if set to True, then values beyond threshold are replaced by a median instead of the threshold value ; the median is computed ...TBD...</td>
</tr>
<tr class="field-odd field"><th class="field-name">Setnan:</th><td class="field-body">if set to True, then values beyond thresholds are replaced by nan instead of the threshold value</td>
</tr>
</tbody>
</table>
<p>Note: if both &#8220;setnan&#8221; and &#8220;setmed&#8221; are True at the same time, then &#8220;nan&#8221; prevails</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Valfilt:</th><td class="field-body">if set to True, then filters data.values instead of data.zimage</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>plottype</em>, <em>cmapname</em>, <em>creversed=False</em>, <em>fig=None</em>, <em>filename=None</em>, <em>cmmin=None</em>, <em>cmmax=None</em>, <em>interpolation='bilinear'</em>, <em>cmapdisplay=True</em>, <em>axisdisplay=True</em>, <em>pointsdisplay=False</em>, <em>dpi=None</em>, <em>transparent=False</em>, <em>logscale=False</em>, <em>rects=None</em>, <em>points=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot in 2D or 3D dimensions the cartography representation.</p>
<p>Parameters :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Plottype:</th><td class="field-body">plotting type, &#8216;2D-SURFACE&#8217;, &#8216;2D-CONTOUR&#8217;, ...</td>
</tr>
<tr class="field-even field"><th class="field-name">Cmapname:</th><td class="field-body">name of the color map used, &#8216;gray_r&#8217; for example.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Creversed:</th><td class="field-body">True to add &#8216;_r&#8217; at the cmname to reverse the color map</td>
</tr>
<tr class="field-even field"><th class="field-name">Fig:</th><td class="field-body">figure to plot, None by default to create a new figure.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Filename:</th><td class="field-body">name of the picture file to save, None if no file to save.</td>
</tr>
<tr class="field-even field"><th class="field-name">Cmmin:</th><td class="field-body">minimal value to display in the color map range.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Cmmax:</th><td class="field-body">maximal value to display in the color map range.</td>
</tr>
<tr class="field-even field"><th class="field-name">Interpolation:</th><td class="field-body">interpolation mode to display DataSet Image (&#8216;bilinear&#8217;, &#8216;bicubic&#8217;, &#8216;spline16&#8217;, ...), &#8216;bilinear&#8217; by default.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Cmapdisplay:</th><td class="field-body">True to display color map bar, False to hide the color map bar.</td>
</tr>
<tr class="field-even field"><th class="field-name">Axisdisplay:</th><td class="field-body">True to display axis and labels, False to hide axis and labels</td>
</tr>
<tr class="field-odd field"><th class="field-name">Pointsdisplay:</th><td class="field-body">True to display grid points, False to not display them.</td>
</tr>
<tr class="field-even field"><th class="field-name">Dpi:</th><td class="field-body">&#8216;dot per inch&#8217; definition of the picture file if filename != None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Transparent:</th><td class="field-body">True to manage the transparency for the zones of lack of data</td>
</tr>
<tr class="field-even field"><th class="field-name">Logscale:</th><td class="field-body">True to display with the log scale</td>
</tr>
<tr class="field-odd field"><th class="field-name">Rects:</th><td class="field-body">[[x0, y0, w0, h0], [x1, y1, w1, h1], ...], None if no selection rectangles to display</td>
</tr>
</tbody>
</table>
<p>Returns : fig, plt, cmap.   None, None, None if filename with a wrong picture format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Fig:</th><td class="field-body">Figure Object</td>
</tr>
<tr class="field-even field"><th class="field-name">Cmap:</th><td class="field-body">ColorMap Object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.ploughfilt">
<code class="descname">ploughfilt</code><span class="sig-paren">(</span><em>nx=3</em>, <em>ny=3</em>, <em>apod=0</em>, <em>angle=None</em>, <em>cutoff=None</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.ploughfilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.ploughfilt" title="Permalink to this definition">¶</a></dt>
<dd><p>To apply anti-ploughing filter to a DataSet Object</p>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object to be filtered</td>
</tr>
<tr class="field-even field"><th class="field-name">Nx:</th><td class="field-body">filter size in x coordinate</td>
</tr>
<tr class="field-odd field"><th class="field-name">Ny:</th><td class="field-body">filter size in y coordinate</td>
</tr>
<tr class="field-even field"><th class="field-name">Apod:</th><td class="field-body">apodisation factor (percent)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Angle:</th><td class="field-body">...TBD... float/degrees</td>
</tr>
<tr class="field-even field"><th class="field-name">Cutoff:</th><td class="field-body">...TBD... float/frequency</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valfilt:</th><td class="field-body">if set to True, then filters data.values instead of data.zimage</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.polereduction">
<code class="descname">polereduction</code><span class="sig-paren">(</span><em>apod=0</em>, <em>inclineangle=65</em>, <em>alphaangle=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.polereduction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.polereduction" title="Permalink to this definition">¶</a></dt>
<dd><p>To do a reduction at the pole of DataSet Object</p>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Apod:</th><td class="field-body">apodisation factor, to limit side effects</td>
</tr>
<tr class="field-even field"><th class="field-name">Inclineangle:</th><td class="field-body">magnetic field incline</td>
</tr>
<tr class="field-odd field"><th class="field-name">Alphaangle:</th><td class="field-body">magnetic field alpha angle</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.regtrend">
<code class="descname">regtrend</code><span class="sig-paren">(</span><em>nx=3</em>, <em>ny=3</em>, <em>method='rel'</em>, <em>component='loc'</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.regtrend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.regtrend" title="Permalink to this definition">¶</a></dt>
<dd><p>To filter a DataSet Object from its regional trend</p>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object to be filtered</td>
</tr>
<tr class="field-even field"><th class="field-name">Nx:</th><td class="field-body">filter size in x coordinate</td>
</tr>
<tr class="field-odd field"><th class="field-name">Ny:</th><td class="field-body">filter size in y coordinate</td>
</tr>
<tr class="field-even field"><th class="field-name">Method:</th><td class="field-body">set to &#8220;rel&#8221; to filter by relative value (resistivity) or to &#8220;abs&#8221; to filter by absolute value (magnetic field)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Component:</th><td class="field-body">set to &#8220;loc&#8221; to keep the local variations or to &#8220;reg&#8221; to keep regional variations</td>
</tr>
<tr class="field-even field"><th class="field-name">Valfilt:</th><td class="field-body">if set to True, then filters data.values instead of data.zimage</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.to_file">
<code class="descname">to_file</code><span class="sig-paren">(</span><em>filename</em>, <em>fileformat=None</em>, <em>delimiter='\t'</em>, <em>description=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.to_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.to_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a DataSet Object to a file.</p>
<p>Parameters :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Filename:</th><td class="field-body">name of file to save.</td>
</tr>
<tr class="field-even field"><th class="field-name">Fileformat:</th><td class="field-body">format of output file ...</td>
</tr>
<tr class="field-odd field"><th class="field-name">Delimiter:</th><td class="field-body">delimiter between fields in a line of the output file, &#8216;      &#8216;, &#8216;,&#8217;, &#8216;;&#8217;, ...</td>
</tr>
</tbody>
</table>
<p>Returns :</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Success:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="geophpy.dataset.DataSet.wallisfilt">
<code class="descname">wallisfilt</code><span class="sig-paren">(</span><em>nx=3</em>, <em>ny=3</em>, <em>setmean=None</em>, <em>setstdev=None</em>, <em>setgain=None</em>, <em>limit=None</em>, <em>edgefactor=None</em>, <em>valfilt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geophpy/dataset.html#DataSet.wallisfilt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#geophpy.dataset.DataSet.wallisfilt" title="Permalink to this definition">¶</a></dt>
<dd><p>To apply Wallis filter to a DataSet Object</p>
<p>Parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Dataset:</th><td class="field-body">DataSet Object to be filtered</td>
</tr>
<tr class="field-even field"><th class="field-name">Nx:</th><td class="field-body">filter size in x coordinate</td>
</tr>
<tr class="field-odd field"><th class="field-name">Ny:</th><td class="field-body">filter size in y coordinate</td>
</tr>
<tr class="field-even field"><th class="field-name">Setmean:</th><td class="field-body">...TBD... float</td>
</tr>
<tr class="field-odd field"><th class="field-name">Setstdev:</th><td class="field-body">...TBD... float</td>
</tr>
<tr class="field-even field"><th class="field-name">Setgain:</th><td class="field-body">...TBD... float</td>
</tr>
<tr class="field-odd field"><th class="field-name">Limit:</th><td class="field-body">...TBD... float</td>
</tr>
<tr class="field-even field"><th class="field-name">Edgefactor:</th><td class="field-body">...TBD... float{0..1}</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valfilt:</th><td class="field-body">if set to True, then filters data.values instead of data.zimage</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="feedback-contribute">
<h2>Feedback &amp; Contribute<a class="headerlink" href="#feedback-contribute" title="Permalink to this headline">¶</a></h2>
<p>Your feedback is more than welcome.</p>
<p>Write email to <a class="reference external" href="mailto:lionel&#46;darras&#37;&#52;&#48;mom&#46;fr">lionel<span>&#46;</span>darras<span>&#64;</span>mom<span>&#46;</span>fr</a> or <a class="reference external" href="mailto:philippe&#46;marty&#37;&#52;&#48;upmc&#46;fr">philippe<span>&#46;</span>marty<span>&#64;</span>upmc<span>&#46;</span>fr</a></p>
</div>
<div class="section" id="changelog">
<h2>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h2>
<div class="section" id="version-0-20">
<h3>Version 0.20<a class="headerlink" href="#version-0-20" title="Permalink to this headline">¶</a></h3>
<p>Released on 2015-09-10</p>
<ul class="simple">
<li>Initial version.</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="#">
              <img class="logo" src="_static/geophpy-square.png" alt="Logo"/>
            </a></p><h3>Useful Links</h3>
<ul>
  <li><a href="http://pypi.python.org/pypi/GeophPy">
    GeophPy @ PyPI</a></li>
  <li><a href="http://134.157.44.234/GeophPy.pdf">
    PDF Manual</a></li>
</ul>

<h3 style="margin-top: 1.5em;">Search</h3>
<form class="search" action="search.html" method="get">
  <input type="text" name="q">
  <input type="submit" value="Go">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<p class="searchtip" style="font-size: 90%">
Enter search terms or a module, class or function name.
</p>
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">GeophPy : Tools for sub-surface geophysical survey data processing</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#quick-start">Quick Start</a><ul>
<li><a class="reference internal" href="#opening-files">Opening files</a></li>
<li><a class="reference internal" href="#checking-files-compatibility">Checking files compatibility</a></li>
<li><a class="reference internal" href="#data-set-description">Data set Description</a></li>
<li><a class="reference internal" href="#data-set-operating">Data set operating</a></li>
<li><a class="reference internal" href="#data-set-processing">Data set processing</a><ul>
<li><a class="reference internal" href="#peak-filtering">Peak filtering</a></li>
<li><a class="reference internal" href="#median-filtering">Median filtering</a></li>
<li><a class="reference internal" href="#festoon-filtering">Festoon filtering</a></li>
<li><a class="reference internal" href="#regional-trend-filtering">Regional trend filtering</a></li>
<li><a class="reference internal" href="#wallis-filtering">Wallis filtering</a></li>
<li><a class="reference internal" href="#plough-filtering">Plough filtering</a></li>
<li><a class="reference internal" href="#constant-destriping">Constant destriping</a></li>
<li><a class="reference internal" href="#curve-destriping">Curve destriping</a></li>
<li><a class="reference internal" href="#logarithmic-transformation">Logarithmic transformation</a></li>
<li><a class="reference internal" href="#pole-reduction">Pole Reduction</a></li>
<li><a class="reference internal" href="#continuation">Continuation</a></li>
<li><a class="reference internal" href="#high-level-processing-functions">High level processing functions</a><ul>
<li><a class="reference internal" href="#geophpy-processing-general">geophpy.processing.general</a></li>
<li><a class="reference internal" href="#geophpy-processing-magnetism">geophpy.processing.magnetism</a></li>
<li><a class="reference internal" href="#geophpy-operation-general">geophpy.operation.general</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#data-set-plotting">Data set plotting</a></li>
<li><a class="reference internal" href="#data-set-saving">Data Set Saving</a></li>
<li><a class="reference internal" href="#geographic-positioning-set">Geographic Positioning Set</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-a-graphic-user-interface">Using a Graphic User Interface</a></li>
<li><a class="reference internal" href="#module-geophpy.dataset">High level API</a><ul>
<li><a class="reference internal" href="#geophpy-dataset">GeophPy.dataset</a></li>
</ul>
</li>
<li><a class="reference internal" href="#feedback-contribute">Feedback &amp; Contribute</a></li>
<li><a class="reference internal" href="#changelog">Changelog</a><ul>
<li><a class="reference internal" href="#version-0-20">Version 0.20</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">GeophPy 0.20 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Lionel Darras &amp; Philippe Marty.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3b2.
    </div>
  </body>
</html>