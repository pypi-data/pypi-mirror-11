<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4.4. steelscript.common.connection &mdash; steelscript  documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/extra.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="steelscript  documentation" href="../index.html" />
    <link rel="up" title="4. SteelScript Common" href="toc.html" />
    <link rel="next" title="5. SteelScript NetProfiler" href="../netprofiler/toc.html" />
    <link rel="prev" title="4.3. steelscript.common.service" href="service.html" />
    <script type="text/javascript" src="//nexus.ensighten.com/riverbed/rvbss/Bootstrap.js"></script>
     

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../netprofiler/toc.html" title="5. SteelScript NetProfiler"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="service.html" title="4.3. steelscript.common.service"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">steelscript  documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../toc.html" >Table of Contents</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="toc.html" accesskey="U">4. SteelScript Common</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-steelscript.common.connection">
<span id="steelscript-common-connection"></span><h1>4.4. <a class="reference internal" href="#module-steelscript.common.connection" title="steelscript.common.connection"><code class="xref py py-mod docutils literal"><span class="pre">steelscript.common.connection</span></code></a><a class="headerlink" href="#module-steelscript.common.connection" title="Permalink to this headline">¶</a></h1>
<div class="section" id="connection-objects">
<h2>4.4.1. <a class="reference internal" href="#steelscript.common.connection.Connection" title="steelscript.common.connection.Connection"><code class="xref py py-class docutils literal"><span class="pre">Connection</span></code></a> Objects<a class="headerlink" href="#connection-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="steelscript.common.connection.Connection">
<em class="property">class </em><code class="descclassname">steelscript.common.connection.</code><code class="descname">Connection</code><span class="sig-paren">(</span><em>hostname</em>, <em>auth=None</em>, <em>port=None</em>, <em>verify=True</em>, <em>reauthenticate_handler=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.common.connection.Connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle authentication and communication to remote machines.</p>
<dl class="method">
<dt id="steelscript.common.connection.Connection.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>hostname</em>, <em>auth=None</em>, <em>port=None</em>, <em>verify=True</em>, <em>reauthenticate_handler=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.common.connection.Connection.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize new connection and setup authentication</p>
<p><cite>hostname</cite> - include protocol, e.g. &#8220;<a class="reference external" href="https://host.com">https://host.com</a>&#8221;
<cite>auth</cite> - authentication object, see below
<cite>port</cite> - optional port to use for connection
<cite>verify</cite> - require SSL certificate validation.</p>
<p>Authentication:
For simple basic auth, passing a tuple of (user, pass) is
sufficient as a shortcut to an instance of HTTPBasicAuth.
This auth method will trigger a check  to ensure
the protocol is using SSL to connect (though cert verification
may still be turned off to avoid errors with self-signed certs).</p>
<p>OAuth2 will require the <code class="docutils literal"><span class="pre">requests-oauthlib</span></code> package and
an instance of the <cite>OAuth2Session</cite> object.</p>
<p>netrc config files will be checked if auth is left as None.
If no authentication is provided for the hostname in the
netrc file, or no file exists, an error will be raised
when trying to connect.</p>
</dd></dl>

<dl class="class">
<dt id="steelscript.common.connection.Connection.JsonEncoder">
<em class="property">class </em><code class="descname">JsonEncoder</code><span class="sig-paren">(</span><em>skipkeys=False</em>, <em>ensure_ascii=True</em>, <em>check_circular=True</em>, <em>allow_nan=True</em>, <em>sort_keys=False</em>, <em>indent=None</em>, <em>separators=None</em>, <em>encoding='utf-8'</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.common.connection.Connection.JsonEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle more object types if first encoding doesn&#8217;t work.</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.common.connection.Connection.download">
<code class="descclassname">Connection.</code><code class="descname">download</code><span class="sig-paren">(</span><em>url</em>, <em>path=None</em>, <em>overwrite=False</em>, <em>method='GET'</em>, <em>extra_headers=None</em>, <em>params=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.common.connection.Connection.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a file from a remote URI and save it to a local path.</p>
<p><cite>url</cite> is the url of the file to download.</p>
<p><cite>path</cite> is an optional path on the local filesystem to save the
downloaded file.  It can be:</p>
<blockquote>
<div><ul class="simple">
<li>a complete path</li>
<li>a directory</li>
</ul>
</div></blockquote>
<p>In the first case the file will have the specified name and extension.
In the second case the filename will be retrieved by the
&#8216;Content-Disposition&#8217; HTTP header.  If a path cannot be determined, a
ValueError is raised.</p>
<dl class="docutils">
<dt><cite>overwrite</cite> if True will save the downloaded file to <cite>path</cite> no matter</dt>
<dd>if the file already exists.</dd>
</dl>
<p><cite>method</cite> is the HTTP method used for the request.</p>
<p><cite>extra_headers</cite> is a dictionary of headers to use for the request.</p>
<p><cite>params</cite> is a dictionary of parameters for the request.</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.common.connection.Connection.get_url">
<code class="descclassname">Connection.</code><code class="descname">get_url</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.common.connection.Connection.get_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a fully qualified URL given a path.</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.common.connection.Connection.json_request">
<code class="descclassname">Connection.</code><code class="descname">json_request</code><span class="sig-paren">(</span><em>method</em>, <em>path</em>, <em>body=None</em>, <em>params=None</em>, <em>extra_headers=None</em>, <em>raw_response=False</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.common.connection.Connection.json_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a JSON request and receive JSON response.</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.common.connection.Connection.upload">
<code class="descclassname">Connection.</code><code class="descname">upload</code><span class="sig-paren">(</span><em>path</em>, <em>data</em>, <em>method='POST'</em>, <em>params=None</em>, <em>extra_headers=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.common.connection.Connection.upload" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload raw data to the given URL path with the given content type.</p>
<p><cite>data</cite> may be either a string or a python file object.</p>
<dl class="docutils">
<dt><cite>extra_headers</cite> is a dictionary of additional HTTP headers to send</dt>
<dd>with the request (e.g.  Content-Type, Content-Disposition)</dd>
<dt><cite>params</cite> is a dictionary of URL parameters to attach to the request.</dt>
<dd>The keys and values will be urlencoded.</dd>
<dt><cite>method</cite> defaults to &#8220;POST&#8221;, but can be overridden if the API requires</dt>
<dd>another method such as &#8220;PUT&#8221; to be used instead.</dd>
</dl>
<p>Returns location information if resource has been created,
otherwise the response body (if any).</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.common.connection.Connection.urlencoded_request">
<code class="descclassname">Connection.</code><code class="descname">urlencoded_request</code><span class="sig-paren">(</span><em>method</em>, <em>path</em>, <em>body=None</em>, <em>params=None</em>, <em>extra_headers=None</em>, <em>raw_response=False</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.common.connection.Connection.urlencoded_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a request with url encoded parameters in body</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.common.connection.Connection.xml_request">
<code class="descclassname">Connection.</code><code class="descname">xml_request</code><span class="sig-paren">(</span><em>method</em>, <em>path</em>, <em>body=None</em>, <em>params=None</em>, <em>extra_headers=None</em>, <em>raw_response=False</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.common.connection.Connection.xml_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Send an XML request to the host.</p>
<p>The Content-Type and Accept headers are set to text/xml.  In addition,
any response will be XML-decoded as an xml.etree.ElementTree.  The body
is assumed to be an XML encoded text string and is inserted into the
HTTP payload as-is.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/rb-ss-logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="overview.html">SteelScript Common</a></h3>
  <ul>
<li><a class="reference internal" href="#">4.4. <code class="docutils literal"><span class="pre">steelscript.common.connection</span></code></a><ul>
<li><a class="reference internal" href="#connection-objects">4.4.1. <code class="docutils literal"><span class="pre">Connection</span></code> Objects</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="service.html"
                        title="previous chapter">4.3. <code class="docutils literal"><span class="pre">steelscript.common.service</span></code></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../netprofiler/toc.html"
                        title="next chapter">5. SteelScript NetProfiler</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/common/connection.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>
<a href="../license.html">License</a>
</h3>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../netprofiler/toc.html" title="5. SteelScript NetProfiler"
             >next</a> |</li>
        <li class="right" >
          <a href="service.html" title="4.3. steelscript.common.service"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">steelscript  documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../toc.html" >Table of Contents</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="toc.html" >4. SteelScript Common</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015 Riverbed Technology, Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>