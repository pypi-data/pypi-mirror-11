<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>JSON Schema primer &mdash; steelscript  documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/extra.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="steelscript  documentation" href="../index.html" />
    <script type="text/javascript" src="//nexus.ensighten.com/riverbed/rvbss/Bootstrap.js"></script>
     

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">steelscript  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="json-schema-primer">
<h1>JSON Schema primer<a class="headerlink" href="#json-schema-primer" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This document provides an quick run through <code class="docutils literal"><span class="pre">json-schema</span></code> as defined in
the following IETF drafts:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://tools.ietf.org/html/draft-zyp-json-schema-04">JSON Schema draft 04</a></li>
<li><a class="reference external" href="http://json-schema.org/latest/json-schema-validation.html">JSON Schema: interactive and non interactive validation</a></li>
</ul>
</div></blockquote>
<p>The <a class="reference external" href="../gl4">GL4</a> <code class="docutils literal"><span class="pre">rest-schema</span></code> relies heavily on JSON schemea as a way of
describing data types.  Similar to C <code class="docutils literal"><span class="pre">struct</span></code>, at a minimum a
<code class="docutils literal"><span class="pre">json-schema</span></code> lays out all the elements and types of a JSON object.</p>
<p>This representation is used to describe both simple strings and numbers as well
as complex data types in JSON.  The schema may also include documentation for
each attribute, as well as constraints on data values.</p>
<p>For example, the following simple <code class="docutils literal"><span class="pre">json-schema</span></code> defines a JSON object
representing an <code class="docutils literal"><span class="pre">address</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;object&quot;</span><span class="p">,</span>
    <span class="s">&quot;properties&quot;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="s">&quot;street&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;string&quot;</span><span class="p">,</span> <span class="s">&quot;description&quot;</span><span class="p">:</span> <span class="s">&quot;Street Address&quot;</span> <span class="p">},</span>
        <span class="s">&quot;city&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;string&quot;</span><span class="p">,</span> <span class="s">&quot;description&quot;</span><span class="p">:</span> <span class="s">&quot;City&quot;</span> <span class="p">},</span>
        <span class="s">&quot;state&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;string&quot;</span><span class="p">,</span> <span class="s">&quot;description&quot;</span><span class="p">:</span> <span class="s">&quot;State&quot;</span><span class="p">,</span> <span class="s">&quot;pattern&quot;</span><span class="p">:</span> <span class="s">&quot;[A-Z][A-Z]&quot;</span> <span class="p">},</span>
        <span class="s">&quot;zip&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s">&quot;type&quot;</span><span class="p">:</span> <span class="s">&quot;string&quot;</span><span class="p">,</span> <span class="s">&quot;description&quot;</span><span class="p">:</span> <span class="s">&quot;Zip Code (5-digit)&quot;</span><span class="p">,</span> <span class="s">&quot;pattern&quot;</span><span class="p">:</span> <span class="s">&quot;[0-9][0-9][0-9][0-9][0-9]&quot;</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A JSON object conforming to this schema:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;street&quot;</span> <span class="p">:</span> <span class="s">&quot;123 High Street&quot;</span><span class="p">,</span>
    <span class="s">&quot;city&quot;</span> <span class="p">:</span> <span class="s">&quot;Springfield&quot;</span><span class="p">,</span>
    <span class="s">&quot;state&quot;</span><span class="p">:</span> <span class="s">&quot;IL&quot;</span><span class="p">,</span>
    <span class="s">&quot;zip&quot;</span><span class="p">:</span> <span class="s">&quot;12345&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The examples in this document are presented in YAML format rather than JSON,
as YAML is easier to read and is close enough to JSON that there is no ambiguity
in meaning.  The YAML equivalent of the above examples is shown below:</p>
<p>Address schema in YAML:</p>
<div class="highlight-python"><div class="highlight"><pre>type: object
properties:
   street: { type: string, description: &quot;Street Address&quot; }
   city: { type: string, description: &quot;City&quot; }
   state: { type: string, description: &quot;State&quot;, pattern: &quot;[A-Z][A-Z]&quot; }
   zip: { type: string, description: &quot;Zip Code (5-digit)&quot;, pattern: &quot;[0-9][0-9][0-9][0-9][0-9]&quot; }
</pre></div>
</div>
<p>Address object in YAML:</p>
<div class="highlight-python"><div class="highlight"><pre>street: &quot;123 High Street&quot;
city: &quot;Springfield&quot;
state: &quot;IL&quot;
zip: &quot;12345&quot;
</pre></div>
</div>
</div>
<div class="section" id="types">
<h2>Types<a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="type-boolean">
<h3>type: boolean<a class="headerlink" href="#type-boolean" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">property</th>
<th class="head">value</th>
<th class="head">required</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>type</td>
<td>&#8216;boolean&#8217;</td>
<td>yes</td>
<td>Defines the data type as a boolean value</td>
</tr>
<tr class="row-odd"><td>description</td>
<td>&lt;string&gt;</td>
<td>no</td>
<td>One line description of the meaning of the value</td>
</tr>
<tr class="row-even"><td>default</td>
<td>&lt;number&gt;</td>
<td>no</td>
<td>Default value if not specified</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>type: boolean
description: &#39;Likes chocolate&#39;
default: True
</pre></div>
</div>
<p>Note: JSON uses lowercase <code class="docutils literal"><span class="pre">true</span></code> and <code class="docutils literal"><span class="pre">false</span></code>, whereas YAML uses capitalized <code class="docutils literal"><span class="pre">True</span></code> and <code class="docutils literal"><span class="pre">False</span></code>.</p>
</div>
<div class="section" id="type-number">
<h3>type: number<a class="headerlink" href="#type-number" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">property</th>
<th class="head">value</th>
<th class="head">required</th>
<th class="head">description*</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>type</td>
<td>&#8216;number</td>
<td>yes</td>
<td>Defines the data type as numeric, integer or float</td>
</tr>
<tr class="row-odd"><td>description</td>
<td>&lt;string&gt;</td>
<td>no</td>
<td>One line description of the meaning of the value</td>
</tr>
<tr class="row-even"><td>minimum</td>
<td>&lt;number&gt;</td>
<td>no</td>
<td>Minimum allowed value for validation</td>
</tr>
<tr class="row-odd"><td>maximum</td>
<td>&lt;number&gt;</td>
<td>no</td>
<td>Maximum allowed value for validation</td>
</tr>
<tr class="row-even"><td>exclusiveMinimum</td>
<td>&lt;bool&gt;</td>
<td>no</td>
<td>true if value must be strictly greater than minimum, false by default</td>
</tr>
<tr class="row-odd"><td>exclusiveMaximum</td>
<td>&lt;bool&gt;</td>
<td>no</td>
<td>true if value must be strictly less than maximum, false by default</td>
</tr>
<tr class="row-even"><td>enum</td>
<td>[&lt;number&gt;, ...]</td>
<td>no</td>
<td>List of allowed values</td>
</tr>
<tr class="row-odd"><td>default</td>
<td>&lt;number&gt;</td>
<td>no</td>
<td>Default value if not specified</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>type: number
description: &#39;Length (inches)&#39;
minimum: 0
maximum: 100
exclusiveMaximum: true
default: 3.5
</pre></div>
</div>
</div>
<div class="section" id="type-integer">
<h3>type: integer<a class="headerlink" href="#type-integer" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">property</th>
<th class="head">value</th>
<th class="head">required</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>type</td>
<td>&#8216;integer&#8217;</td>
<td>yes</td>
<td>Defines the data type as a numeric integer</td>
</tr>
<tr class="row-odd"><td>description</td>
<td>&lt;string&gt;</td>
<td>no</td>
<td>One line description of the meaning of the value</td>
</tr>
<tr class="row-even"><td>minimum</td>
<td>&lt;integer&gt;</td>
<td>no</td>
<td>Minimum allowed value for validation</td>
</tr>
<tr class="row-odd"><td>maximum</td>
<td>&lt;integer&gt;</td>
<td>no</td>
<td>Maximum allowed value for validation</td>
</tr>
<tr class="row-even"><td>exclusiveMinimum</td>
<td>&lt;bool&gt;</td>
<td>no</td>
<td>true if value must be strictly greater than minimum, false by default</td>
</tr>
<tr class="row-odd"><td>exclusiveMaximum</td>
<td>&lt;bool&gt;</td>
<td>no</td>
<td>true if value must be strictly less than maximum, false by default</td>
</tr>
<tr class="row-even"><td>enum</td>
<td>[&lt;integer&gt;, ...]</td>
<td>no</td>
<td>List of allowed values</td>
</tr>
<tr class="row-odd"><td>default</td>
<td>&lt;integer&gt;</td>
<td>no</td>
<td>Default value if not specified</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>type: integer
description: &#39;Number of rabbits (up to 89)&#39;
minimum: 0
maximum: 100
default: 1
enum: [0, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]
</pre></div>
</div>
</div>
<div class="section" id="type-string">
<h3>type: string<a class="headerlink" href="#type-string" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">property</th>
<th class="head">value</th>
<th class="head">required</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>type</td>
<td>&#8216;string&#8217;</td>
<td>yes</td>
<td>Defines the data type as a string</td>
</tr>
<tr class="row-odd"><td>description</td>
<td>&lt;string&gt;</td>
<td>no</td>
<td>One line description of the meaning of the value</td>
</tr>
<tr class="row-even"><td>minLength</td>
<td>&lt;integer&gt;</td>
<td>no</td>
<td>Minimum allowed length for validation</td>
</tr>
<tr class="row-odd"><td>maxLength</td>
<td>&lt;integer&gt;</td>
<td>no</td>
<td>Maximum allowed length for validation</td>
</tr>
<tr class="row-even"><td>pattern</td>
<td>&lt;regex&gt;</td>
<td>no</td>
<td>Regular expression defining the allowed string values</td>
</tr>
<tr class="row-odd"><td>enum</td>
<td>[&lt;string&gt;, ...]</td>
<td>no</td>
<td>List of allowed values</td>
</tr>
<tr class="row-even"><td>default</td>
<td>&lt;string&gt;</td>
<td>no</td>
<td>Default value if not specified</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">&#8216;pattern&#8217; is not anchored by default, so should include &#8216;^&#8217; and &#8216;$&#8217; as needed to anchor to the beginning or end of the value when matching</p>
</div>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>type: string
description: &#39;Color&#39;
default: &#39;red&#39;
enum: [ &#39;red&#39;, &#39;yellow&#39;, &#39;blue&#39;, &#39;green&#39; ]
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>type: string
description: &#39;State (2 letter code)&#39;
minLength: 2
maxLength: 2
pattern: &#39;^[A-Z][A-Z]$&#39;
</pre></div>
</div>
</div>
<div class="section" id="type-array">
<h3>type: array<a class="headerlink" href="#type-array" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">property</th>
<th class="head">value</th>
<th class="head">required</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>type</td>
<td>&#8216;array&#8217;</td>
<td>yes</td>
<td>Defines the data type as an array</td>
</tr>
<tr class="row-odd"><td>items</td>
<td>&lt;json-schema&gt;</td>
<td>yes</td>
<td>Defines the data type of the array elements</td>
</tr>
<tr class="row-even"><td>description</td>
<td>&lt;string&gt;</td>
<td>no</td>
<td>One line description of the meaning of the value</td>
</tr>
<tr class="row-odd"><td>minItems</td>
<td>&lt;integer&gt;</td>
<td>no</td>
<td>Minimum number of items for validation</td>
</tr>
<tr class="row-even"><td>maxItems</td>
<td>&lt;integer&gt;</td>
<td>no</td>
<td>Maximum number of items for validation</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>type: array
description: &#39;Favorite colors&#39;
items:
   type: string
   description: &#39;Color&#39;
   enum: [ &#39;red&#39;, &#39;yellow&#39;, &#39;blue&#39;, &#39;green&#39; ]
</pre></div>
</div>
</div>
<div class="section" id="type-object">
<h3>type: object<a class="headerlink" href="#type-object" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">property</th>
<th class="head">value</th>
<th class="head">required</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>type</td>
<td>&#8216;object&#8217;</td>
<td>yes</td>
<td>Defines the data type as an object</td>
</tr>
<tr class="row-odd"><td>description</td>
<td>&lt;string&gt;</td>
<td>no</td>
<td>One line description of the meaning of the value</td>
</tr>
<tr class="row-even"><td>properties</td>
<td>&lt;object&gt;</td>
<td>no</td>
<td>key/value pairs defining possible properties and their data types</td>
</tr>
<tr class="row-odd"><td>additionalProperties</td>
<td>&lt;bool&gt; or &lt;json-schema&gt;</td>
<td>no</td>
<td>true or a schema if keys other than those defined in &#8216;properties&#8217; are allowed, default true</td>
</tr>
<tr class="row-even"><td>required</td>
<td>[key, ...]</td>
<td>no</td>
<td>list of property key names that must be present for validation</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>If additionalProperties is set to true, any number of additionalProperties may be present of any data type.</li>
<li>If additionalProperties is a schema, additional properties (beyond what are defined in &#8216;properties&#8217;) are allowed and must match the schema</li>
</ul>
</div>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>type: object
description: &#39;Address&#39;
properties:
   street: { type: string, description: &quot;Street Address&quot; }
   city: { type: string, description: &quot;City&quot; }
   state: { type: string, description: &quot;State&quot;, pattern: &quot;[A-Z][A-Z]&quot; }
   zip: { type: string, description: &quot;Zip Code (5-digit)&quot;, pattern: &quot;[0-9][0-9][0-9][0-9][0-9]&quot; }
additionalProperties: false
required: [ street, city, state, zip ]
</pre></div>
</div>
<p>Example: This word list object allows any number of additional properties,
expected to be words and the value for each additional property must be
a number.</p>
<div class="highlight-python"><div class="highlight"><pre>type: object
description: &#39;Word list and count of occurrences&#39;
additionalProperties:
   type: number
   description: &quot;count of occurences of each word&quot;
</pre></div>
</div>
<p>Valid value for the above word list schema:</p>
<div class="highlight-python"><div class="highlight"><pre>one: 5
the: 10
fox: 1
quick: 1
a: 5
</pre></div>
</div>
</div>
<div class="section" id="type-null">
<h3>type: null<a class="headerlink" href="#type-null" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">property</th>
<th class="head">value</th>
<th class="head">required</th>
<th class="head">description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>type</td>
<td>&#8216;null&#8217;</td>
<td>yes</td>
<td>Defines the data type as a null value</td>
</tr>
<tr class="row-odd"><td>description</td>
<td>&lt;string&gt;</td>
<td>no</td>
<td>One line description of the meaning of the value</td>
</tr>
</tbody>
</table>
<p>The null value is typically used in combination with another type to allow
a value to be null.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>type: null
description: &#39;The Null value&#39;
</pre></div>
</div>
<p>More comprehensive example with a string type:</p>
<div class="highlight-python"><div class="highlight"><pre>anyOf:
   -  type: null
   -  type: string
description: &#39;A string or a null&#39;
</pre></div>
</div>
</div>
</div>
<div class="section" id="references-via-ref">
<h2>References via $ref<a class="headerlink" href="#references-via-ref" title="Permalink to this headline">¶</a></h2>
<p>The &#8216;$ref&#8217; keyword may be used to reference another schema defined elsewhere.
This may be used anywhere a <code class="docutils literal"><span class="pre">json-schema</span></code> definition is required.</p>
<p>The syntax of a fully qualified reference is a full URI that points to
a JSON document with a fragment that is a JSON pointer to some
JSON schema within that document.</p>
<p>There are three supported formats of the reference, which mirrors standard
URL page resolution:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>Local</em></td>
<td>#{jsonpointer}</td>
<td>Relative to the same JSON document as the $ref</td>
</tr>
<tr class="row-even"><td><em>Server</em></td>
<td>/{name}/{version}#{jsonpointer}</td>
<td>Relative to another JSON document on the same server</td>
</tr>
<tr class="row-odd"><td><em>Full</em></td>
<td>{uri}#{jsonpointer}</td>
<td>Fully qualified reference</td>
</tr>
</tbody>
</table>
<p>Example: &#8216;full_name&#8217; schema, located within a JSON document available at
&#8220;<a class="reference external" href="http://support.riverbed.com/apis/types/1.0">http://support.riverbed.com/apis/types/1.0</a>&#8221; (example URL only).</p>
<div class="highlight-python"><div class="highlight"><pre>types:
   full_name:
      type: object
      description: &#39;Full name&#39;
      additionalProperties: false
      properties:
         first: { type: string }
         last: { type: string }
</pre></div>
</div>
<p>Referencing the <code class="docutils literal"><span class="pre">full_name</span></code> schema from within the same JSON document uses
the <em>local</em> format:</p>
<div class="highlight-python"><div class="highlight"><pre>type: array
description: &#39;List of friends&#39;
items:
   $ref: &#39;#/types/full_name&#39;
</pre></div>
</div>
<p>A fully qualified reference adds the full URI:</p>
<div class="highlight-python"><div class="highlight"><pre>type: array
description: &#39;List of friends&#39;
items:
   $ref: &#39;http://support.riverbed.com/apis/types/1.0#/types/full_name&#39;
</pre></div>
</div>
<p>Note that it is possible, to reference other schemas such as <code class="docutils literal"><span class="pre">first</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre>type: array
description: &#39;All first names&#39;
items:
   $ref: &#39;http://support.riverbed.com/apis/types/1.0#/types/full_name/properties/first&#39;
</pre></div>
</div>
</div>
<div class="section" id="composite-types">
<h2>Composite types<a class="headerlink" href="#composite-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="anyof">
<h3>anyOf<a class="headerlink" href="#anyof" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">anyOf</span></code> keyword takes an array of schemas as a value and may be combined
with other composite types as well as a base <code class="docutils literal"><span class="pre">type</span></code>.  An instance is
valid according to the anyOf set if one or more of the schemas is in turn valid.</p>
<p>Example with no base type allowing an instance to be eiother a string or
a number:</p>
<div class="highlight-python"><div class="highlight"><pre>description: &#39;String or number&#39;
anyOf:
   -  type: string
   -  type: number
</pre></div>
</div>
<p>Example with a base type of a number and using anyOf for validation:</p>
<div class="highlight-python"><div class="highlight"><pre>type: number
description: &#39;Number 1-10 or 50-100&#39;
anyOf:
   -  type: number
      minimum: 1
      maximum: 10
   -  type: number
      minimum: 50
      maximum: 100
</pre></div>
</div>
</div>
<div class="section" id="allof">
<h3>allOf<a class="headerlink" href="#allof" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">allOf</span></code> keyword is similar to <code class="docutils literal"><span class="pre">anyOf</span></code> except that an instance is
valid if and only if all schemas are valid:</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>type: number
description: &quot;Number between 1 and 100 but not 50-60&quot;

allOf:
   -  minimum: 1
      maximum: 100
   -  not:
         minimum: 50
         maximum: 60
</pre></div>
</div>
</div>
<div class="section" id="oneof">
<h3>oneOf<a class="headerlink" href="#oneof" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">oneOf</span></code> keyword is similar to <code class="docutils literal"><span class="pre">anyOf</span></code> except that an instance is
valid if and only if all exactly one of the schemas is valid and all others
are <em>not</em> valid.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>type: object
description: &quot;If a1, then b is 5-10, if a2, then b is 50-100&quot;
additionalProperties: False
properties:
   a1: { type: number }
   a2: { type: number }
   b:  { type: number }

oneOf:
   -  type: object
      required: [a1, b]
      properties:
         b:
            type: number
            minimum: 5
            maximum: 10

   -  type: object
      required: [a2, b]
      properties:
         b:
            type: number
            minimum: 50
            maximum: 100
</pre></div>
</div>
</div>
<div class="section" id="not">
<h3>not<a class="headerlink" href="#not" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">not</span></code> keyword takes a single schema as an argument.  An instance is
valid only if the schema does <em>not</em> validate successfully.  The schema may
in turn be a schema using <code class="docutils literal"><span class="pre">anyOf</span></code>, <code class="docutils literal"><span class="pre">allOf</span></code>, or <code class="docutils literal"><span class="pre">oneOf</span></code> to create arbitrary
boolean validation logic.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>type: number
description: &quot;Number less than 5 and greater than 10&quot;
not:
   type: number
   minimum: 5
   maximum: 10
</pre></div>
</div>
<p>More complex example nesting with anyOf:</p>
<div class="highlight-python"><div class="highlight"><pre>type: number
description: &quot;Any number not between 5-10 and 50-100&quot;
not:
   anyOf:
      -  type: number
         minimum: 5
         maximum: 10

      -  type: number
         minimum: 50
         maximum: 100
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/rb-ss-logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="overview.html">reschema</a></h3>
  <ul>
<li><a class="reference internal" href="#">JSON Schema primer</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#types">Types</a><ul>
<li><a class="reference internal" href="#type-boolean">type: boolean</a></li>
<li><a class="reference internal" href="#type-number">type: number</a></li>
<li><a class="reference internal" href="#type-integer">type: integer</a></li>
<li><a class="reference internal" href="#type-string">type: string</a></li>
<li><a class="reference internal" href="#type-array">type: array</a></li>
<li><a class="reference internal" href="#type-object">type: object</a></li>
<li><a class="reference internal" href="#type-null">type: null</a></li>
</ul>
</li>
<li><a class="reference internal" href="#references-via-ref">References via $ref</a></li>
<li><a class="reference internal" href="#composite-types">Composite types</a><ul>
<li><a class="reference internal" href="#anyof">anyOf</a></li>
<li><a class="reference internal" href="#allof">allOf</a></li>
<li><a class="reference internal" href="#oneof">oneOf</a></li>
<li><a class="reference internal" href="#not">not</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reschema/jsonschema.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>
<a href="../license.html">License</a>
</h3>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">steelscript  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015 Riverbed Technology, Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>