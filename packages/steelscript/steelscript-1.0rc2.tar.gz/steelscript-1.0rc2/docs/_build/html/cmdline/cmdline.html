<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>10.3. SteelScript Command Line Sources &mdash; steelscript  documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/extra.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="steelscript  documentation" href="../index.html" />
    <link rel="up" title="10. SteelScript Command Line" href="toc.html" />
    <link rel="next" title="11. SteelScript VM Config" href="../vmconfig/toc.html" />
    <link rel="prev" title="10.2. SteelScript Command Line Tutorial" href="tutorial.html" />
    <script type="text/javascript" src="//nexus.ensighten.com/riverbed/rvbss/Bootstrap.js"></script>
     

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../vmconfig/toc.html" title="11. SteelScript VM Config"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="10.2. SteelScript Command Line Tutorial"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">steelscript  documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../toc.html" >Table of Contents</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="toc.html" accesskey="U">10. SteelScript Command Line</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-steelscript.cmdline.cli">
<span id="steelscript-command-line-sources"></span><h1>10.3. SteelScript Command Line Sources<a class="headerlink" href="#module-steelscript.cmdline.cli" title="Permalink to this headline">¶</a></h1>
<div class="section" id="cli-objects">
<h2>10.3.1. <a class="reference internal" href="#steelscript.cmdline.cli.__init__.CLI" title="steelscript.cmdline.cli.__init__.CLI"><code class="xref py py-class docutils literal"><span class="pre">CLI</span></code></a> Objects<a class="headerlink" href="#cli-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="steelscript.cmdline.cli.__init__.CLI">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.cli.__init__.</code><code class="descname">CLI</code><span class="sig-paren">(</span><em>hostname=None</em>, <em>username=u'admin'</em>, <em>password=u''</em>, <em>terminal=u'console'</em>, <em>prompt=None</em>, <em>port=None</em>, <em>machine_name=None</em>, <em>machine_manager_uri=u'qemu:///system'</em>, <em>channel_class=&lt;class 'steelscript.cmdline.sshchannel.SSHChannel'&gt;</em>, <em>**channel_args</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.__init__.CLI" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class CLI implementation for Network Devices</p>
<p>Vendor specific CLIs can inherit from this base class. This class by
itself will try to work on a generic CLI if vendor specific class is not
present.</p>
<p>For the &#8220;should match any prompt&#8221; regular expressions, the focus was
mostly on common OSes in Riverbed&#8217;s internal environment.  Other systems
may require subclassing this class and overriding the prompt regexes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>host</strong> &#8211; host/ip</li>
<li><strong>user</strong> &#8211; username to log in with</li>
<li><strong>password</strong> (<em>string</em>) &#8211; password to log in with</li>
<li><strong>terminal</strong> (<em>string</em>) &#8211; terminal emulation to use; default to &#8216;console&#8217;</li>
<li><strong>prompt</strong> (<em>regex pattern</em>) &#8211; A prompt to match.  Defaults to <a class="reference internal" href="#steelscript.cmdline.cli.__init__.CLI.CLI_ANY_PROMPT" title="steelscript.cmdline.cli.__init__.CLI.CLI_ANY_PROMPT"><code class="xref py py-const docutils literal"><span class="pre">CLI_ANY_PROMPT</span></code></a></li>
<li><strong>transport_type</strong> (<em>string</em>) &#8211; <em>DEPRECATED</em> (use <code class="docutils literal"><span class="pre">channel_class</span></code>): telnet or ssh,
defaults to ssh</li>
<li><strong>user</strong> &#8211; <em>DEPRECATED</em> (use <code class="docutils literal"><span class="pre">username</span></code>)</li>
<li><strong>host</strong> &#8211; <em>DEPRECATED</em> (use <code class="docutils literal"><span class="pre">hostname</span></code>)</li>
<li><strong>channel_class</strong> (<em>class</em>) &#8211; Class object to instantiate for persistent
communication.  Defaults to
<code class="docutils literal"><span class="pre">steelscript.cmdline.sshchannel.SSHChannel</span></code></li>
<li><strong>channel_args</strong> &#8211; additional <code class="docutils literal"><span class="pre">transport_type</span></code>-dependent
arguments, passed blindly to the transport <code class="docutils literal"><span class="pre">start</span></code> method.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="steelscript.cmdline.cli.__init__.CLI.CLI_ANY_PROMPT">
<code class="descname">CLI_ANY_PROMPT</code><em class="property"> = u'(^|\n|\r)(\\[?\\S+\\s?\\S+\\]?)(#|\\$|&gt;|~)(\\s)?$'</em><a class="headerlink" href="#steelscript.cmdline.cli.__init__.CLI.CLI_ANY_PROMPT" title="Permalink to this definition">¶</a></dt>
<dd><p>A regex that is suitable for most CLIs, root or regular user.</p>
<p>Note that this does not specifically check hostnames, which might
lead to false positive matches.</p>
</dd></dl>

<dl class="attribute">
<dt id="steelscript.cmdline.cli.__init__.CLI.CLI_ROOT_PROMPT">
<code class="descname">CLI_ROOT_PROMPT</code><em class="property"> = u'(^|\n|\r)(\\[?\\S+\\s?\\S+\\]?)(#)(\\s)?$'</em><a class="headerlink" href="#steelscript.cmdline.cli.__init__.CLI.CLI_ROOT_PROMPT" title="Permalink to this definition">¶</a></dt>
<dd><p>A regex intended for use with POSIX prompts for root ending in &#8216;#&#8217;</p>
</dd></dl>

<dl class="attribute">
<dt id="steelscript.cmdline.cli.__init__.CLI.CLI_START_PROMPT">
<code class="descname">CLI_START_PROMPT</code><em class="property"> = u'(^|\n|\r)(\\[?\\S+\\s?\\S+\\]?)(#|\\$|&gt;|~)(\\s)?$'</em><a class="headerlink" href="#steelscript.cmdline.cli.__init__.CLI.CLI_START_PROMPT" title="Permalink to this definition">¶</a></dt>
<dd><p>A regex suitable for most initial CLI prompts, root or non-root</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.__init__.CLI.exec_command">
<code class="descname">exec_command</code><span class="sig-paren">(</span><em>command</em>, <em>timeout=60</em>, <em>output_expected=None</em>, <em>prompt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.__init__.CLI.exec_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the given command.</p>
<p>This method handles detecting simple boolean conditions such as
the presence of output or errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> &#8211; command to execute, newline appended automatically</li>
<li><strong>timeout</strong> &#8211; maximum time, in seconds, to wait for the command to
finish. 0 to wait forever.</li>
<li><strong>output_expected</strong> (<em>bool or None</em>) &#8211; If not None, indicates whether output is
expected (True) or no output is expected (False).
If the opposite occurs, raise UnexpectedOutput. Default is None.</li>
<li><strong>prompt</strong> &#8211; Prompt regex for matching unusual prompts.  This should
almost never needed.  This parameter is for unusual
situations like an install config wizard.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">output of the command, minus the command itself.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> &#8211; if output_expected type is incorrect</li>
<li><strong>CmdlineTimeout</strong> &#8211; on timeout</li>
<li><strong>UnexpectedOutput</strong> &#8211; if output occurs when no output was
expected, or no output occurs when output was expected</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.__init__.CLI.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>start_prompt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.__init__.CLI.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize underlying channel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>start_prompt</strong> (<em>regex pattern</em>) &#8211; A non-default prompt to match, if any.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<div class="section" id="ios-cli-objects">
<h3>10.3.1.1. <a class="reference internal" href="#steelscript.cmdline.cli.ios_cli.IOS_CLI" title="steelscript.cmdline.cli.ios_cli.IOS_CLI"><code class="xref py py-class docutils literal"><span class="pre">IOS_CLI</span></code></a> Objects<a class="headerlink" href="#ios-cli-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="steelscript.cmdline.cli.ios_cli.IOS_CLI">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.cli.ios_cli.</code><code class="descname">IOS_CLI</code><span class="sig-paren">(</span><em>hostname=None</em>, <em>username=u'admin'</em>, <em>password=u''</em>, <em>terminal=u'console'</em>, <em>prompt=None</em>, <em>port=None</em>, <em>machine_name=None</em>, <em>machine_manager_uri=u'qemu:///system'</em>, <em>channel_class=&lt;class 'steelscript.cmdline.sshchannel.SSHChannel'&gt;</em>, <em>**channel_args</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.ios_cli.IOS_CLI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">steelscript.cmdline.cli.CLI</span></code></p>
<p>Implementation of a CLI for IOS devices.</p>
<dl class="method">
<dt id="steelscript.cmdline.cli.ios_cli.IOS_CLI.current_cli_mode">
<code class="descname">current_cli_mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.ios_cli.IOS_CLI.current_cli_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the current mode of the CLI.</p>
<p>Sends a newline and checks which prompt pattern matches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">current CLI mode.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises UnknownCLIMode:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">if the current mode could not be detected.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.ios_cli.IOS_CLI.enter_mode">
<code class="descname">enter_mode</code><span class="sig-paren">(</span><em>mode=u'configure'</em>, <em>interface=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.ios_cli.IOS_CLI.enter_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Enter mode based on mode string (&#8216;normal&#8217;, &#8216;enable&#8217;, or &#8216;configure&#8217;).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mode</strong> &#8211; The CLI mode to enter. It must be &#8216;normal&#8217;, &#8216;enable&#8217;, or
&#8216;configure&#8217;</li>
<li><strong>interface</strong> &#8211; If entering sub-if mode, interface to enter</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises UnknownCLIMode:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">if mode is not &#8220;normal&#8221;, &#8220;enable&#8221;, or
&#8220;configure&#8221;</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.ios_cli.IOS_CLI.enter_mode_config">
<code class="descname">enter_mode_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.ios_cli.IOS_CLI.enter_mode_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the CLI into config mode, if it is not there already.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises UnknownCLIMode:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if mode is not &#8220;normal&#8221;, &#8220;enable&#8221;, or
&#8220;configure&#8221;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.ios_cli.IOS_CLI.enter_mode_enable">
<code class="descname">enter_mode_enable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.ios_cli.IOS_CLI.enter_mode_enable" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the CLI into enable mode.</p>
<p>Note this will go &#8216;backwards&#8217; if needed (e.g., exiting config mode)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises UnknownCLIMode:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if mode is not &#8220;normal&#8221;, &#8220;enable&#8221;, or
&#8220;configure&#8221;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.ios_cli.IOS_CLI.enter_mode_normal">
<code class="descname">enter_mode_normal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.ios_cli.IOS_CLI.enter_mode_normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the CLI into the &#8216;normal&#8217; mode (its initial state).</p>
<p>Note this will go &#8216;backwards&#8217; if needed (e.g., exiting config mode)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises UnknownCLIMode:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if mode is not &#8220;normal&#8221;, &#8220;enable&#8221;, or
&#8220;configure&#8221;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.ios_cli.IOS_CLI.enter_mode_subif">
<code class="descname">enter_mode_subif</code><span class="sig-paren">(</span><em>interface</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.ios_cli.IOS_CLI.enter_mode_subif" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the CLI into sub-interface mode, if it is not there already.</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.ios_cli.IOS_CLI.exec_command">
<code class="descname">exec_command</code><span class="sig-paren">(</span><em>command</em>, <em>timeout=60</em>, <em>mode=u'configure'</em>, <em>output_expected=None</em>, <em>error_expected=False</em>, <em>interface=None</em>, <em>prompt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.ios_cli.IOS_CLI.exec_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the given command.</p>
<p>This method handles detecting simple boolean conditions such as
the presence of output or errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> &#8211; command to execute, newline appended automatically</li>
<li><strong>timeout</strong> &#8211; maximum time, in seconds, to wait for the command to
finish. 0 to wait forever.</li>
<li><strong>mode</strong> &#8211; mode to enter before running the command.  To skip this
step and execute directly in the cli&#8217;s current mode, explicitly
set this parameter to None.  The default is &#8220;configure&#8221;</li>
<li><strong>output_expected</strong> (<em>bool or None</em>) &#8211; If not None, indicates whether output is
expected (True) or no output is expected (False).
If the opposite occurs, raise UnexpectedOutput. Default is None.</li>
<li><strong>error_expected</strong> (<em>bool</em>) &#8211; If true, cli error output (with a leading &#8216;%&#8217;)
is expected and will be returned as regular output instead of
raising a CLIError.  Default is False, and error_expected always
overrides output_expected.</li>
<li><strong>interface</strong> (<em>string</em>) &#8211; if mode &#8216;subif&#8217;, interface to configure &#8216;gi0/1.666&#8217;
or &#8216;vlan 691&#8217;</li>
<li><strong>prompt</strong> &#8211; Prompt regex for matching unusual prompts.  This should
almost never be used as the <code class="docutils literal"><span class="pre">mode</span></code> parameter automatically
handles all typical cases.  This parameter is for unusual
situations like the install config wizard.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><strong>CmdlineTimeout</strong> &#8211; on timeout</li>
<li><strong>CLIError</strong> &#8211; if the output matches the cli&#8217;s error format, and
error output was not expected.</li>
<li><strong>UnexpectedOutput</strong> &#8211; if output occurs when no output was
expected, or no output occurs when output was expected</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">output of the command, minus the command itself.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.ios_cli.IOS_CLI.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.ios_cli.IOS_CLI.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize underlying channel.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="rvbd-cli-objects">
<h3>10.3.1.2. <a class="reference internal" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI" title="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI"><code class="xref py py-class docutils literal"><span class="pre">RVBD_CLI</span></code></a> Objects<a class="headerlink" href="#rvbd-cli-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.cli.rvbd_cli.</code><code class="descname">RVBD_CLI</code><span class="sig-paren">(</span><em>hostname=None</em>, <em>username=u'admin'</em>, <em>password=u''</em>, <em>terminal=u'console'</em>, <em>prompt=None</em>, <em>port=None</em>, <em>machine_name=None</em>, <em>machine_manager_uri=u'qemu:///system'</em>, <em>channel_class=&lt;class 'steelscript.cmdline.sshchannel.SSHChannel'&gt;</em>, <em>**channel_args</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">steelscript.cmdline.cli.CLI</span></code></p>
<p>Implementation of a CLI for a Riverbed appliances.</p>
<dl class="method">
<dt id="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.current_cli_mode">
<code class="descname">current_cli_mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.current_cli_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the current mode of the CLI.</p>
<p>Sends a newline and checks which prompt pattern matches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">current CLI mode.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises UnknownCLIMode:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">if the current mode could not be detected.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.default_mode">
<code class="descname">default_mode</code><a class="headerlink" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.default_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>The default mode that exec_command issues commands in.</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.enter_mode">
<code class="descname">enter_mode</code><span class="sig-paren">(</span><em>mode=u'enable'</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.enter_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Enter mode based on name (&#8216;normal&#8217;, &#8216;enable&#8217;, &#8216;configure&#8217;, or &#8216;shell&#8217;).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mode</strong> &#8211; The CLI mode to enter. It must be &#8216;normal&#8217;, &#8216;enable&#8217;, or
&#8216;configure&#8217;.  Use <code class="xref py py-class docutils literal"><span class="pre">CLIMode</span></code> values.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>UnknownCLIMode</strong> &#8211; if mode is not &#8220;normal&#8221;, &#8220;enable&#8221;,
&#8220;configure&#8221;, or &#8220;shell&#8221;.</li>
<li><strong>CLINotRunning</strong> &#8211; if the CLI is not running.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.enter_mode_config">
<code class="descname">enter_mode_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.enter_mode_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the CLI into config mode, if it is not there already.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises CLINotRunning:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if the shell is not in the CLI; current thinking
is this indicates the CLI has crashed/exited, and it is better
to open a new CLI than have this one log back in and potentially
hide an error.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.enter_mode_enable">
<code class="descname">enter_mode_enable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.enter_mode_enable" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the CLI into enable mode.</p>
<p>Note this will go &#8216;backwards&#8217; if needed (e.g., exiting config mode)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises CLINotRunning:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if the shell is not in the CLI; current thinking
is this indicates the CLI has crashed/exited, and it is better
to open a new CliChannel than have this one log back in
and potentially hide an error.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.enter_mode_normal">
<code class="descname">enter_mode_normal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.enter_mode_normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the CLI into the &#8216;normal&#8217; mode (its initial state).</p>
<p>Note this will go &#8216;backwards&#8217; if needed (e.g., exiting config mode)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises CLINotRunning:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if the shell is not in the CLI; current thinking
is this indicates the CLI has crashed/exited, and it is better
to open a new CliChannel than have this one log back in
and potentially hide an error.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.enter_mode_shell">
<code class="descname">enter_mode_shell</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.enter_mode_shell" title="Permalink to this definition">¶</a></dt>
<dd><p>Exits the CLI into shell mode.</p>
<p>This is a one-way transition and and you will need to start
a new CLI object to get back.</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.exec_command">
<code class="descname">exec_command</code><span class="sig-paren">(</span><em>command</em>, <em>timeout=60</em>, <em>mode=u''</em>, <em>output_expected=None</em>, <em>error_expected=False</em>, <em>prompt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.exec_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the given command.</p>
<p>This method handles detecting simple boolean conditions such as
the presence of output or errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> &#8211; command to execute, newline appended automatically</li>
<li><strong>timeout</strong> &#8211; maximum time, in seconds, to wait for the command to
finish. 0 to wait forever.</li>
<li><strong>mode</strong> &#8211; mode to enter before running the command. The default
is <a class="reference internal" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.default_mode" title="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.default_mode"><code class="xref py py-func docutils literal"><span class="pre">default_mode()</span></code></a>.  To skip this step and execute directly
in the cli&#8217;s current mode, explicitly set this parameter to None.</li>
<li><strong>output_expected</strong> (<em>bool or None</em>) &#8211; If not None, indicates whether output is
expected (True) or no output is expected (False).
If the opposite occurs, raise UnexpectedOutput. Default is None.</li>
<li><strong>error_expected</strong> (<em>bool</em>) &#8211; If true, cli error output (with a leading &#8216;%&#8217;)
is expected and will be returned as regular output instead of
raising a CLIError.  Default is False, and error_expected always
overrides output_expected.</li>
<li><strong>prompt</strong> &#8211; Prompt regex for matching unusual prompts.  This should
almost never be used as the <code class="docutils literal"><span class="pre">mode</span></code> parameter automatically
handles all typical cases.  This parameter is for unusual
situations like the install config wizard.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">output of the command, minus the command itself.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>CmdlineTimeout</strong> &#8211; on timeout</li>
<li><strong>CLIError</strong> &#8211; if the output matches the cli&#8217;s error format, and
error output was not expected.</li>
<li><strong>UnexpectedOutput</strong> &#8211; if output occurs when no output was
expected, or no output occurs when output was expected</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.get_sub_commands">
<code class="descname">get_sub_commands</code><span class="sig-paren">(</span><em>root_cmd</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.get_sub_commands" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a list of commands at the current mode.</p>
<p>It sends root_cmd with ? and returns everything that is a command.
This strips out things in &lt;&gt;&#8217;s, or other free-form fields the user
has to enter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>root_cmd</strong> &#8211; root of the command to get subcommands for</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of the full paths to subcommands.  eg,  if root_cmd is
&#8220;web ?&#8221;, this returns:</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;web autologout&#39;</span><span class="p">,</span> <span class="s">&#39;web auto-refresh&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>start_prompt=None</em>, <em>run_cli=True</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.rvbd_cli.RVBD_CLI.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the underlying channel, disable paging</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start_prompt</strong> &#8211; Allows overriding the standard initial
match for any reasonable CLI prompt to expect a specific
mode or handle an unusual situation such as the install wizard.</li>
<li><strong>run_cli</strong> &#8211; If True (the default), automatically launch
the cli and disable paging.  This can be set to false
to handle situations such as installation where the cli
is launched differently.  The CLI will be running in normal mode.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="vyattacli-objects">
<h3>10.3.1.3. <a class="reference internal" href="#steelscript.cmdline.cli.vyatta_cli.VyattaCLI" title="steelscript.cmdline.cli.vyatta_cli.VyattaCLI"><code class="xref py py-class docutils literal"><span class="pre">VyattaCLI</span></code></a> Objects<a class="headerlink" href="#vyattacli-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="steelscript.cmdline.cli.vyatta_cli.VyattaCLI">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.cli.vyatta_cli.</code><code class="descname">VyattaCLI</code><span class="sig-paren">(</span><em>hostname=None</em>, <em>username=u'admin'</em>, <em>password=u''</em>, <em>terminal=u'console'</em>, <em>prompt=None</em>, <em>port=None</em>, <em>machine_name=None</em>, <em>machine_manager_uri=u'qemu:///system'</em>, <em>channel_class=&lt;class 'steelscript.cmdline.sshchannel.SSHChannel'&gt;</em>, <em>**channel_args</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.vyatta_cli.VyattaCLI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">steelscript.cmdline.cli.CLI</span></code></p>
<p>Provides an interface to interact with the CLI of a vyatta router</p>
<dl class="method">
<dt id="steelscript.cmdline.cli.vyatta_cli.VyattaCLI.current_cli_mode">
<code class="descname">current_cli_mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.vyatta_cli.VyattaCLI.current_cli_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the current mode of the CLI.</p>
<p>This is done by sending newline and check which prompt pattern matches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">current CLI mode.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises UnknownCLIMode:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">if the current mode could not be detected.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.vyatta_cli.VyattaCLI.enter_mode">
<code class="descname">enter_mode</code><span class="sig-paren">(</span><em>mode=u'configure'</em>, <em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.vyatta_cli.VyattaCLI.enter_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Enter the mode based on mode string (&#8216;normal&#8217;,&#8217;config&#8217;).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mode</strong> (<em>string</em>) &#8211; The CLI mode to enter. It must be &#8216;normal&#8217;, &#8216;enable&#8217;, or
&#8216;configure&#8217;</li>
<li><strong>force</strong> (<em>Boolean</em>) &#8211; Discard commits and force enter requested mode</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises UnknownCLIMode:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">if mode is not &#8220;normal&#8221;, &#8220;configure&#8221;</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.vyatta_cli.VyattaCLI.enter_mode_config">
<code class="descname">enter_mode_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.vyatta_cli.VyattaCLI.enter_mode_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the CLI into config mode, if it is not there already.</p>
<p>In this mode, you can make changes in the configuration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises UnknownCLIMode:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if mode is not &#8220;normal&#8221;, &#8220;configure&#8221;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.vyatta_cli.VyattaCLI.enter_mode_normal">
<code class="descname">enter_mode_normal</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.vyatta_cli.VyattaCLI.enter_mode_normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the CLI into the &#8216;normal&#8217; mode.</p>
<p>In this mode you can run commands, but you cannot change
the configuration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>force</strong> (<em>Boolean</em>) &#8211; Will force enter &#8216;normal&#8217; mode, discarding all changes
that haven&#8217;t been committed.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>CLIError</strong> &#8211; if unable to go from &#8220;configure&#8221; mode to &#8220;normal&#8221;
This happens if &#8220;commit&#8221; is not applied after config changes</li>
<li><strong>UnknownCLIMode</strong> &#8211; if mode is not &#8220;normal&#8221; or &#8220;configure&#8221;</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.vyatta_cli.VyattaCLI.exec_command">
<code class="descname">exec_command</code><span class="sig-paren">(</span><em>command</em>, <em>timeout=60</em>, <em>mode=u'configure'</em>, <em>force=False</em>, <em>output_expected=None</em>, <em>prompt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.vyatta_cli.VyattaCLI.exec_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the given command.</p>
<p>This method handles detecting simple boolean conditions such as
the presence of output or errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> &#8211; command to execute, newline appended automatically</li>
<li><strong>timeout</strong> &#8211; maximum time, in seconds, to wait for the command to
finish. 0 to wait forever.</li>
<li><strong>mode</strong> &#8211; mode to enter before running the command.  To skip this
step and execute directly in the cli&#8217;s current mode, explicitly
set this parameter to None.  The default is &#8220;configure&#8221;</li>
<li><strong>force</strong> (<em>Boolean</em>) &#8211; Will force enter mode, discarding all changes
that haven&#8217;t been committed.</li>
<li><strong>output_expected</strong> (<em>bool or None</em>) &#8211; If not None, indicates whether output is
expected (True) or no output is expected (False).
If the opposite occurs, raise UnexpectedOutput. Default is None.</li>
<li><strong>prompt</strong> &#8211; Prompt regex for matching unusual prompts.  This should
almost never be used as the <code class="docutils literal"><span class="pre">mode</span></code> parameter automatically
handles all typical cases.  This parameter is for unusual
situations like the install config wizard.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">output of the command, minus the command itself.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>TypeError</strong> &#8211; if output_expected type is incorrect</li>
<li><strong>CmdlineTimeout</strong> &#8211; on timeout</li>
<li><strong>UnexpectedOutput</strong> &#8211; if output occurs when no output was
expected, or no output occurs when output was expected</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.cli.vyatta_cli.VyattaCLI.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.cli.vyatta_cli.VyattaCLI.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize underlying channel.</p>
<p>Vyatta transport channel is presently configured to SSH only.
There is no limitation for this, Vyatta could be configured
for telnet as well, but that would involve additional config
on Vyatta bring up during install. Ignoring for now.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-steelscript.cmdline.channel"></span></div>
</div>
<div class="section" id="channel-objects">
<h2>10.3.2. <a class="reference internal" href="#steelscript.cmdline.channel.Channel" title="steelscript.cmdline.channel.Channel"><code class="xref py py-class docutils literal"><span class="pre">Channel</span></code></a> Objects<a class="headerlink" href="#channel-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="steelscript.cmdline.channel.Channel">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.channel.</code><code class="descname">Channel</code><a class="headerlink" href="#steelscript.cmdline.channel.Channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract class to define common interface for a two communication channel.</p>
<dl class="method">
<dt id="steelscript.cmdline.channel.Channel.expect">
<code class="descname">expect</code><span class="sig-paren">(</span><em>match_res</em>, <em>timeout=60</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.channel.Channel.expect" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for some text to be received that matches one or more regex
patterns.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>match_res</strong> &#8211; A list of regex pattern(s) to look for to be
considered successful.</li>
<li><strong>timeout</strong> &#8211; maximum time, in seconds, to wait for a regular
expression match. 0 to wait forever.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>(output, re.MatchObject) where output is the output of the
command (without the matched text), and MatchObject is a
Python re.MatchObject containing data on what was matched.</p>
<p>You may use MatchObject.string[m.start():m.end()] to recover
the actual matched text.</p>
<p>MatchObject.re.pattern will contain the pattern that matched,
which will be one of the elements of match_res passed in.</p>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.channel.Channel.fixup_carriage_returns">
<code class="descname">fixup_carriage_returns</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.channel.Channel.fixup_carriage_returns" title="Permalink to this definition">¶</a></dt>
<dd><p>To work around all the different \r\n combos we are
getting from the CLI, we normalize it as:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Eat consecutive \r&#8217;s       (a\r\r\nb -&gt; a\r\nb)</li>
<li>Convert \r\n&#8217;s to \n     (a\r\nb -&gt; a\nb)</li>
<li>Convert \n\r to \n       (a\r\n\rb) -&gt; (a\n\rb) -&gt; (a\nb)</li>
<li>Convert single \r&#8217;s to \n,
unless at end of strings    (a\rb -&gt; a\nb)</li>
</ol>
</div></blockquote>
<dl class="docutils">
<dt>#4 doesn&#8217;t trigger at the end of the line to cover partially received</dt>
<dd>data; the next character that comes in may be a \n, \r, etc.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; string to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the string data with the linefeeds converted into only \n&#8217;s</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.channel.Channel.receive_all">
<code class="descname">receive_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.channel.Channel.receive_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all text currently in the receive buffer, effectively flushing
it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the text that was present in the receive queue, if any.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.channel.Channel.safe_line_feeds">
<code class="descname">safe_line_feeds</code><span class="sig-paren">(</span><em>in_string</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.channel.Channel.safe_line_feeds" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>in_string</strong> &#8211; string to replace linefeeds</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a string that has the linefeeds converted to ASCII
representation for printing</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.channel.Channel.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>text_to_send</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.channel.Channel.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends text to the channel immediately.  Does not wait for any response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text_to_send</strong> &#8211; Text to send, including command terminator(s)
when applicable.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-steelscript.cmdline.exceptions"></span></div>
<div class="section" id="cmdlineexception-objects">
<h2>10.3.3. <a class="reference internal" href="#steelscript.cmdline.exceptions.CmdlineException" title="steelscript.cmdline.exceptions.CmdlineException"><code class="xref py py-class docutils literal"><span class="pre">CmdlineException</span></code></a> Objects<a class="headerlink" href="#cmdlineexception-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="steelscript.cmdline.exceptions.CmdlineException">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.exceptions.</code><code class="descname">CmdlineException</code><span class="sig-paren">(</span><em>command=None</em>, <em>output=None</em>, <em>_subclass_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.exceptions.CmdlineException" title="Permalink to this definition">¶</a></dt>
<dd><p>Base exception representing an error executing the command line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> &#8211; The command that produced the error.</li>
<li><strong>output</strong> &#8211; The output returned, possibly None.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>command</strong> &#8211; The command that produced the error.</li>
<li><a class="reference internal" href="../netshark/netshark.html#steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output" title="steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output"><strong>output</strong></a> &#8211; The output returned.  None if the command did not return.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="cmdlinetimeout-objects">
<h3>10.3.3.1. <a class="reference internal" href="#steelscript.cmdline.exceptions.CmdlineTimeout" title="steelscript.cmdline.exceptions.CmdlineTimeout"><code class="xref py py-class docutils literal"><span class="pre">CmdlineTimeout</span></code></a> Objects<a class="headerlink" href="#cmdlinetimeout-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="steelscript.cmdline.exceptions.CmdlineTimeout">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.exceptions.</code><code class="descname">CmdlineTimeout</code><span class="sig-paren">(</span><em>timeout</em>, <em>command=None</em>, <em>output=None</em>, <em>failed_match=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.exceptions.CmdlineTimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#steelscript.cmdline.exceptions.CmdlineException" title="steelscript.cmdline.exceptions.CmdlineException"><code class="xref py py-class docutils literal"><span class="pre">steelscript.cmdline.exceptions.CmdlineException</span></code></a></p>
<p>Indicates a command was abandoned due to a timeout.</p>
<p>Some timeouts within a given protocol may be reported as ConnectionError
as the third-party libraries are not always specific about causes.
However, all timeouts triggered in SteelScript code will raise this
exception.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>timeout</strong> &#8211; The number of seconds that we were waiting for.</li>
<li><strong>command</strong> &#8211; The command we were trying to execute.</li>
<li><strong>output</strong> &#8211; Partial output received, if any.</li>
<li><strong>failed_match</strong> (<em>Match object, pattern object, or string.</em>) &#8211; What we were trying to match, or None.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>command</strong> &#8211; The command we were trying to execute.</li>
<li><a class="reference internal" href="../netshark/netshark.html#steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output" title="steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output"><strong>output</strong></a> &#8211; Partial output received, if any.</li>
<li><strong>timeout</strong> &#8211; The number of seconds that we were waiting for.</li>
<li><strong>failed_match_pattern</strong> &#8211; The pattern we were trying to match, if any.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="connectionerror-objects">
<h3>10.3.3.2. <a class="reference internal" href="#steelscript.cmdline.exceptions.ConnectionError" title="steelscript.cmdline.exceptions.ConnectionError"><code class="xref py py-class docutils literal"><span class="pre">ConnectionError</span></code></a> Objects<a class="headerlink" href="#connectionerror-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="steelscript.cmdline.exceptions.ConnectionError">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.exceptions.</code><code class="descname">ConnectionError</code><span class="sig-paren">(</span><em>command=None</em>, <em>output=None</em>, <em>cause=None</em>, <em>failed_match=None</em>, <em>context=None</em>, <em>_subclass_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.exceptions.ConnectionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#steelscript.cmdline.exceptions.CmdlineException" title="steelscript.cmdline.exceptions.CmdlineException"><code class="xref py py-class docutils literal"><span class="pre">steelscript.cmdline.exceptions.CmdlineException</span></code></a></p>
<p>Indicates a (probably) non-timeout error from the underlying protocol.</p>
<p>May contain a wrapped exception from a third-party library.
In Python 3 this would be on the __cause__ attribute.
The third-party library may not use a specific exception for timeouts,
so certain kinds of timeouts may appear as a ConnectionError.
Timeouts managed by SteelScript code should use CmdlineTimeout instead.</p>
<p>This exception should be used to propagate errors up to levels
that should not be aware of the specific underlying protocol.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> &#8211; The command we were trying to execute.</li>
<li><strong>output</strong> &#8211; Any output produced just before the failure.</li>
<li><strong>cause</strong> &#8211; The protocol-specific exception, if any, that triggered this.</li>
<li><strong>failed_match</strong> (<em>Match object, pattern object, or string.</em>) &#8211; What we were trying to match, or None.</li>
<li><strong>context</strong> &#8211; An optional string describing the context of the error.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>command</strong> &#8211; The command we were trying to execute.</li>
<li><a class="reference internal" href="../netshark/netshark.html#steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output" title="steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output"><strong>output</strong></a> &#8211; Any output produced just before the failure.</li>
<li><strong>cause</strong> &#8211; The protocol-specific exception, if any, that triggered this.</li>
<li><strong>failed_match_pattern</strong> &#8211; The pattern we were trying to match, if any.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="clinotrunning-objects">
<h3>10.3.3.3. <a class="reference internal" href="#steelscript.cmdline.exceptions.CLINotRunning" title="steelscript.cmdline.exceptions.CLINotRunning"><code class="xref py py-class docutils literal"><span class="pre">CLINotRunning</span></code></a> Objects<a class="headerlink" href="#clinotrunning-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="steelscript.cmdline.exceptions.CLINotRunning">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.exceptions.</code><code class="descname">CLINotRunning</code><span class="sig-paren">(</span><em>output=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.exceptions.CLINotRunning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#steelscript.cmdline.exceptions.ConnectionError" title="steelscript.cmdline.exceptions.ConnectionError"><code class="xref py py-class docutils literal"><span class="pre">steelscript.cmdline.exceptions.ConnectionError</span></code></a></p>
<p>Exception for when the CLI has crashed or could not be started.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>output</strong> &#8211; Output of trying to start the CLI, or None if
we expected the CLI to be there and it was not.</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><a class="reference internal" href="../netshark/netshark.html#steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output" title="steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output"><strong>output</strong></a> &#8211; Output of trying to start the CLI, or None if we expected
the CLI to be there and it was not.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="cmdlineerror-objects">
<h3>10.3.3.4. <a class="reference internal" href="#steelscript.cmdline.exceptions.CmdlineError" title="steelscript.cmdline.exceptions.CmdlineError"><code class="xref py py-class docutils literal"><span class="pre">CmdlineError</span></code></a> Objects<a class="headerlink" href="#cmdlineerror-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="steelscript.cmdline.exceptions.CmdlineError">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.exceptions.</code><code class="descname">CmdlineError</code><span class="sig-paren">(</span><em>command=None</em>, <em>output=None</em>, <em>_subclass_msg=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.exceptions.CmdlineError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#steelscript.cmdline.exceptions.CmdlineException" title="steelscript.cmdline.exceptions.CmdlineException"><code class="xref py py-class docutils literal"><span class="pre">steelscript.cmdline.exceptions.CmdlineException</span></code></a></p>
<p>Base for command responses that specifically indicate an error.</p>
<p>See specific exceptions such as <code class="docutils literal"><span class="pre">ShellError</span></code> and <code class="docutils literal"><span class="pre">CLIError</span></code> for
additional debugging fields.</p>
</dd></dl>

</div>
<div class="section" id="shellerror-objects">
<h3>10.3.3.5. <a class="reference internal" href="#steelscript.cmdline.exceptions.ShellError" title="steelscript.cmdline.exceptions.ShellError"><code class="xref py py-class docutils literal"><span class="pre">ShellError</span></code></a> Objects<a class="headerlink" href="#shellerror-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="steelscript.cmdline.exceptions.ShellError">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.exceptions.</code><code class="descname">ShellError</code><span class="sig-paren">(</span><em>command</em>, <em>exit_status</em>, <em>output=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.exceptions.ShellError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#steelscript.cmdline.exceptions.CmdlineError" title="steelscript.cmdline.exceptions.CmdlineError"><code class="xref py py-class docutils literal"><span class="pre">steelscript.cmdline.exceptions.CmdlineError</span></code></a></p>
<p>Exception representing a nonzero exit status from the shell.</p>
<p>Technically, representing an unexpected exit from the shell, as some
command, such as diff, have successful nonzero exits.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> &#8211; The command that produced the error.</li>
<li><strong>exit_status</strong> &#8211; The exit status of the command.</li>
<li><strong>output</strong> &#8211; The output as returned by the shell, if any.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>command</strong> &#8211; The command that produced the error.</li>
<li><strong>exit_status</strong> &#8211; The exit status of the command.</li>
<li><a class="reference internal" href="../netshark/netshark.html#steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output" title="steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output"><strong>output</strong></a> &#8211; The output as returned by the shell, if any.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="clierror-objects">
<h3>10.3.3.6. <a class="reference internal" href="#steelscript.cmdline.exceptions.CLIError" title="steelscript.cmdline.exceptions.CLIError"><code class="xref py py-class docutils literal"><span class="pre">CLIError</span></code></a> Objects<a class="headerlink" href="#clierror-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="steelscript.cmdline.exceptions.CLIError">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.exceptions.</code><code class="descname">CLIError</code><span class="sig-paren">(</span><em>command</em>, <em>mode</em>, <em>output=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.exceptions.CLIError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#steelscript.cmdline.exceptions.CmdlineError" title="steelscript.cmdline.exceptions.CmdlineError"><code class="xref py py-class docutils literal"><span class="pre">steelscript.cmdline.exceptions.CmdlineError</span></code></a></p>
<p>Exception representing an error message from the CLI.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> &#8211; The command that produced the error.</li>
<li><strong>mode</strong> &#8211; The CLI mode we were in when the error occurred.</li>
<li><strong>output</strong> &#8211; The error string as returned by the CLI.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>command</strong> &#8211; The command that produced the error.</li>
<li><strong>mode</strong> &#8211; The CLI mode we were in when the error occurred.</li>
<li><a class="reference internal" href="../netshark/netshark.html#steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output" title="steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output"><strong>output</strong></a> &#8211; The error string as returned by the CLI.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="unexpectedoutput-objects">
<h3>10.3.3.7. <a class="reference internal" href="#steelscript.cmdline.exceptions.UnexpectedOutput" title="steelscript.cmdline.exceptions.UnexpectedOutput"><code class="xref py py-class docutils literal"><span class="pre">UnexpectedOutput</span></code></a> Objects<a class="headerlink" href="#unexpectedoutput-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="steelscript.cmdline.exceptions.UnexpectedOutput">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.exceptions.</code><code class="descname">UnexpectedOutput</code><span class="sig-paren">(</span><em>command</em>, <em>output</em>, <em>expected_output=None</em>, <em>notes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.exceptions.UnexpectedOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#steelscript.cmdline.exceptions.CmdlineException" title="steelscript.cmdline.exceptions.CmdlineException"><code class="xref py py-class docutils literal"><span class="pre">steelscript.cmdline.exceptions.CmdlineException</span></code></a></p>
<p>Exception for when output does not match expectations.</p>
<p>This could include output where none was expected, no output where
some was expected, or differing output than expected.</p>
<p>This generally does not mean easily detectable error output, which is
indicated by the appropriate subclass of <code class="docutils literal"><span class="pre">CmdlineError</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> &#8211; The command that produced the error.</li>
<li><strong>output</strong> &#8211; The output as returned from the command, possibly None.</li>
<li><strong>expected_output</strong> (<em>String, possibly a regexp pattern.</em>) &#8211; The output expected from the command,
possibly None.  If unspecified output was expected, set to True.</li>
<li><strong>notes</strong> (<em>List of strings</em>) &#8211; Some extra information related with the error, possibly None.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>command</strong> &#8211; The command that produced the error.</li>
<li><a class="reference internal" href="../netshark/netshark.html#steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output" title="steelscript.netshark.core.viewutils.OutputMixer.sourceobj.output"><strong>output</strong></a> &#8211; The output as returned from the command.</li>
<li><strong>expected_output</strong> &#8211; The output expected from the command, possibly None.
If unspecified output was expected, set to True.</li>
<li><strong>notes</strong> &#8211; Some extra information related with the error, possibly None.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="unknownclimode-objects">
<h3>10.3.3.8. <a class="reference internal" href="#steelscript.cmdline.exceptions.UnknownCLIMode" title="steelscript.cmdline.exceptions.UnknownCLIMode"><code class="xref py py-class docutils literal"><span class="pre">UnknownCLIMode</span></code></a> Objects<a class="headerlink" href="#unknownclimode-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="steelscript.cmdline.exceptions.UnknownCLIMode">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.exceptions.</code><code class="descname">UnknownCLIMode</code><span class="sig-paren">(</span><em>prompt=None</em>, <em>mode=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.exceptions.UnknownCLIMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#steelscript.cmdline.exceptions.CmdlineException" title="steelscript.cmdline.exceptions.CmdlineException"><code class="xref py py-class docutils literal"><span class="pre">steelscript.cmdline.exceptions.CmdlineException</span></code></a></p>
<p>Exception for any CLI that sees or is asked for an unknown mode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>prompt</strong> &#8211; The prompt seen that cannot be mapped to a mode</li>
<li><strong>mode</strong> &#8211; The mode that was requested but not recognized</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>prompt</strong> &#8211; The prompt seen that cannot be mapped to a mode</li>
<li><strong>mode</strong> &#8211; The mode that was requested but not recognized</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-steelscript.cmdline.libvirtchannel"></span></div>
</div>
<div class="section" id="libvirtchannel-objects">
<h2>10.3.4. <a class="reference internal" href="#steelscript.cmdline.libvirtchannel.LibVirtChannel" title="steelscript.cmdline.libvirtchannel.LibVirtChannel"><code class="xref py py-class docutils literal"><span class="pre">LibVirtChannel</span></code></a> Objects<a class="headerlink" href="#libvirtchannel-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="steelscript.cmdline.libvirtchannel.LibVirtChannel">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.libvirtchannel.</code><code class="descname">LibVirtChannel</code><span class="sig-paren">(</span><em>machine_name</em>, <em>machine_manager_uri=u'qemu:///system'</em>, <em>username=u'root'</em>, <em>password=u''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.libvirtchannel.LibVirtChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>Channel for connecting to a serial port via libvirt.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>machine_name</strong> &#8211; The libvirt domain to which to connect.</li>
<li><strong>machine_manager_uri</strong> &#8211; The hypervisor uri where the domain
may be found.  Defaults to a local qemu hypervisor.</li>
<li><strong>user</strong> &#8211; username for authentication</li>
<li><strong>password</strong> &#8211; password for authentication</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="steelscript.cmdline.libvirtchannel.LibVirtChannel.expect">
<code class="descname">expect</code><span class="sig-paren">(</span><em>match_res</em>, <em>timeout=300</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.libvirtchannel.LibVirtChannel.expect" title="Permalink to this definition">¶</a></dt>
<dd><p>Matches regular expressions against singles lines in the stream.</p>
<p>Internally, this method works with bytes, but input and output
are unicode as usual.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>match_res</strong> &#8211; a list of regular expressions to match against
the output.</li>
<li><strong>timeout</strong> &#8211; Time to wait for matching data in the stream,
in seconds.  Note that the default timeout is longer than
on most channels.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p><code class="docutils literal"><span class="pre">(output,</span> <span class="pre">match_object)</span></code> where output is the output of
the command (without the matched text), and match_object is a
Python <code class="xref py py-class docutils literal"><span class="pre">re.MatchObject</span></code> containing data on what was matched.</p>
<p>You may use <code class="docutils literal"><span class="pre">MatchObject.string[m.start():m.end()]</span></code> to recover
the actual matched text, which will be unicode.</p>
<p><code class="docutils literal"><span class="pre">re.MatchObject.pattern</span></code> will contain the pattern that matched,
which will be one of the elements of match_res passed in.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises CmdlineTimeout:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first last">if no match found before timeout.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.libvirtchannel.LibVirtChannel.receive_all">
<code class="descname">receive_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.libvirtchannel.LibVirtChannel.receive_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all text currently in the receive buffer, effectively flushing
it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the text that was present in the receive queue, if any.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.libvirtchannel.LibVirtChannel.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>text_to_send</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.libvirtchannel.LibVirtChannel.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends text to the channel immediately.  Does not wait for any response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text_to_send</strong> &#8211; Text to send, including command terminator(s)
when applicable.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.libvirtchannel.LibVirtChannel.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>match_res=(u'(^|\n|\r)([-a-zA-Z0-9_.]* )?# '</em>, <em>)</em>, <em>timeout=300</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.libvirtchannel.LibVirtChannel.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a console and logs in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>match_res</strong> &#8211; Pattern(s) of prompts to look for.
May be a single regex string, or a list of them.</li>
<li><strong>timeout</strong> &#8211; maximum time, in seconds, to wait for a regular
expression match. 0 to wait forever.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Python <code class="xref py py-class docutils literal"><span class="pre">re.MatchObject</span></code> containing data on
what was matched.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-steelscript.cmdline.shell"></span></div>
<div class="section" id="shell-objects">
<h2>10.3.5. <a class="reference internal" href="#steelscript.cmdline.shell.Shell" title="steelscript.cmdline.shell.Shell"><code class="xref py py-class docutils literal"><span class="pre">Shell</span></code></a> Objects<a class="headerlink" href="#shell-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="steelscript.cmdline.shell.Shell">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.shell.</code><code class="descname">Shell</code><span class="sig-paren">(</span><em>host</em>, <em>user=u'root'</em>, <em>password=u''</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.shell.Shell" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for running shell command remotely and statelessly.</p>
<p>No persistent channel is maintained, so changes to
environment variables or other state will not be present for
subsequent commands.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>host</strong> &#8211; host/ip to ssh into</li>
<li><strong>user</strong> &#8211; username to log in with</li>
<li><strong>password</strong> &#8211; password to log in with</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="steelscript.cmdline.shell.Shell.exec_command">
<code class="descname">exec_command</code><span class="sig-paren">(</span><em>command</em>, <em>timeout=60</em>, <em>output_expected=None</em>, <em>error_expected=False</em>, <em>exit_info=None</em>, <em>retry_count=3</em>, <em>retry_delay=5</em>, <em>expect_output=None</em>, <em>expect_error=None</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.shell.Shell.exec_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the given command statelessly.</p>
<p>Since this is stateless, an exec_command cannot use environment
variables/directory changes/whatever from a previous exec_command.</p>
<p>This method handles detecting simple boolean conditions such as
the presence of output or errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> &#8211; command to send</li>
<li><strong>timeout</strong> &#8211; seconds to wait for command to finish. None to disable</li>
<li><strong>output_expected</strong> (<em>bool or None</em>) &#8211; If not None, indicates whether output is
expected (True) or no output is expected (False).
If the opposite occurs, raise UnexpectedOutput. Default is None.</li>
<li><strong>error_expected</strong> (<em>bool</em>) &#8211; If true, a nonzero exit status will <strong>not</strong>
trigger an exception as it normally would.
Default is False, and error_expected always
overrides output_expected.</li>
<li><strong>exit_info</strong> (<em>dict or None</em>) &#8211; If set to a dict, the exit status is added to
the dictionary under the key &#8216;status&#8217;.  Primarily used in
conjunction with <code class="docutils literal"><span class="pre">error_expected</span></code> when multiple nonzero statuses
are possible.</li>
<li><strong>retry_count</strong> (<em>int</em>) &#8211; the number of tries to reconnect if underlying
connection is disconnected. Default is 3</li>
<li><strong>retry_delay</strong> (<em>int</em>) &#8211; delay in seconds between each retry to connect.
Default is 5</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">output from the command</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>ConnectionError</strong> &#8211; if the connection is lost</li>
<li><strong>CmdlineTimeout</strong> &#8211; on timeout</li>
<li><strong>ShellError</strong> &#8211; on an unexpected nonzero exit status</li>
<li><strong>UnexpectedOutput</strong> &#8211; if output occurs when no output was
expected, or no output occurs when output was expected</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-steelscript.cmdline.sshchannel"></span></div>
<div class="section" id="sshchannel-objects">
<h2>10.3.6. <a class="reference internal" href="#steelscript.cmdline.sshchannel.SSHChannel" title="steelscript.cmdline.sshchannel.SSHChannel"><code class="xref py py-class docutils literal"><span class="pre">SSHChannel</span></code></a> Objects<a class="headerlink" href="#sshchannel-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="steelscript.cmdline.sshchannel.SSHChannel">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.sshchannel.</code><code class="descname">SSHChannel</code><span class="sig-paren">(</span><em>hostname</em>, <em>username</em>, <em>password</em>, <em>port=22</em>, <em>terminal=u'console'</em>, <em>width=80</em>, <em>height=24</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.sshchannel.SSHChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>Two-way SSH channel that allows sending and receiving data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hostname</strong> (<em>string</em>) &#8211; hostname, fqdn, or ip address of the target
system.</li>
<li><strong>port</strong> &#8211; optional port for the connection.  Default is 22.</li>
<li><strong>username</strong> &#8211; account to use for authentication</li>
<li><strong>password</strong> &#8211; password for authentication</li>
<li><strong>terminal</strong> &#8211; terminal emulation to use; defaults to &#8216;console&#8217;</li>
<li><strong>width</strong> &#8211; width (in characters) of the terminal screen;
defaults to 80</li>
<li><strong>height</strong> &#8211; height (in characters) of the terminal screen;
defaults to 24</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Additional arguments are accepted and ignored for compatibility
with other channel implementations.</p>
<dl class="method">
<dt id="steelscript.cmdline.sshchannel.SSHChannel.expect">
<code class="descname">expect</code><span class="sig-paren">(</span><em>match_res</em>, <em>timeout=60</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.sshchannel.SSHChannel.expect" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for text to be received that matches one or more regex patterns.</p>
<p>Note that data may have been received before this call and is waiting
in the buffer; you may want to call receive_all() to flush the receive
buffer before calling send() and call this function to match the
output from your send() only.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>match_res</strong> &#8211; Pattern(s) to look for to be considered successful.
May be a single regex string, or a list of them.
Currently cannot match multiple lines.</li>
<li><strong>timeout</strong> &#8211; maximum time, in seconds, to wait for a regular
expression match. 0 to wait forever.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p><code class="docutils literal"><span class="pre">(output,</span> <span class="pre">match_object)</span></code> where output is the output of
the command (without the matched text), and match_object is a
Python <code class="xref py py-class docutils literal"><span class="pre">re.MatchObject</span></code> containing data on what was matched.</p>
<p>You may use <code class="docutils literal"><span class="pre">MatchObject.string[m.start():m.end()]</span></code> to recover
the actual matched text, which will be unicode.</p>
<p><code class="docutils literal"><span class="pre">re.MatchObject.pattern</span></code> will contain the pattern that matched,
which will be one of the elements of match_res passed in.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>CmdlineTimeout</strong> &#8211; if no match found before timeout.</li>
<li><strong>ConnectionError</strong> &#8211; if the channel is closed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.sshchannel.SSHChannel.receive_all">
<code class="descname">receive_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.sshchannel.SSHChannel.receive_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the receive buffer, returning all text that was in it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the text that was present in the receive queue, if any.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.sshchannel.SSHChannel.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>text_to_send</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.sshchannel.SSHChannel.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends text to the channel immediately.  Does not wait for any response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text_to_send</strong> &#8211; Text to send, may be an empty string.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.sshchannel.SSHChannel.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>match_res=None</em>, <em>timeout=60</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.sshchannel.SSHChannel.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start an interactive ssh session and logs in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>match_res</strong> &#8211; Pattern(s) of prompts to look for.
May be a single regex string, or a list of them.</li>
<li><strong>timeout</strong> &#8211; maximum time, in seconds, to wait for a regular
expression match. 0 to wait forever.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Python <code class="xref py py-class docutils literal"><span class="pre">re.MatchObject</span></code> containing data on
what was matched.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-steelscript.cmdline.sshprocess"></span></div>
<div class="section" id="sshprocess-objects">
<h2>10.3.7. <a class="reference internal" href="#steelscript.cmdline.sshprocess.SSHProcess" title="steelscript.cmdline.sshprocess.SSHProcess"><code class="xref py py-class docutils literal"><span class="pre">SSHProcess</span></code></a> Objects<a class="headerlink" href="#sshprocess-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="steelscript.cmdline.sshprocess.SSHProcess">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.sshprocess.</code><code class="descname">SSHProcess</code><span class="sig-paren">(</span><em>host</em>, <em>user=u'root'</em>, <em>password=u''</em>, <em>port=22</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.sshprocess.SSHProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>SSH transport class to handle ssh connection setup.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>host</strong> &#8211; host/ip to ssh into</li>
<li><strong>user</strong> &#8211; username to log in with</li>
<li><strong>password</strong> &#8211; password to log in with</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="steelscript.cmdline.sshprocess.SSHProcess.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.sshprocess.SSHProcess.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connects to the host and logs in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Raises ConnectionError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">on error</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.sshprocess.SSHProcess.disconnect">
<code class="descname">disconnect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.sshprocess.SSHProcess.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnects from the host</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.sshprocess.SSHProcess.is_connected">
<code class="descname">is_connected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.sshprocess.SSHProcess.is_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether SSH connection is established or not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if it is connected; returns False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.sshprocess.SSHProcess.open_interactive_channel">
<code class="descname">open_interactive_channel</code><span class="sig-paren">(</span><em>term=u'console'</em>, <em>width=80</em>, <em>height=24</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.sshprocess.SSHProcess.open_interactive_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and starts a stateful interactive channel.</p>
<p>This should be used whenever the channel must remain open between
commands for interactive processing, or when a terminal/tty is
necessary; e.g., CLIs with modes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>term</strong> &#8211; terminal type to emulate; defaults to &#8216;console&#8217;</li>
<li><strong>width</strong> &#8211; width (in characters) of the terminal screen;
defaults to 80</li>
<li><strong>height</strong> &#8211; height (in characters) of the terminal screen;
defaults to 24</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A Paramiko channel that communicate with the remote end in
a stateful way.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises ConnectionError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first last">if the SSH connection has not yet been
established.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-steelscript.cmdline.telnetchannel"></span></div>
<div class="section" id="telnetchannel-objects">
<h2>10.3.8. <a class="reference internal" href="#steelscript.cmdline.telnetchannel.TelnetChannel" title="steelscript.cmdline.telnetchannel.TelnetChannel"><code class="xref py py-class docutils literal"><span class="pre">TelnetChannel</span></code></a> Objects<a class="headerlink" href="#telnetchannel-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="steelscript.cmdline.telnetchannel.TelnetChannel">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.telnetchannel.</code><code class="descname">TelnetChannel</code><span class="sig-paren">(</span><em>hostname</em>, <em>username='root'</em>, <em>password=''</em>, <em>port=23</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.telnetchannel.TelnetChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>Two-way telnet channel that allows sending and receiving data.</p>
<p>Accepts and ignores additional parameters for compatibility
with other channel construction interfaces.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hostname</strong> &#8211; host/ip to telnet into</li>
<li><strong>username</strong> &#8211; username to log in with</li>
<li><strong>password</strong> &#8211; password to log in with</li>
<li><strong>port</strong> &#8211; telnet port, defaults to 23</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="steelscript.cmdline.telnetchannel.TelnetChannel.expect">
<code class="descname">expect</code><span class="sig-paren">(</span><em>match_res</em>, <em>timeout=60</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.telnetchannel.TelnetChannel.expect" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for some text to be received that matches one or more regex
patterns.</p>
<p>Note that data may have been received before this call and is waiting
in the buffer; you may want to call receive_all() to flush the receive
buffer before calling send() and call this function to match the
output from your send() only.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>match_res</strong> &#8211; Pattern(s) to look for to be considered successful.
May be a single regex string, or a list of them.</li>
<li><strong>timeout</strong> &#8211; maximum time, in seconds, to wait for a regular
expression match. 0 to wait forever.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p><code class="docutils literal"><span class="pre">(output,</span> <span class="pre">match_object)</span></code> where output is the output of
the command (without the matched text), and match_object is a
Python <code class="xref py py-class docutils literal"><span class="pre">re.MatchObject</span></code> containing data on what was matched.</p>
<p>You may use <code class="docutils literal"><span class="pre">MatchObject.string[m.start():m.end()]</span></code> to recover
the actual matched text, which will be unicode.</p>
<p><code class="docutils literal"><span class="pre">re.MatchObject.pattern</span></code> will contain the pattern that matched,
which will be one of the elements of match_res passed in.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises CmdlineTimeout:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first last">if no match found before timeout.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.telnetchannel.TelnetChannel.receive_all">
<code class="descname">receive_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.telnetchannel.TelnetChannel.receive_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the receive buffer, returning all text that was in it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the text that was present in the receive queue, if any.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.telnetchannel.TelnetChannel.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>text_to_send</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.telnetchannel.TelnetChannel.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends text to the channel immediately.  Does not wait for any response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text_to_send</strong> &#8211; Text to send, may be an empty string.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.telnetchannel.TelnetChannel.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>match_res=None</em>, <em>timeout=15</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.telnetchannel.TelnetChannel.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start telnet session and log it in</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>match_res</strong> &#8211; Pattern(s) of prompts to look for.
May be a single regex string, or a list of them.</li>
<li><strong>timeout</strong> &#8211; maximum time, in seconds, to wait for a regular
expression match. 0 to wait forever.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Python re.MatchObject containing data on what was matched.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<span class="target" id="module-steelscript.cmdline.transport"></span></div>
<div class="section" id="transport-objects">
<h2>10.3.9. <a class="reference internal" href="#steelscript.cmdline.transport.Transport" title="steelscript.cmdline.transport.Transport"><code class="xref py py-class docutils literal"><span class="pre">Transport</span></code></a> Objects<a class="headerlink" href="#transport-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="steelscript.cmdline.transport.Transport">
<em class="property">class </em><code class="descclassname">steelscript.cmdline.transport.</code><code class="descname">Transport</code><a class="headerlink" href="#steelscript.cmdline.transport.Transport" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract class to define common interfaces for a transport.</p>
<p>A transport is used by Cli/Shell object to handle connection setup.</p>
<dl class="method">
<dt id="steelscript.cmdline.transport.Transport.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.transport.Transport.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to start a connection</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.transport.Transport.disconnect">
<code class="descname">disconnect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.transport.Transport.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method to tear down current connection</p>
</dd></dl>

<dl class="method">
<dt id="steelscript.cmdline.transport.Transport.is_connected">
<code class="descname">is_connected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.transport.Transport.is_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a connection is established or not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if it is connected; returns False otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-steelscript.cmdline.parsers">
<span id="parsers"></span><h2>10.3.10. Parsers<a class="headerlink" href="#module-steelscript.cmdline.parsers" title="Permalink to this headline">¶</a></h2>
<p>Functions for parsing command line responses</p>
<dl class="function">
<dt id="steelscript.cmdline.parsers.cli_parse_basic">
<code class="descclassname">steelscript.cmdline.parsers.</code><code class="descname">cli_parse_basic</code><span class="sig-paren">(</span><em>input_string</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.parsers.cli_parse_basic" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard cli parsers for <code class="docutils literal"><span class="pre">key:</span> <span class="pre">value</span></code> style</p>
<p>This parser goes through all the lines in the input string and returns a
dictionary of parsed output.  In addition to splitting the output into
key value pairs, the values will be fed through parse_boolean to turn
strings such as <code class="docutils literal"><span class="pre">yes</span></code> and <code class="docutils literal"><span class="pre">true</span></code> into boolean objects, leaving other
strings alone.</p>
<p>This function will parse cli commands such as:</p>
<div class="highlight-python"><div class="highlight"><pre>hw1-int1 (config) # show load balance fair-peer-v2
Fair peering V2: yes
Threshold:       15 %
</pre></div>
</div>
<p>creating a dictionary:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&#39;fair peering v2&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s">&#39;threshold&#39;</span> <span class="p">:</span> <span class="s">&#39;15 %&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For this example one would want to perform further manipulation on the
dictionary to get it into a usable state, changing <code class="docutils literal"><span class="pre">fair</span> <span class="pre">peering</span> <span class="pre">v2</span></code> to
<code class="docutils literal"><span class="pre">enabled</span></code> and <code class="docutils literal"><span class="pre">15</span> <span class="pre">%</span></code> to <code class="docutils literal"><span class="pre">15</span></code> for threshold.
See <a class="reference internal" href="#steelscript.cmdline.parsers.enable_squash" title="steelscript.cmdline.parsers.enable_squash"><code class="xref py py-func docutils literal"><span class="pre">enable_squash()</span></code></a> for part of this.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>input_string</strong> &#8211; A string of CLI output to be parsed</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a dictionary of parsed output</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="steelscript.cmdline.parsers.cli_parse_table">
<code class="descclassname">steelscript.cmdline.parsers.</code><code class="descname">cli_parse_table</code><span class="sig-paren">(</span><em>input_string</em>, <em>headers</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.parsers.cli_parse_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Parser for Generic Table style output.  More complex tables outputs
may require a custom parser.</p>
<p>Parses output such as:</p>
<div class="highlight-python"><div class="highlight"><pre>Destination       Mask              Gateway           Interface
10.3.0.0          255.255.248.0     0.0.0.0           aux
default           0.0.0.0           10.3.0.1
</pre></div>
</div>
<p>The left/right bounds of each data field are expected to fall underneath
exactly 1 header.  If a data item falls under none or more than 1, an
error will be raised.</p>
<p>Data fields are initially divided by 2 spaces.  This allows single spaces
within the data fields.  However, if the data crosses more than 1 header,
it is then divided by single spaces and each piece will be part of whatever
header it falls under.  If any part doesn&#8217;t fall underneath a header, an
error is raised.</p>
<p>The example output above would produce the following structure:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span>
    <span class="p">{</span>
        <span class="n">destination</span><span class="p">:</span> <span class="mf">10.3</span><span class="o">.</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">mask</span><span class="p">:</span> <span class="mf">255.255</span><span class="o">.</span><span class="mf">248.0</span><span class="p">,</span>
        <span class="n">gateway</span><span class="p">:</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">interface</span><span class="p">:</span> <span class="n">aux</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="n">destination</span><span class="p">:</span> <span class="n">default</span><span class="p">,</span>
        <span class="n">mask</span><span class="p">:</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="p">,</span>
        <span class="n">gateway</span><span class="p">:</span> <span class="mf">10.3</span><span class="o">.</span><span class="mf">0.1</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_string</strong> &#8211; A string of CLI output to be parsed</li>
<li><strong>headers</strong> &#8211; array of headers in-order starting from the left.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">an array of dictionaries of parsed output</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="steelscript.cmdline.parsers.check_numeric">
<code class="descclassname">steelscript.cmdline.parsers.</code><code class="descname">check_numeric</code><span class="sig-paren">(</span><em>value_string</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.parsers.check_numeric" title="Permalink to this definition">¶</a></dt>
<dd><p>This function tries to determine if a string would be better represented
with a numeric type, either int or float.  If neither works, for example
<code class="docutils literal"><span class="pre">10</span> <span class="pre">Mb</span></code>, it will simply return the same string provided</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value_string</strong> &#8211; input string to be parsed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the input string, an int, or a float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="steelscript.cmdline.parsers.enable_squash">
<code class="descclassname">steelscript.cmdline.parsers.</code><code class="descname">enable_squash</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.parsers.enable_squash" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert long specific enable strings to &#8216;enabled&#8217;</p>
<p>Takes in a dictionary of parsed output, iterates over the keys and looks
for key names containing the string &#8220;enabled&#8221; at the end of the key name.
Specifically the end of the key name is matched for safety.  Replaces the
key with simply &#8220;enabled&#8221;, for example an input dictionary:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&quot;Path-selection enabled&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">}</span>
</pre></div>
</div>
<p>becomes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&quot;enabled&quot;</span><span class="p">:</span> <span class="bp">False</span><span class="p">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>input</strong> &#8211; A dictionary of parsed output</td>
</tr>
<tr class="field-even field"><th class="field-name">Return result:</th><td class="field-body">A dictionary with keys ending in &#8220;enabled&#8221; replaced with
just &#8220;enabled&#8221;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="steelscript.cmdline.parsers.parse_boolean">
<code class="descclassname">steelscript.cmdline.parsers.</code><code class="descname">parse_boolean</code><span class="sig-paren">(</span><em>value_string</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.parsers.parse_boolean" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the boolean value of the input string.</p>
<p>&#8220;yes&#8221;, &#8220;no&#8221;, &#8220;true&#8221; and &#8220;false&#8221; are recognized (case-insensitive).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value_string</strong> &#8211; input string to be parsed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">boolean value based on input string</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Raises ValueError:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">if the string is not recognized as a boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="steelscript.cmdline.parsers.restart_required">
<code class="descclassname">steelscript.cmdline.parsers.</code><code class="descname">restart_required</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.parsers.restart_required" title="Permalink to this definition">¶</a></dt>
<dd><p>Take result from a cli command and check if a service restart
is required. Return True if cli result indicates restart required</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>input</strong> &#8211; result from a cli command</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="steelscript.cmdline.parsers.reboot_required">
<code class="descclassname">steelscript.cmdline.parsers.</code><code class="descname">reboot_required</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.parsers.reboot_required" title="Permalink to this definition">¶</a></dt>
<dd><p>Take result from a cli command and check if a reboot
is required. Return True if cli result indicates reboot required</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>input</strong> &#8211; result from a cli command</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="steelscript.cmdline.parsers.parse_ip_and_port">
<code class="descclassname">steelscript.cmdline.parsers.</code><code class="descname">parse_ip_and_port</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.parsers.parse_ip_and_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse IP and Port number combo to a dictionary:</p>
<div class="highlight-python"><div class="highlight"><pre>1.1.1.1:2000
</pre></div>
</div>
<p>to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;ip&#39;</span><span class="p">:</span> <span class="n">IPv4Address</span><span class="p">(</span><span class="s">&#39;1.1.1.1&#39;</span><span class="p">),</span> <span class="s">&#39;port&#39;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input</strong> &#8211; IP and port</li>
<li><strong>type</strong> &#8211; string</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dictionary with keys <code class="docutils literal"><span class="pre">ip</span></code> and <code class="docutils literal"><span class="pre">port</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="steelscript.cmdline.parsers.parse_url_to_host_port_protocol">
<code class="descclassname">steelscript.cmdline.parsers.</code><code class="descname">parse_url_to_host_port_protocol</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.parsers.parse_url_to_host_port_protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse url to a dictionary using <code class="xref py py-func docutils literal"><span class="pre">urlparse.urlparse()</span></code>,
inferring the port from the scheme (a.k.a. protocol):</p>
<div class="highlight-python"><div class="highlight"><pre>http://blah.com
</pre></div>
</div>
<p>becomes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span><span class="s">&#39;host&#39;</span><span class="p">:</span> <span class="s">&#39;blah.com&#39;</span><span class="p">,</span> <span class="s">&#39;port&#39;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s">&#39;protocol&#39;</span><span class="p">:</span> <span class="s">&#39;http&#39;</span><span class="p">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input</strong> &#8211; url</li>
<li><strong>type</strong> &#8211; string</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict with port always specified</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="steelscript.cmdline.parsers.parse_saasinfo_data">
<code class="descclassname">steelscript.cmdline.parsers.</code><code class="descname">parse_saasinfo_data</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#steelscript.cmdline.parsers.parse_saasinfo_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse saasinfo data to a dictionary contained ip, port and geodns mapping
data structures:</p>
<div class="highlight-python"><div class="highlight"><pre>=================================
SaaS Application
=================================
SAMPLEAPP

=================================
SaaS IP
=================================
10.41.222.0/24 [0-65535]
111.221.112.0/21 [1-65535]
111.221.116.0/24 [1-65535]
111.221.17.160/27 [1-65535]
111.221.20.128/25 [0-65535]

=================================
SaaS Hostname
=================================
*.mail.apac.example.com
*.example1.com
*.example2.com
example1.com

=================================
GeoDNS
=================================
---------------------------------
MBX Region
---------------------------------
blu nam.ca.bay-area
apc nam.ca.bay-area
xyz nam.ca.bay-area
abc nam.tx.san-antonio
---------------------------------
Regional IPs
---------------------------------
nam.ca.bay-area
132.245.80.146
132.245.80.150
nam.tx.san-antonio
132.245.80.153
132.245.80.156
132.245.81.114
</pre></div>
</div>
<p>to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&#39;appid&#39;</span><span class="p">:</span> <span class="s">&#39;SAMPLEAPP&#39;</span><span class="p">,</span>
    <span class="s">&#39;ip&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">&#39;10.41.222.0/24 [0-65535]&#39;</span><span class="p">,</span>
        <span class="s">&#39;111.221.112.0/21 [1-65535]&#39;</span><span class="p">,</span>
        <span class="s">&#39;111.221.116.0/24 [1-65535]&#39;</span><span class="p">,</span>
        <span class="s">&#39;111.221.17.160/27 [1-65535]&#39;</span><span class="p">,</span>
        <span class="s">&#39;111.221.20.128/25 [0-65535]&#39;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s">&#39;host&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s">&#39;*.mail.apac.example.com&#39;</span><span class="p">,</span>
        <span class="s">&#39;*.example1.com&#39;</span><span class="p">,</span>
        <span class="s">&#39;*.example2.com&#39;</span><span class="p">,</span>
        <span class="s">&#39;example1.com&#39;</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s">&#39;geodns&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">&#39;nam.ca.bay-area&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">&#39;mbx&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;blu&#39;</span><span class="p">,</span> <span class="s">&#39;apc&#39;</span><span class="p">,</span> <span class="s">&#39;xyz&#39;</span><span class="p">],</span>
            <span class="s">&#39;ip&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;132.245.80.146&#39;</span><span class="p">,</span> <span class="s">&#39;132.245.80.150&#39;</span><span class="p">],</span>
        <span class="p">},</span>
        <span class="s">&#39;nam.tx.san-antonio&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">&#39;mbx&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;abc&#39;</span><span class="p">],</span>
            <span class="s">&#39;ip&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s">&#39;132.245.80.153&#39;</span><span class="p">,</span>
                <span class="s">&#39;132.245.80.156&#39;</span><span class="p">,</span>
                <span class="s">&#39;132.245.81.114&#39;</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input</strong> &#8211; CLI output of saasinfo data</li>
<li><strong>type</strong> &#8211; string</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dictionary with saasinfo data as above</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/rb-ss-logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="overview.html">SteelScript Command Line</a></h3>
  <ul>
<li><a class="reference internal" href="#">10.3. SteelScript Command Line Sources</a><ul>
<li><a class="reference internal" href="#cli-objects">10.3.1. <code class="docutils literal"><span class="pre">CLI</span></code> Objects</a><ul>
<li><a class="reference internal" href="#ios-cli-objects">10.3.1.1. <code class="docutils literal"><span class="pre">IOS_CLI</span></code> Objects</a></li>
<li><a class="reference internal" href="#rvbd-cli-objects">10.3.1.2. <code class="docutils literal"><span class="pre">RVBD_CLI</span></code> Objects</a></li>
<li><a class="reference internal" href="#vyattacli-objects">10.3.1.3. <code class="docutils literal"><span class="pre">VyattaCLI</span></code> Objects</a></li>
</ul>
</li>
<li><a class="reference internal" href="#channel-objects">10.3.2. <code class="docutils literal"><span class="pre">Channel</span></code> Objects</a></li>
<li><a class="reference internal" href="#cmdlineexception-objects">10.3.3. <code class="docutils literal"><span class="pre">CmdlineException</span></code> Objects</a><ul>
<li><a class="reference internal" href="#cmdlinetimeout-objects">10.3.3.1. <code class="docutils literal"><span class="pre">CmdlineTimeout</span></code> Objects</a></li>
<li><a class="reference internal" href="#connectionerror-objects">10.3.3.2. <code class="docutils literal"><span class="pre">ConnectionError</span></code> Objects</a></li>
<li><a class="reference internal" href="#clinotrunning-objects">10.3.3.3. <code class="docutils literal"><span class="pre">CLINotRunning</span></code> Objects</a></li>
<li><a class="reference internal" href="#cmdlineerror-objects">10.3.3.4. <code class="docutils literal"><span class="pre">CmdlineError</span></code> Objects</a></li>
<li><a class="reference internal" href="#shellerror-objects">10.3.3.5. <code class="docutils literal"><span class="pre">ShellError</span></code> Objects</a></li>
<li><a class="reference internal" href="#clierror-objects">10.3.3.6. <code class="docutils literal"><span class="pre">CLIError</span></code> Objects</a></li>
<li><a class="reference internal" href="#unexpectedoutput-objects">10.3.3.7. <code class="docutils literal"><span class="pre">UnexpectedOutput</span></code> Objects</a></li>
<li><a class="reference internal" href="#unknownclimode-objects">10.3.3.8. <code class="docutils literal"><span class="pre">UnknownCLIMode</span></code> Objects</a></li>
</ul>
</li>
<li><a class="reference internal" href="#libvirtchannel-objects">10.3.4. <code class="docutils literal"><span class="pre">LibVirtChannel</span></code> Objects</a></li>
<li><a class="reference internal" href="#shell-objects">10.3.5. <code class="docutils literal"><span class="pre">Shell</span></code> Objects</a></li>
<li><a class="reference internal" href="#sshchannel-objects">10.3.6. <code class="docutils literal"><span class="pre">SSHChannel</span></code> Objects</a></li>
<li><a class="reference internal" href="#sshprocess-objects">10.3.7. <code class="docutils literal"><span class="pre">SSHProcess</span></code> Objects</a></li>
<li><a class="reference internal" href="#telnetchannel-objects">10.3.8. <code class="docutils literal"><span class="pre">TelnetChannel</span></code> Objects</a></li>
<li><a class="reference internal" href="#transport-objects">10.3.9. <code class="docutils literal"><span class="pre">Transport</span></code> Objects</a></li>
<li><a class="reference internal" href="#module-steelscript.cmdline.parsers">10.3.10. Parsers</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial.html"
                        title="previous chapter">10.2. SteelScript Command Line Tutorial</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../vmconfig/toc.html"
                        title="next chapter">11. SteelScript VM Config</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/cmdline/cmdline.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>
<a href="../license.html">License</a>
</h3>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../vmconfig/toc.html" title="11. SteelScript VM Config"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="10.2. SteelScript Command Line Tutorial"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">steelscript  documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../toc.html" >Table of Contents</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="toc.html" >10. SteelScript Command Line</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015 Riverbed Technology, Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>