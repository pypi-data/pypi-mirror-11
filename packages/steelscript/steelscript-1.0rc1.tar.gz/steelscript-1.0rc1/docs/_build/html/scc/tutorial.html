<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>8.2. SteelScript SCC Tutorial &mdash; steelscript  documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/extra.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="steelscript  documentation" href="../index.html" />
    <link rel="up" title="8. SteelScript SCC" href="toc.html" />
    <link rel="next" title="8.3. SteelScript SCC Sources" href="scc.html" />
    <link rel="prev" title="8.1. SteelScript SCC" href="overview.html" />
    <script type="text/javascript" src="//nexus.ensighten.com/riverbed/rvbss/Bootstrap.js"></script>
     

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="scc.html" title="8.3. SteelScript SCC Sources"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="overview.html" title="8.1. SteelScript SCC"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">steelscript  documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../toc.html" >Table of Contents</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="toc.html" accesskey="U">8. SteelScript SCC</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="steelscript-scc-tutorial">
<h1>8.2. SteelScript SCC Tutorial<a class="headerlink" href="#steelscript-scc-tutorial" title="Permalink to this headline">¶</a></h1>
<p>This tutorial presents a step-by-step description of how to use
SteelScript SCC package to develop scripts to retrieve data from
target SCC device.</p>
<div class="section" id="background">
<h2>8.2.1. Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>SCC provides centralized reporting and analysis of the states of
other connected riverbed appliances (i.e., SteelHead). SteelScript
for SCC makes this wealth of data easily accessible via Python.</p>
</div>
<div class="section" id="scc-objects">
<h2>8.2.2. SCC Objects<a class="headerlink" href="#scc-objects" title="Permalink to this headline">¶</a></h2>
<p>Interacting with a SCC leverages two key classes:</p>
<ul class="simple">
<li><a class="reference internal" href="scc.html#steelscript.scc.core.scc.SCC" title="steelscript.scc.core.scc.SCC"><code class="xref py py-class docutils literal"><span class="pre">SCC</span></code></a> - provides the primary interface to the
appliance, handling initialization, setup and communication via REST API calls.</li>
<li><a class="reference internal" href="scc.html#steelscript.scc.core.report.BaseStatsReport" title="steelscript.scc.core.report.BaseStatsReport"><code class="xref py py-class docutils literal"><span class="pre">BaseStatsReport</span></code></a> - leverages the SCC
object to pull data and create new reports.</li>
</ul>
<p>In most cases you will not use <a class="reference internal" href="scc.html#steelscript.scc.core.report.BaseStatsReport" title="steelscript.scc.core.report.BaseStatsReport"><code class="xref py py-class docutils literal"><span class="pre">BaseStatsReport</span></code></a>
directly &#8211; your scripts will use a more helpful object tailored to the
desired report, such as a
<a class="reference internal" href="scc.html#steelscript.scc.core.report.BWTimeSeriesStatsReport" title="steelscript.scc.core.report.BWTimeSeriesStatsReport"><code class="xref py py-class docutils literal"><span class="pre">BWTimeSeriesStatsReport</span></code></a> or a
<a class="reference internal" href="scc.html#steelscript.scc.core.report.ThroughputStatsReport" title="steelscript.scc.core.report.ThroughputStatsReport"><code class="xref py py-class docutils literal"><span class="pre">ThroughputStatsReport</span></code></a>.
We will cover those shortly.</p>
</div>
<div class="section" id="startup">
<h2>8.2.3. Startup<a class="headerlink" href="#startup" title="Permalink to this headline">¶</a></h2>
<p>As with any Python code, the first step is to import the modules involved.
The SteelScript code for working with SCC appliances resides in a module
<a class="reference internal" href="scc.html#module-steelscript.scc.core" title="steelscript.scc.core"><code class="xref py py-mod docutils literal"><span class="pre">steelscript.scc.core</span></code></a>. The main class in this module is
<a class="reference internal" href="scc.html#steelscript.scc.core.scc.SCC" title="steelscript.scc.core.scc.SCC"><code class="xref py py-class docutils literal"><span class="pre">SCC</span></code></a>. This object represents a connection to an
SCC appliance. Let&#8217;s see how easy it is to create an SCC object.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">steelscript.scc.core</span> <span class="kn">import</span> <span class="n">SCC</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">steelscript.common.service</span> <span class="kn">import</span> <span class="n">OAuth</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scc</span> <span class="o">=</span> <span class="n">SCC</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">&#39;$hostname&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">OAuth</span><span class="p">(</span><span class="s">&#39;$access_code&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>Replace the first argument <code class="docutils literal"><span class="pre">$hostname</span></code> with the hostname or IP address
of the SCC appliance. The second argument is an access code,
which is required for OAuth 2.0 authentication. The access code is usually
obtained on the web UI of the SCC appliance (See the &#8220;Enabling REST API Access&#8221;
section in your SCC documentation for more information).</p>
</div>
<div class="section" id="generating-reports">
<h2>8.2.4. Generating Reports<a class="headerlink" href="#generating-reports" title="Permalink to this headline">¶</a></h2>
<p>After an SCC object has been instantiated, now it is time to use it to
retrieve some data from the SCC appliance. Good news is that
SteelScript-SCC comes with a comprehensive coverage of all resources
underneath the <code class="docutils literal"><span class="pre">cmc.stats</span></code> service. One just needs to browse through
classes defined in the <a class="reference internal" href="scc.html#module-steelscript.scc.core" title="steelscript.scc.core"><code class="xref py py-mod docutils literal"><span class="pre">steelscript.scc.core</span></code></a>
module to use the report class matching current needs. For example, in order to get
optimized bandwidth at different times of all devices associated with the SCC appliance,
<a class="reference internal" href="scc.html#steelscript.scc.core.report.BWTimeSeriesStatsReport" title="steelscript.scc.core.report.BWTimeSeriesStatsReport"><code class="xref py py-class docutils literal"><span class="pre">BWTimeSeriesStatsReport</span></code></a> is the one to use.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">steelscript.scc.core</span> <span class="kn">import</span> <span class="n">BWTimeSeriesStatsReport</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span> <span class="o">=</span> <span class="n">BWTimeSeriesStatsReport</span><span class="p">(</span><span class="n">scc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">timefilter</span><span class="o">=</span><span class="s">&quot;last 1 hour&quot;</span><span class="p">,</span> <span class="n">traffic_type</span><span class="o">=</span><span class="s">&#39;optimized&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal"><span class="pre">timefilter</span></code> specifies the time range of the query and <code class="docutils literal"><span class="pre">traffic_type</span></code>
determines the type of traffic to query.</p>
<p>Now that the report has been run, we can fetch the data by accessing the data attribute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">report</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="go">[{u&#39;data&#39;: [7308580.0, 16571400.0, 13216600.0, 68872900.0],</span>
<span class="go">  u&#39;timestamp&#39;: 1440780000},</span>
<span class="go"> {u&#39;data&#39;: [6002410.0, 23606000.0, 10935900.0, 52749800.0],</span>
<span class="go">  u&#39;timestamp&#39;: 1440780300},</span>
<span class="go"> {u&#39;data&#39;: [4056250.0, 16865900.0, 6394300.0, 37789200.0],</span>
<span class="go">  u&#39;timestamp&#39;: 1440780600},</span>
<span class="go"> {u&#39;data&#39;: [5850490.0, 44258800.0, 11690500.0, 104962000.0],</span>
<span class="go">  u&#39;timestamp&#39;: 1440780900},</span>
<span class="go"> {u&#39;data&#39;: [7468290.0, 24188900.0, 12829400.0, 84234000.0],</span>
<span class="go">  u&#39;timestamp&#39;: 1440781200},</span>
<span class="go"> {u&#39;data&#39;: [13041800.0, 34822600.0, 17672900.0, 77343300.0],</span>
<span class="go">  u&#39;timestamp&#39;: 1440781500},</span>
<span class="go"> {u&#39;data&#39;: [182396000.0, 206378000.0, 195764000.0, 261148000.0],</span>
<span class="go">  u&#39;timestamp&#39;: 1440781800},</span>
<span class="go"> {u&#39;data&#39;: [178387000.0, 194976000.0, 199298000.0, 235883000.0],</span>
<span class="go">  u&#39;timestamp&#39;: 1440782100},</span>
<span class="go"> {u&#39;data&#39;: [177016000.0, 203324000.0, 190545000.0, 261889000.0],</span>
<span class="go">  u&#39;timestamp&#39;: 1440782400},</span>
<span class="go"> {u&#39;data&#39;: [187747000.0, 416022000.0, 197363000.0, 450196000.0],</span>
<span class="go">  u&#39;timestamp&#39;: 1440782700},</span>
<span class="go"> {u&#39;data&#39;: [151403000.0, 334982000.0, 216453000.0, 422683000.0],</span>
<span class="go">  u&#39;timestamp&#39;: 1440783000},</span>
<span class="go"> {u&#39;data&#39;: [159875000.0, 409043000.0, 190787000.0, 451655000.0],</span>
<span class="go">  u&#39;timestamp&#39;: 1440783300}]</span>
</pre></div>
</div>
</div>
<div class="section" id="extending-the-example">
<h2>8.2.5. Extending the Example<a class="headerlink" href="#extending-the-example" title="Permalink to this headline">¶</a></h2>
<p>As a last item to help get started with your own scripts, we will extend
our example with command-line options.</p>
<p>Below is an example script with ability to accept command-line options and
present data in a table-like format.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>

<span class="kn">import</span> <span class="nn">pprint</span>

<span class="kn">from</span> <span class="nn">steelscript.scc.core.app</span> <span class="kn">import</span> <span class="n">SCCApp</span>
<span class="kn">from</span> <span class="nn">steelscript.scc.core</span> <span class="kn">import</span> <span class="n">BWTimeSeriesStatsReport</span>


<span class="k">class</span> <span class="nc">BWTimeSeriesStatsReportApp</span><span class="p">(</span><span class="n">SCCApp</span><span class="p">):</span>

    <span class="n">traffic_types</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;optimized&#39;</span><span class="p">,</span> <span class="s">&#39;passthrough&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">add_options</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">BWTimeSeriesStatsReportApp</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">add_options</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>

        <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span>
            <span class="s">&#39;--timefilter&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;timefilter&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">&#39;last 1 hour&#39;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s">&#39;Time range to analyze (defaults to &quot;last 1 hour&quot;) &#39;</span>
            <span class="s">&#39;other valid formats are: &quot;4/21/13 4:00 to 4/21/13 5:00&quot; &#39;</span>
            <span class="s">&#39;or &quot;16:00:00 to 21:00:04.546&quot;&#39;</span><span class="p">)</span>

        <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span>
            <span class="s">&#39;--traffic_type&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;traffic_type&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">&#39;optimized&#39;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s">&#39;Type of traffic to query, either optimized or passthrough&#39;</span><span class="p">)</span>

        <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span>
            <span class="s">&#39;--devices&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;devices&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s">&#39;An array of devices being queried on. None implies all &#39;</span>
            <span class="s">&#39;devices. If multiple devices are queried on, the data points &#39;</span>
            <span class="s">&#39;are the sum across all the devices.&#39;</span><span class="p">)</span>

        <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s">&#39;--port&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;port&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">report</span> <span class="o">=</span> <span class="n">BWTimeSeriesStatsReport</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scc</span><span class="p">)</span>
        <span class="n">report</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">traffic_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">traffic_type</span><span class="p">,</span>
                   <span class="n">timefilter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">timefilter</span><span class="p">,</span>
                   <span class="n">devices</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">devices</span><span class="p">,</span>
                   <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>
        <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">report</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">BWTimeSeriesStatsReportApp</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Copy the above code into a new file, and now you can run the file to display the data.</p>
<div class="highlight-python"><div class="highlight"><pre>&gt; python myreport.py $hostname $access_code --devices $serial_numbers --traffic_type &#39;optimized&#39; --timefilter &#39;last 1 hour&#39;
 [{u&#39;data&#39;: [7308580.0, 16571400.0, 13216600.0, 68872900.0],
   u&#39;timestamp&#39;: 1440780000},
  {u&#39;data&#39;: [6002410.0, 23606000.0, 10935900.0, 52749800.0],
   u&#39;timestamp&#39;: 1440780300},
  {u&#39;data&#39;: [4056250.0, 16865900.0, 6394300.0, 37789200.0],
   u&#39;timestamp&#39;: 1440780600},
  {u&#39;data&#39;: [5850490.0, 44258800.0, 11690500.0, 104962000.0],
   u&#39;timestamp&#39;: 1440780900},
  {u&#39;data&#39;: [7468290.0, 24188900.0, 12829400.0, 84234000.0],
   u&#39;timestamp&#39;: 1440781200},
  {u&#39;data&#39;: [13041800.0, 34822600.0, 17672900.0, 77343300.0],
   u&#39;timestamp&#39;: 1440781500},
  {u&#39;data&#39;: [182396000.0, 206378000.0, 195764000.0, 261148000.0],
   u&#39;timestamp&#39;: 1440781800},
  {u&#39;data&#39;: [178387000.0, 194976000.0, 199298000.0, 235883000.0],
   u&#39;timestamp&#39;: 1440782100},
  {u&#39;data&#39;: [177016000.0, 203324000.0, 190545000.0, 261889000.0],
   u&#39;timestamp&#39;: 1440782400},
  {u&#39;data&#39;: [187747000.0, 416022000.0, 197363000.0, 450196000.0],
   u&#39;timestamp&#39;: 1440782700},
  {u&#39;data&#39;: [151403000.0, 334982000.0, 216453000.0, 422683000.0],
   u&#39;timestamp&#39;: 1440783000},
  {u&#39;data&#39;: [159875000.0, 409043000.0, 190787000.0, 451655000.0],
   u&#39;timestamp&#39;: 1440783300}]
</pre></div>
</div>
<p>Now let us walk through the above script in detail.</p>
<p>First we need to import some modules.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>

<span class="kn">import</span> <span class="nn">pprint</span>

<span class="kn">from</span> <span class="nn">steelscript.scc.core.app</span> <span class="kn">import</span> <span class="n">SCCApp</span>
<span class="kn">from</span> <span class="nn">steelscript.scc.core</span> <span class="kn">import</span> <span class="n">BWTimeSeriesStatsReport</span>
</pre></div>
</div>
<p>The first line is called a shebang, it tells the system that the script should
be executed using the program after &#8216;#!&#8217;. The <code class="docutils literal"><span class="pre">SCCApp</span></code> is imported for ease
of writing scripts to generate reports for SCC. The
<a class="reference internal" href="scc.html#steelscript.scc.core.report.BWTimeSeriesStatsReport" title="steelscript.scc.core.report.BWTimeSeriesStatsReport"><code class="xref py py-class docutils literal"><span class="pre">BWTimeSeriesStatsReport</span></code></a> is
imported to facilitate reporting data retrieved at resource &#8216;bw_timeseries&#8217;, which
belongs to the &#8216;cmc.stats&#8217; service on a SCC device.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">BWTimeSeriesStatsReportApp</span><span class="p">(</span><span class="n">SCCApp</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">add_options</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">BWTimeSeriesStatsReportApp</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">add_options</span><span class="p">(</span><span class="n">parser</span><span class="p">)</span>

        <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span>
            <span class="s">&#39;--timefilter&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;timefilter&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">&#39;last 1 hour&#39;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s">&#39;Time range to analyze (defaults to &quot;last 1 hour&quot;) &#39;</span>
            <span class="s">&#39;other valid formats are: &quot;4/21/13 4:00 to 4/21/13 5:00&quot; &#39;</span>
            <span class="s">&#39;or &quot;16:00:00 to 21:00:04.546&quot;&#39;</span><span class="p">)</span>

        <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span>
            <span class="s">&#39;--traffic_type&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;traffic_type&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">&#39;optimized&#39;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s">&#39;Type of traffic to query, either optimized or passthrough&#39;</span><span class="p">)</span>

        <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span>
            <span class="s">&#39;--devices&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;devices&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s">&#39;An array of devices being queried on. None implies all &#39;</span>
            <span class="s">&#39;devices. If multiple devices are queried on, the data points &#39;</span>
            <span class="s">&#39;are the sum across all the devices.&#39;</span><span class="p">)</span>

        <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s">&#39;--port&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s">&#39;port&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<p>This section begins with definition of the <code class="docutils literal"><span class="pre">BWTimeSeriesStatsReportApp</span></code> class,
which inherits from the class <a class="reference internal" href="scc.html#steelscript.scc.core.app.SCCApp" title="steelscript.scc.core.app.SCCApp"><code class="xref py py-class docutils literal"><span class="pre">SCCApp</span></code></a>. The inheritence
saves work of adding hostname option as well as access code option, both of which
are required for fetching data from SCC device.</p>
<p>The <code class="docutils literal"><span class="pre">add_options</span></code> method introduces options to the report, including time filter,
traffic type, devices and port. The help text for each option can be seen using the
&#8216;&#8211;help&#8217; option.</p>
<div class="highlight-python"><div class="highlight"><pre>    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">report</span> <span class="o">=</span> <span class="n">BWTimeSeriesStatsReport</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scc</span><span class="p">)</span>
        <span class="n">report</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">traffic_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">traffic_type</span><span class="p">,</span>
                   <span class="n">timefilter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">timefilter</span><span class="p">,</span>
                   <span class="n">devices</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">devices</span><span class="p">,</span>
                   <span class="n">port</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>
        <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">report</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">BWTimeSeriesStatsReportApp</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>This is the main part of the script. The <code class="docutils literal"><span class="pre">run</span></code> method of the
<a class="reference internal" href="scc.html#steelscript.scc.core.report.BWTimeSeriesStatsReport" title="steelscript.scc.core.report.BWTimeSeriesStatsReport"><code class="xref py py-class docutils literal"><span class="pre">BWTimeSeriesStatsReport</span></code></a>
class will execute its <code class="docutils literal"><span class="pre">main</span></code> method. In the <code class="docutils literal"><span class="pre">main</span></code> method, <code class="docutils literal"><span class="pre">self.scc</span></code> represents
the SCC object, which has been created by <a class="reference internal" href="scc.html#steelscript.scc.core.app.SCCApp" title="steelscript.scc.core.app.SCCApp"><code class="xref py py-class docutils literal"><span class="pre">SCCApp</span></code></a> class.
<code class="docutils literal"><span class="pre">report.run</span></code> will use all the input options and retrieve data via the SCC object.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/rb-ss-logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="overview.html">SteelScript SteelCentral Controller</a></h3>
  <ul>
<li><a class="reference internal" href="#">8.2. SteelScript SCC Tutorial</a><ul>
<li><a class="reference internal" href="#background">8.2.1. Background</a></li>
<li><a class="reference internal" href="#scc-objects">8.2.2. SCC Objects</a></li>
<li><a class="reference internal" href="#startup">8.2.3. Startup</a></li>
<li><a class="reference internal" href="#generating-reports">8.2.4. Generating Reports</a></li>
<li><a class="reference internal" href="#extending-the-example">8.2.5. Extending the Example</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="overview.html"
                        title="previous chapter">8.1. SteelScript SCC</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="scc.html"
                        title="next chapter">8.3. SteelScript SCC Sources</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/scc/tutorial.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>
<a href="../license.html">License</a>
</h3>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="scc.html" title="8.3. SteelScript SCC Sources"
             >next</a> |</li>
        <li class="right" >
          <a href="overview.html" title="8.1. SteelScript SCC"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">steelscript  documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../toc.html" >Table of Contents</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="toc.html" >8. SteelScript SCC</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015 Riverbed Technology, Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>