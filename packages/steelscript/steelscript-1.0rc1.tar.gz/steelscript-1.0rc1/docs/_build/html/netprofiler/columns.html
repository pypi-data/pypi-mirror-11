<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5.3. Profiler Columns and Groupbys &mdash; steelscript  documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/extra.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="steelscript  documentation" href="../index.html" />
    <link rel="up" title="5. SteelScript NetProfiler" href="toc.html" />
    <link rel="next" title="5.4. NetProfiler and Reporting" href="netprofiler.html" />
    <link rel="prev" title="5.2. SteelScript NetProfiler Tutorial" href="tutorial.html" />
    <script type="text/javascript" src="//nexus.ensighten.com/riverbed/rvbss/Bootstrap.js"></script>
     

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="netprofiler.html" title="5.4. NetProfiler and Reporting"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="5.2. SteelScript NetProfiler Tutorial"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">steelscript  documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../toc.html" >Table of Contents</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="toc.html" accesskey="U">5. SteelScript NetProfiler</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="profiler-columns-and-groupbys">
<h1>5.3. Profiler Columns and Groupbys<a class="headerlink" href="#profiler-columns-and-groupbys" title="Permalink to this headline">Â¶</a></h1>
<p>One of the key pieces of information <code class="xref py py-class docutils literal"><span class="pre">Profiler</span></code> keeps track of are all
of the different Column types, and under what context they are
appropriate.  For instance, when running a Traffic Summary report,
then &#8216;time&#8217; is not a valid column of data since this report type
organizes its information in other ways.</p>
<p>As mentioned earlier, one of the key pieces of information
keeps track of are all of the different Column types, and under what
context they are appropriate.  For instance, if we are running a
Traffic Summary report, then <code class="docutils literal"><span class="pre">time</span></code> is not a valid column of data
since this report type organizes its information in other ways.</p>
<p>Column types fall into two categories: keys and values.  Keys are
column types that represent the primary organization/grouping of the
data, and values are all of the different calculations that can be
made.</p>
<p>The contexts for columns that are available are defined by three
values: realm, centricity, and groupby.  A breakdown of how these
three inter-relate is shown in the following table:</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="20%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">realm</th>
<th class="head">centricity</th>
<th class="head">groupby</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>traffic_summary</td>
<td>hos,int</td>
<td>all (except thu)</td>
</tr>
<tr class="row-odd"><td>traffic_overall_time_series</td>
<td>hos,int</td>
<td>tim</td>
</tr>
<tr class="row-even"><td>traffic_flow_list</td>
<td>hos</td>
<td>hos</td>
</tr>
<tr class="row-odd"><td>identity_list</td>
<td>hos</td>
<td>thu</td>
</tr>
</tbody>
</table>
<p>As SteelScript develops further, this table and the available
permutations will expand.</p>
<p>Let&#8217;s take a look at how these work a little more closely.  Startup a
new instance of your Python interpreter, similar to before:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>python
Python 2.7.3 <span class="o">(</span>default, Apr <span class="m">19</span> 2012, 00:55:09<span class="o">)</span>
<span class="o">[</span>GCC 4.2.1 <span class="o">(</span>Based on Apple Inc. build 5658<span class="o">)</span> <span class="o">(</span>LLVM build 2335.15.00<span class="o">)]</span> on darwin
Type <span class="s2">&quot;help&quot;</span>, <span class="s2">&quot;copyright&quot;</span>, <span class="s2">&quot;credits&quot;</span> or <span class="s2">&quot;license&quot;</span> <span class="k">for</span> more information.

&gt;&gt;&gt; from steelscript.netprofiler.core import NetProfiler
&gt;&gt;&gt; from steelscript.common.service import UserAuth
&gt;&gt;&gt; <span class="nv">p</span> <span class="o">=</span> NetProfiler<span class="o">(</span><span class="s1">&#39;$hostname&#39;</span>, <span class="nv">auth</span><span class="o">=</span>UserAuth<span class="o">(</span><span class="s1">&#39;$username&#39;</span>, <span class="s1">&#39;$password&#39;</span><span class="o">))</span>
</pre></div>
</div>
<p>Now, lets investigate which columns are available for a specific type
of report:</p>
<div class="highlight-bash"><div class="highlight"><pre>&gt;&gt;&gt; <span class="nv">realms</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;traffic_summary&#39;</span><span class="o">]</span>
&gt;&gt;&gt; <span class="nv">centricities</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;hos&#39;</span><span class="o">]</span>
&gt;&gt;&gt; <span class="nv">groupbys</span> <span class="o">=</span> <span class="o">[</span><span class="s1">&#39;hos&#39;</span><span class="o">]</span>

&gt;&gt;&gt; <span class="nv">columns</span> <span class="o">=</span> p.search_columns<span class="o">(</span><span class="nv">realms</span><span class="o">=</span>realms, <span class="nv">centricities</span><span class="o">=</span>centricities, <span class="nv">groupbys</span><span class="o">=</span>groupbys<span class="o">)</span>
</pre></div>
</div>
<p>Here we have setup three local variables, and passed them as arguments
to the <a class="reference internal" href="netprofiler.html#steelscript.netprofiler.core.netprofiler.NetProfiler.search_columns" title="steelscript.netprofiler.core.netprofiler.NetProfiler.search_columns"><code class="xref py py-meth docutils literal"><span class="pre">search_columns()</span></code></a> method on our <code class="docutils literal"><span class="pre">profiler</span></code> object.
Note the brackets around each of the definitions we made, those mean
we created a <code class="docutils literal"><span class="pre">list</span></code> object for all three variables.  In this case,
the list contains only a single object, the string.</p>
<p>Let&#8217;s take a look at what that method returned:</p>
<div class="highlight-bash"><div class="highlight"><pre>&gt;&gt;&gt; len<span class="o">(</span>columns<span class="o">)</span>
146
</pre></div>
</div>
<p>So, a total of 146 columns can be chosen for a report with those three
filters!  Note your specific number may vary here, depending on the
specific version of Profiler you are running.</p>
<div class="highlight-bash"><div class="highlight"><pre>&gt;&gt;&gt; columns<span class="o">[</span>:2<span class="o">]</span>
<span class="o">[</span>&lt;Column<span class="o">(</span><span class="nv">cid</span><span class="o">=</span>31, <span class="nv">key</span><span class="o">=</span>total_pkts, <span class="nv">iskey</span><span class="o">=</span>False <span class="nv">label</span><span class="o">=</span>Total Packets<span class="o">)</span>&gt;,
 &lt;Column<span class="o">(</span><span class="nv">cid</span><span class="o">=</span>427, <span class="nv">key</span><span class="o">=</span>in_avg_conns_rsts, <span class="nv">iskey</span><span class="o">=</span>False <span class="nv">label</span><span class="o">=</span>Avg Resets/s <span class="o">(</span>Rx<span class="o">))</span>&gt;<span class="o">]</span>
</pre></div>
</div>
<p>This command uses <a class="reference external" href="http://stackoverflow.com/questions/509211/the-python-slice-notation">slicing</a>
to show only the first two elements of the list.  Notice these are
objects themselves, with quite a bit of information associated with
each one.  These objects are used extensively within <code class="docutils literal"><span class="pre">profiler</span></code>, but
the main thing to keep in mind is that you can refer to columns by
their text value (the &#8216;key&#8217; attribute), by index value (the &#8216;cid&#8217;
attribute in the example above), or by the actual object itself.</p>
<p>Another way to access one of the columns, is through the <code class="docutils literal"><span class="pre">profiler</span></code>
object as an attribute:</p>
<div class="highlight-bash"><div class="highlight"><pre>&gt;&gt;&gt; print p.columns.value.total_pkts
&lt;Column<span class="o">(</span><span class="nv">cid</span><span class="o">=</span>31, <span class="nv">key</span><span class="o">=</span>total_pkts, <span class="nv">iskey</span><span class="o">=</span>False <span class="nv">label</span><span class="o">=</span>Total Packets<span class="o">)</span>&gt;

&gt;&gt;&gt; print p.columns.key.time
&lt;Column<span class="o">(</span><span class="nv">cid</span><span class="o">=</span>98, <span class="nv">key</span><span class="o">=</span><span class="nb">time</span>, <span class="nv">iskey</span><span class="o">=</span>True <span class="nv">label</span><span class="o">=</span>Time<span class="o">)</span>&gt;
</pre></div>
</div>
<p>To see the complete list of all column keys you could enter the following:</p>
<div class="highlight-bash"><div class="highlight"><pre>&gt;&gt;&gt; print p.columns.keys
<span class="o">[</span>...long list of objects...<span class="o">]</span>

&gt;&gt;&gt; print p.columns.values
<span class="o">[</span>...long list of objects...<span class="o">]</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/rb-ss-logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial.html"
                        title="previous chapter">5.2. SteelScript NetProfiler Tutorial</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="netprofiler.html"
                        title="next chapter">5.4. NetProfiler and Reporting</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/netprofiler/columns.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>
<a href="../license.html">License</a>
</h3>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="netprofiler.html" title="5.4. NetProfiler and Reporting"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="5.2. SteelScript NetProfiler Tutorial"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">steelscript  documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../toc.html" >Table of Contents</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="toc.html" >5. SteelScript NetProfiler</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015 Riverbed Technology, Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>