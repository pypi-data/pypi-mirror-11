webpackJsonp([3],{0:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=n(2),s=i(o),a=n(120),c=i(a),u=n(123),h=n(368),d=i(h),p=n(370),f=i(p);window.PTL=window.PTL||{},PTL.user={init:function(t){if(void 0!==t.userData){var e=document.querySelector(".js-user-profile-edit"),n=new u.User(t.userData,{urlRoot:l("/xhr/users/")}),i={router:new f["default"],appRoot:t.appRoot,user:n};s["default"].render(s["default"].createElement(d["default"],i),e);var o=document.querySelectorAll(".js-popup-tweet");[].concat(r(o)).map(function(t){t.addEventListener("click",function(t){t.preventDefault();var e=500,n=260,i=screen.width/2-e/2,r=screen.height/2-n/2;window.open(t.currentTarget.href,"_blank","width="+e+",height="+n+",left="+i+",top="+r)})})}var a=document.querySelector(".js-last-action"),h=t.lastEvent,p={checkName:h.check_name,checkDisplayName:h.check_display_name,displayName:h.displayname,email:h.email,displayDatetime:h.display_datetime,isoDatetime:h.iso_datetime,type:h.type,translationActionType:h.translation_action_type,unitSource:h.unit_source,unitUrl:h.unit_url,username:h.username};s["default"].render(s["default"].createElement(c["default"],p),a)}}},17:function(t,e,n){"use strict";var i=n(7);n(40);var r=/<[^<]*?>|\r\n|[\r\n\t&<>]/gm,o=/^ +| +$|[\r\n\t] +| {2,}/gm,s=function(t){return(t||window).location.toString().split("#",2)[1]||""},a=function(t){return decodeURIComponent(t.replace(/\+/g," "))},l=function(t){var e,n={},i=/([^&;=]+)=?([^&;]*)/g;for(void 0===t&&(t=this.getHash());e=i.exec(t);)n[a(e[1])]=a(e[2]);return n},c=function(t,e,n){for(var r,o,l,c=/([^&;=]+)=?([^&;]*)/g,u=[],h=s();r=c.exec(h);)l=a(r[1]),l===t?(u.push([r[1],encodeURIComponent(e)].join("=")),o=!0):-1===i.inArray(l,n)&&u.push([r[1],r[2]].join("="));return o||u.push([encodeURIComponent(t),encodeURIComponent(e)].join("=")),u.join("&")},u=function(t,e){return t===e?0:e>t?-1:1},h=function(t){return t.replace(/\\t/g,"	").replace(/\\n/g,"")},d=function b(t){function e(t){var e,n='<span class="highlight-escape">%s</span>',i='<span class="highlight-html">&lt;%s&gt;</span>',r={"\r\n":n.replace(/%s/,"\\r\\n")+"<br/>\n","\r":n.replace(/%s/,"\\r")+"<br/>\n","\n":n.replace(/%s/,"\\n")+"<br/>\n","	":n.replace(/%s/,"\\t"),"&":"&amp;","<":"&lt;",">":"&gt;"};return e=r[t],void 0===e&&(e=i.replace(/%s/,b(t.slice(1,t.length-1)))),e}return t.replace(r,e)},p=function(t){function e(t){var e='<span class="translation-space"> </span>';return Array(t.length+1).join(e)}return t.replace(o,e)},f=function(t){return p(d(t))},g=function(t){var e,n,i=Date.now()-t,r=Math.round(Math.abs(i)/1e3),o=Math.round(r/60),s=Math.round(o/60),a=Math.round(s/24),l=Math.round(a/7),c=Math.round(a/365);return c>0?(e=ngettext("A year ago","%s years ago",c),n=[c]):l>0?(e=ngettext("A week ago","%s weeks ago",l),n=[l]):a>0?(e=ngettext("Yesterday","%s days ago",a),n=[a]):s>0?(e=ngettext("An hour ago","%s hours ago",s),n=[s]):o>0&&(e=ngettext("A minute ago","%s minutes ago",o),n=[o]),e?interpolate(e,n):gettext("A few seconds ago")},m=function(t,e,n){var r=i(t);r.length&&(r.select2(e),r.on("change",n))},v=function(t,e){for(var n=Array.prototype.slice.call(arguments).splice(2),i=t.split("."),r=i.pop(),o=0;o<i.length;o++)e=e[i[o]];return e[r].apply(this,n)},y=function w(t,e,n,i){t.toggleClass(e),n>1&&setTimeout(function(){return w(t,e,n-1,i)},i)};t.exports={getHash:s,getParsedHash:l,updateHashPart:c,strCmp:u,cleanEscape:h,fancyEscape:d,fancyHl:f,relativeDate:g,makeSelectableInput:m,executeFunctionByName:v,blinkClass:y}},24:function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(2),o=n(4),s=n(75),a=r.createClass({displayName:"FormElement",propTypes:{type:r.PropTypes.string,attribute:r.PropTypes.string.isRequired,label:r.PropTypes.string.isRequired,handleChange:r.PropTypes.func.isRequired,formData:r.PropTypes.object.isRequired,help:r.PropTypes.string,errors:r.PropTypes.object},getDefaultProps:function(){return{type:"text"}},render:function(){var t=this.props.attribute,e=["id",t].join("_"),n=this.props.help,i=o.size(this.props.errors)>0&&this.props.errors[t],s={text:l,email:l,password:l,textarea:l,checkbox:c,radio:c,select:u}[this.props.type],a={id:e,name:t,value:this.props.formData[t]};"select"===this.props.type&&(a.value=a.value.toString(),a.placeholder=gettext("Select..."),a.noResultsText=gettext("No results found"),a.clearValueText=gettext("Clear value"),a.clearAllText=gettext("Clear all"),a.searchPromptText=gettext("Type to search"));var h=o.extend({},this.props,a),d=r.createFactory(s)(h);return r.createElement("div",{className:"field-wrapper"},r.createElement("label",{htmlFor:e},this.props.label),d,i&&r.createElement("ul",{className:"errorlist"},i.map(function(t,e){return r.createElement("li",{key:e},t)})),n&&r.createElement("span",{className:"helptext"},n))}}),l=r.createClass({displayName:"FormValueInput",handleChange:function(t){this.props.handleChange(t.target.name,t.target.value)},render:function(){return"textarea"===this.props.type?r.createElement("textarea",i({onChange:this.handleChange},this.props)):r.createElement("input",i({onChange:this.handleChange},this.props))}}),c=r.createClass({displayName:"FormCheckedInput",handleChange:function(t){this.props.handleChange(t.target.name,t.target.checked)},render:function(){return r.createElement("input",i({checked:this.props.value,onChange:this.handleChange},this.props))}}),u=r.createClass({displayName:"FormSelectInput",propTypes:{name:r.PropTypes.string.isRequired,value:r.PropTypes.string.isRequired,options:r.PropTypes.array.isRequired,handleChange:r.PropTypes.func.isRequired},handleChange:function(t,e){this.props.handleChange(this.props.name,t)},render:function(){return r.createElement(s,i({value:this.props.value.toString(),options:this.props.options,onChange:this.handleChange},this.props))}});t.exports={FormElement:a}},25:function(t,e,n){"use strict";var i=n(2),r=n(4),o=n(73),s={getInitialState:function(){return{errors:{}}},clearValidation:function(){this.setState({errors:{}})},validateResponse:function(t){var e=JSON.parse(t.responseText);this.setState({errors:e.errors})},renderSingleError:function(t,e){return i.createElement("li",{key:e},t)},renderAllFormErrors:function(){var t=this.state.errors;return t.hasOwnProperty("__all__")?i.createElement("ul",{className:"errorlist errorlist-all"},t.__all__.map(this.renderSingleError)):null}},a={mixins:[s],getInitialState:function(){return{isDirty:!1}},handleChange:function(t,e){var n=r.extend({},this.state.formData);n[t]=e;var i=!r.isEqual(n,this.initialData);this.setState({formData:n,isDirty:i})},handleFormSuccess:function(){this.clearValidation(),this.initialData=r.extend({},this.state.formData),this.setState({isDirty:!1}),this.handleSuccess&&this.handleSuccess(this.getResource())},handleFormError:function(t){this.validateResponse(t),this.handleError&&this.handleError(t)}},l={mixins:[o,a],propTypes:{model:i.PropTypes.object.isRequired},getInitialState:function(){return this.initialData=r.pick(this.getResource().toJSON(),this.fields),{formData:r.extend({},this.initialData)}},componentDidMount:function(){if(r.isUndefined(this.fields))throw new Error("To use ModelFormMixin, you must define a `fields` property.");if(!r.isArray(this.fields))throw new Error("The `fields` property must be an array.")},getResource:function(){return this.props.model},handleFormSubmit:function(t){t.preventDefault(),this.getResource().save(this.state.formData,{wait:!0}).done(this.handleFormSuccess).error(this.handleFormError)}};t.exports={FormMixin:a,FormValidationMixin:s,ModelFormMixin:l}},40:function(t,e){!function(t){"undefined"==typeof t.fn.each2&&t.fn.extend({each2:function(e){for(var n=t([0]),i=-1,r=this.length;++i<r&&(n.context=n[0]=this[i])&&e.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function n(t,e){for(var n=0,i=e.length;i>n;n+=1)if(r(t,e[n]))return n;return-1}function i(){var e=t(L);e.appendTo("body");var n={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),n}function r(t,n){return t===n?!0:t===e||n===e?!1:null===t||null===n?!1:t.constructor===String?t+""==n+"":n.constructor===String?n+""==t+"":!1}function o(e,n){var i,r,o;if(null===e||e.length<1)return[];for(i=e.split(n),r=0,o=i.length;o>r;r+=1)i[r]=t.trim(i[r]);return i}function s(t){return t.outerWidth(!1)-t.width()}function a(n){var i="keyup-change-value";n.on("keydown",function(){t.data(n,i)===e&&t.data(n,i,n.val())}),n.on("keyup",function(){var r=t.data(n,i);r!==e&&n.val()!==r&&(t.removeData(n,i),n.trigger("keyup-change"))})}function l(n){n.on("mousemove",function(n){var i=I;(i===e||i.x!==n.pageX||i.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function c(t,n,i){i=i||e;var r;return function(){var e=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,e)},t)}}function u(t){var e,n=!1;return function(){return n===!1&&(e=t(),n=!0),e}}function h(t,e){var i=c(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){n(t.target,e.get())>=0&&i(t)})}function d(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,n=t[0],i=t.val().length;t.focus(),t.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(e=n.createTextRange(),e.collapse(!1),e.select()))},0)}function p(e){e=t(e)[0];var n=0,i=0;if("selectionStart"in e)n=e.selectionStart,i=e.selectionEnd-n;else if("selection"in document){e.focus();var r=document.selection.createRange();i=document.selection.createRange().text.length,r.moveStart("character",-e.value.length),n=r.text.length-i}return{offset:n,length:i}}function f(t){t.preventDefault(),t.stopPropagation()}function g(t){t.preventDefault(),t.stopImmediatePropagation()}function m(e){if(!A){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);A=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),A.attr("class","select2-sizer"),t("body").append(A)}return A.text(e.val()),A.width()}function v(e,n,i){var r,o,s=[];r=e.attr("class"),r&&(r=""+r,t(r.split(" ")).each2(function(){0===this.indexOf("select2-")&&s.push(this)})),r=n.attr("class"),r&&(r=""+r,t(r.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&s.push(this))})),e.attr("class",s.join(" "))}function y(t,e,n,i){var r=t.toUpperCase().indexOf(e.toUpperCase()),o=e.length;return 0>r?void n.push(i(t)):(n.push(i(t.substring(0,r))),n.push("<span class='select2-match'>"),n.push(i(t.substring(r,r+o))),n.push("</span>"),void n.push(i(t.substring(r+o,t.length))))}function b(n){var i,r=0,o=null,s=n.quietMillis||100,a=n.url,l=this;return function(c){window.clearTimeout(i),i=window.setTimeout(function(){r+=1;var i=r,s=n.data,u=a,h=n.transport||t.fn.select2.ajaxDefaults.transport,d={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||e,dataType:n.dataType||"json"},p=t.extend({},t.fn.select2.ajaxDefaults.params,d);s=s?s.call(l,c.term,c.page,c.context):null,u="function"==typeof u?u.call(l,c.term,c.page,c.context):u,null!==o&&o.abort(),n.params&&(t.isFunction(n.params)?t.extend(p,n.params.call(l)):t.extend(p,n.params)),t.extend(p,{url:u,dataType:n.dataType,data:s,success:function(t){if(!(r>i)){var e=n.results(t,c.page);c.callback(e)}}}),o=h.call(l,p)},s)}}function w(e){var n,i,r=e,o=function(t){return""+t.text};t.isArray(r)&&(i=r,r={results:i}),t.isFunction(r)===!1&&(i=r,r=function(){return i});var s=r();return s.text&&(o=s.text,t.isFunction(o)||(n=s.text,o=function(t){return t[n]})),function(e){var n,i=e.term,s={results:[]};return""===i?void e.callback(r()):(n=function(r,s){var a,l;if(r=r[0],r.children){a={};for(l in r)r.hasOwnProperty(l)&&(a[l]=r[l]);a.children=[],t(r.children).each2(function(t,e){n(e,a.children)}),(a.children.length||e.matcher(i,o(a),r))&&s.push(a)}else e.matcher(i,o(r),r)&&s.push(r)},t(r().results).each2(function(t,e){n(e,s.results)}),void e.callback(s))}}function x(n){var i=t.isFunction(n);return function(r){var o=r.term,s={results:[]};t(i?n():n).each(function(){var t=this.text!==e,n=t?this.text:this;(""===o||r.matcher(o,n))&&s.results.push(t?this:{id:this,text:this})}),r.callback(s)}}function C(e,n){if(t.isFunction(e))return!0;if(!e)return!1;throw new Error("formatterName must be a function or a falsy value")}function E(e){return t.isFunction(e)?e():e}function T(e){var n=0;return t.each(e,function(t,e){e.children?n+=T(e.children):n++}),n}function S(t,n,i,o){var s,a,l,c,u,h=t,d=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return e;for(;;){for(a=-1,l=0,c=o.tokenSeparators.length;c>l&&(u=o.tokenSeparators[l],a=t.indexOf(u),!(a>=0));l++);if(0>a)break;if(s=t.substring(0,a),t=t.substring(a+u.length),s.length>0&&(s=o.createSearchChoice(s,n),s!==e&&null!==s&&o.id(s)!==e&&null!==o.id(s))){for(d=!1,l=0,c=n.length;c>l;l++)if(r(o.id(s),o.id(n[l]))){d=!0;break}d||i(s)}}return h!==t?t:void 0}function _(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}if(window.Select2===e){var k,P,M,O,D,A,I,N,R,k={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case k.LEFT:case k.RIGHT:case k.UP:case k.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case k.SHIFT:case k.CTRL:case k.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},L="<div class='select2-measure-scrollbar'></div>";N=t(document),D=function(){var t=1;return function(){return t++}}(),N.on("mousemove",function(t){I={x:t.pageX,y:t.pageY}}),P=_(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var r,o,s,c,d=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&this.destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+D()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=u(function(){return n.element.closest("body")}),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(E(n.containerCss)),this.container.addClass(E(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(E(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=r=this.container.find(d),this.search=o=this.container.find("input.select2-input"),this.resultsPage=0,this.context=null,this.initContainer(),l(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",d,this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.on("scroll-debounced",d,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&r.mousewheel(function(t,e,n,i){var o=r.scrollTop();i>0&&0>=o-i?(r.scrollTop(0),f(t)):0>i&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),f(t))}),a(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",d,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var s=n.element.prop("disabled");s===e&&(s=!1),this.enable(!s);var c=n.element.prop("readonly");c===e&&(c=!1),this.readonly(c),R=R||i(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus()},destroy:function(){var t=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),t!==e&&(t.container.remove(),t.dropdown.remove(),t.opts.element.removeClass("select2-offscreen").removeData("select2").off(".select2").attr({tabindex:this.elementTabIndex}).prop("autofocus",this.autofocus||!1).show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:r(t.attr("locked"),"locked")}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(n){var i,s,a,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=s=n.element),s&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(i,r,o){var s,a=this.opts.id;(s=function(i,r,l){var u,h,d,p,f,g,m,v,y,b;for(i=n.sortResults(i,r,o),u=0,h=i.length;h>u;u+=1)d=i[u],f=d.disabled===!0,p=!f&&a(d)!==e,g=d.children&&d.children.length>0,m=t("<li></li>"),m.addClass("select2-results-dept-"+l),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(c.opts.formatResultCssClass(d)),v=t(document.createElement("div")),v.addClass("select2-result-label"),b=n.formatResult(d,v,o,c.opts.escapeMarkup),b!==e&&v.html(b),m.append(v),g&&(y=t("<ul></ul>"),y.addClass("select2-result-sub"),s(d.children,y,l+1),m.append(y)),m.data("select2-data",d),r.append(m)})(r,i,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(a=n.id,n.id=function(t){return t[a]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(s?(n.query=this.bind(function(n){var r,o,s,a={results:[],more:!1},l=n.term;s=function(t,e){var i;t.is("option")?n.matcher(l,t.text(),t)&&e.push(c.optionToData(t)):t.is("optgroup")&&(i=c.optionToData(t),t.children().each2(function(t,e){s(e,i.children)}),i.children.length>0&&e.push(i))},r=i.children(),this.getPlaceholder()!==e&&r.length>0&&(o=r[0],""===t(o).text()&&(r=r.not(o))),r.each2(function(t,e){s(e,a.results)}),n.callback(a)}),n.id=function(t){return t.id},n.formatResultCssClass=function(t){return t.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=b.call(n.element,n.ajax)):"data"in n?n.query=w(n.data):"tags"in n&&(n.query=x(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(t){return{id:t,text:t}}),n.initSelection===e&&(n.initSelection=function(e,i){var s=[];t(o(e.val(),n.separator)).each(function(){var e=this,i=this,o=n.tags;t.isFunction(o)&&(o=o()),t(o).each(function(){return r(this.id,e)?(i=this.text,!1):void 0}),s.push({id:e,text:i})}),i(s)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var t,n=this.opts.element;n.on("change.select2",this.bind(function(t){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t,i=n.prop("disabled");i===e&&(i=!1),this.enable(!i);var t=n.prop("readonly");t===e&&(t=!1),this.readonly(t),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(E(this.opts.containerCssClass)),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(this.opts.dropdownCssClass))}),n.on("propertychange.select2 DOMAttrModified.select2",t),this.mutationCallback===e&&(this.mutationCallback=function(e){e.forEach(t)}),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var n=t.Event("select2-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){return t===e&&(t=!0),this._enabled===t?!1:(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface(),!0)},readonly:function(t){return t===e&&(t=!1),this._readonly===t?!1:(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,i,r,o=this.dropdown,s=this.container.offset(),a=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=o.outerHeight(!1),u=t(window).scrollLeft()+t(window).width(),h=t(window).scrollTop()+t(window).height(),d=s.top+a,p=s.left,f=h>=d+c,g=s.top-c>=this.body().scrollTop(),m=o.outerWidth(!1),v=u>=p+m,y=o.hasClass("select2-drop-above");this.opts.dropdownAutoWidth?(r=t(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),m=o.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:R.width),m>l?l=m:m=l,v=u>=p+m):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(e=this.body().offset(),d-=e.top,p-=e.left),y?(n=!0,!g&&f&&(n=!1)):(n=!1,!f&&g&&(n=!0)),v||(p=s.left+l-m),n?(d=s.top-c,this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),i=t.extend({top:d,left:p,width:l},E(this.opts.dropdownCss)),o.css(i)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){function e(){return{width:Math.max(document.documentElement.scrollWidth,t(window).width()),height:Math.max(document.documentElement.scrollHeight,t(window).height())}}var n,i=this.containerId,r="scroll."+i,o="resize."+i,s="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),n=t("#select2-drop-mask"),0==n.length&&(n=t(document.createElement("div")),n.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body()),n.on("mousedown touchstart",function(e){var n,i=t("#select2-drop");i.length>0&&(n=i.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close(),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),n.css(e()),n.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var a=this;this.container.parents().add(window).each(function(){t(this).on(o+" "+r+" "+s,function(n){t("#select2-drop-mask").css(e()),a.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerId,n="scroll."+e,i="resize."+e,r="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(n).off(i).off(r)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return E(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,n,i,r,o,s,a,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void l.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),i=t(e[n]),r=i.offset().top+i.outerHeight(!0),n===e.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(r=a.offset().top+a.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),r>o&&l.scrollTop(l.scrollTop()+(r-o)),s=i.offset().top-l.offset().top,0>s&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(e){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=e;var r=t(n[i]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(e){var i,r,o=this.findHighlightableChoices();return 0===arguments.length?n(o.filter(".select2-highlighted")[0],o.get()):(e>=o.length&&(e=o.length-1),0>e&&(e=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),i=t(o[e]),i.addClass("select2-highlighted"),this.ensureHighlightVisible(),r=i.data("select2-data"),void(r&&this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r})))},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,r=this,o=this.search.val(),s=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:s,matcher:this.opts.matcher,callback:this.bind(function(t){r.opened()&&(r.opts.populateResults.call(this,e,t.results,{term:o,page:i,context:s}),r.postprocessResults(t,!1,!1),t.more===!0?(n.detach().appendTo(e).text(r.opts.formatLoadMore(i+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i,r.context=t.context)})})))},tokenize:function(){},updateResults:function(n){function i(){c.scrollTop(0),l.removeClass("select2-active"),h.positionDropdown()}function o(t){c.html(t),i()}var s,a,l=this.search,c=this.results,u=this.opts,h=this,d=l.val(),p=t.data(this.container,"select2-last-term");if((n===!0||!p||!r(d,p))&&(t.data(this.container,"select2-last-term",d),n===!0||this.showSearchInput!==!1&&this.opened())){var f=this.getMaximumSelectionSize();if(f>=1&&(s=this.data(),t.isArray(s)&&s.length>=f&&C(u.formatSelectionTooBig,"formatSelectionTooBig")))return void o("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(f)+"</li>");if(l.val().length<u.minimumInputLength)return o(C(u.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+u.formatInputTooShort(l.val(),u.minimumInputLength)+"</li>":""),void(n&&this.showSearch(!0));if(u.maximumInputLength&&l.val().length>u.maximumInputLength)return void o(C(u.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+u.formatInputTooLong(l.val(),u.maximumInputLength)+"</li>":"");u.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+u.formatSearching()+"</li>"),l.addClass("select2-active"),a=this.tokenize(),a!=e&&null!=a&&l.val(a),this.resultsPage=1,u.query({element:u.element,term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(s){var a;return this.opened()?(this.context=s.context===e?null:s.context,this.opts.createSearchChoice&&""!==l.val()&&(a=this.opts.createSearchChoice.call(null,l.val(),s.results),a!==e&&null!==a&&h.id(a)!==e&&null!==h.id(a)&&0===t(s.results).filter(function(){return r(h.id(this),h.id(a))}).length&&s.results.unshift(a)),0===s.results.length&&C(u.formatNoMatches,"formatNoMatches")?void o("<li class='select2-no-results'>"+u.formatNoMatches(l.val())+"</li>"):(c.empty(),h.opts.populateResults.call(this,c,s.results,{term:l.val(),page:this.resultsPage,context:null}),s.more===!0&&C(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(s,n),i(),void this.opts.element.trigger({type:"select2-loaded",data:s}))):void this.search.removeClass("select2-active")})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){d(this.search)},selectHighlighted:function(t){var e=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i&&(this.highlight(e),this.onSelect(i,t))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,i,r,o,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(i=n.split(";"),o=0,s=i.length;s>o;o+=1)if(r=i[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return n=this.opts.element.css("width"),n&&n.length>0?n:"resolve"===this.opts.width?0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),M=_(P,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));
return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,n;this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),e=this.search.get(0),e.createTextRange&&(n=e.createTextRange(),n.collapse(!1),n.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var e,n=this.container,i=this.dropdown;this.showSearch(!1),this.selection=e=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+D()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){if(t.which===k.PAGE_UP||t.which===k.PAGE_DOWN)return void f(t);switch(t.which){case k.UP:case k.DOWN:return this.moveHighlight(t.which===k.UP?-1:1),void f(t);case k.ENTER:return this.selectHighlighted(),void f(t);case k.TAB:return void this.selectHighlighted({noFocus:!0});case k.ESC:return this.cancel(t),void f(t)}}})),this.search.on("blur",this.bind(function(t){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){return!this.isInterfaceEnabled()||t.which===k.TAB||k.isControl(t)||k.isFunctionKey(t)||t.which===k.ESC?void 0:this.opts.openOnEnter===!1&&t.which===k.ENTER?void f(t):t.which==k.DOWN||t.which==k.UP||t.which==k.ENTER&&this.opts.openOnEnter?(this.open(),void f(t)):t.which==k.DELETE||t.which==k.BACKSPACE?(this.opts.allowClear&&this.clear(),void f(t)):void 0})),a(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){t.stopPropagation(),this.opened()||this.open()})),e.on("mousedown","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),g(t),this.close(),this.selection.focus())})),e.on("mousedown",this.bind(function(e){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),f(e)})),i.on("mousedown",this.bind(function(){this.search.focus()})),e.on("focus",this.bind(function(t){f(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");e&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e}),this.triggerChange({removed:e})))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.updateSelection([]),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder())})}},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=t.find(":selected");e(n.optionToData(i))}:"data"in e&&(e.initSelection=e.initSelection||function(n,i){var o=n.val(),s=null;e.query({matcher:function(t,n,i){var a=r(o,e.id(i));return a&&(s=i),a},callback:t.isFunction(i)?function(){i(s)}:t.noop})}),e},getPlaceholder:function(){return this.select&&""!==this.select.find("option").first().text()?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(""===this.opts.element.val()&&t!==e){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,n){var i=0,o=this;if(this.findHighlightableChoices().each2(function(t,e){return r(o.id(e.data("select2-data")),o.opts.element.val())?(i=t,!1):void 0}),n!==!1&&this.highlight(i),e===!0&&this.showSearchInput===!1){var s=this.opts.minimumResultsForSearch;s>=0&&this.showSearch(T(t.results)>=s)}},showSearch:function(e){this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e)},onSelect:function(t,e){if(this.triggerSelect(t)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.close(),e&&e.noFocus||this.selection.focus(),r(n,this.id(t))||this.triggerChange({added:t,removed:i})}},updateSelection:function(t){var n,i=this.selection.find("span");this.selection.data("select2-data",t),i.empty(),n=this.opts.formatSelection(t,i),n!==e&&i.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,n=!1,i=null,r=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find(":selected").each2(function(t,e){return i=r.optionToData(e),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:o});else{if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");if(!t&&0!==t)return void this.clear(n);this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){r.opts.element.val(t?r.id(t):""),r.updateSelection(t),r.setPlaceholder(),n&&r.triggerChange({added:t,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t,n){var i;return 0===arguments.length?(i=this.selection.data("select2-data"),i==e&&(i=null),i):void(t&&""!==t?(i=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:i})):this.clear(n))}}),O=_(P,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=[];t.find(":selected").each2(function(t,e){i.push(n.optionToData(e))}),e(i)}:"data"in e&&(e.initSelection=e.initSelection||function(n,i){var s=o(n.val(),e.separator),a=[];e.query({matcher:function(n,i,o){var l=t.grep(s,function(t){return r(t,e.id(o))}).length;return l&&a.push(o),l},callback:t.isFunction(i)?function(){for(var t=[],n=0;n<s.length;n++)for(var o=s[n],l=0;l<a.length;l++){var c=a[l];if(r(o,e.id(c))){t.push(c),a.splice(l,1);break}}i(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},initContainer:function(){var e,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(n);var i=this;this.selection.on("mousedown",".select2-search-choice",function(e){i.search[0].focus(),i.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+D()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var n=e.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),r=n.next(".select2-search-choice:not(.select2-locked)"),o=p(this.search);if(n.length&&(t.which==k.LEFT||t.which==k.RIGHT||t.which==k.BACKSPACE||t.which==k.DELETE||t.which==k.ENTER)){var s=n;return t.which==k.LEFT&&i.length?s=i:t.which==k.RIGHT?s=r.length?r:null:t.which===k.BACKSPACE?(this.unselect(n.first()),this.search.width(10),s=i.length?i:r):t.which==k.DELETE?(this.unselect(n.first()),this.search.width(10),s=r.length?r:null):t.which==k.ENTER&&(s=null),this.selectChoice(s),f(t),void(s&&s.length||this.open())}if((t.which===k.BACKSPACE&&1==this.keydowns||t.which==k.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void f(t);if(this.selectChoice(null),this.opened())switch(t.which){case k.UP:case k.DOWN:return this.moveHighlight(t.which===k.UP?-1:1),void f(t);case k.ENTER:return this.selectHighlighted(),void f(t);case k.TAB:return void this.selectHighlighted({noFocus:!0});case k.ESC:return this.cancel(t),void f(t)}if(t.which!==k.TAB&&!k.isControl(t)&&!k.isFunctionKey(t)&&t.which!==k.BACKSPACE&&t.which!==k.ESC){if(t.which===k.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===k.PAGE_UP||t.which===k.PAGE_DOWN)&&f(t),t.which===k.ENTER&&f(t)}}})),this.search.on("keyup",this.bind(function(t){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("mousedown",n,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),n=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],r=[],o=this;t(e).each(function(){n(o.id(this),i)<0&&(i.push(o.id(this)),r.push(this))}),e=r,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer(t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r=!n.locked,o=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=t("<li class='select2-search-choice select2-locked'><div></div></li>"),a=r?o:s,l=this.id(n),c=this.getVal();i=this.opts.formatSelection(n,a.find("div")),i!=e&&a.find("div").replaceWith("<div title='"+this.opts.escapeMarkup(i)+"'>"+this.opts.escapeMarkup(i)+"</div>"),r&&a.find(".select2-search-choice-close").on("mousedown",f).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),f(e))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",n),a.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(t){var e,i,r=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),e&&(i=n(this.id(e),r),i>=0&&(r.splice(i,1),this.setVal(r),this.select&&this.postprocessResults()),t.remove(),this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))},postprocessResults:function(t,e,i){var r=this.getVal(),o=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),a=this;o.each2(function(t,e){var i=a.id(e.data("select2-data"));n(i,r)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&this.results.append("<li class='select2-no-results'>"+a.opts.formatNoMatches(a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-s(this.search)},resizeSearch:function(){var t,e,n,i,r,o=s(this.search);t=m(this.search)+10,e=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,r=n-(e-i)-o,t>r&&(r=n-o),40>r&&(r=n-o),0>=r&&(r=t),this.search.width(r)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),o(t,this.opts.separator))},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each(function(){n(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),n=0;n<e.length;n++)for(var i=0;i<t.length;i++)r(this.opts.id(e[n]),this.opts.id(t[i]))&&(e.splice(n,1),n--,t.splice(i,1),i--);return{added:e,removed:t}},val:function(n,i){var r,o=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:r}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t(e).map(o.id);o.setVal(n),o.updateSelection(e),o.clearSearch(),i&&o.triggerChange(this.buildChangeDetails(r,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,n){var i,r,o=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(r=this.data(),e||(e=[]),i=t.map(e,function(t){return o.opts.id(t)}),this.setVal(i),this.updateSelection(e),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(r,this.data())),void 0)}}),t.fn.select2=function(){var i,r,o,s,a=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","readonly","positionDropdown","data"],c=["val","opened","isFocused","container","data"];return this.each(function(){if(0===a.length||"object"==typeof a[0])i=0===a.length?{}:t.extend({},a[0]),i.element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?s=i.element.prop("multiple"):(s=i.multiple||!1,"tags"in i&&(i.multiple=s=!0)),r=s?new O:new M,r.init(i);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(n(a[0],l)<0)throw"Unknown method: "+a[0];if(o=e,r=t(this).data("select2"),r===e)return;if(o="container"===a[0]?r.container:r[a[0]].apply(r,a.slice(1)),n(a[0],c)>=0)return!1}}),o===e?this:o},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,i){var r=[];return y(t.text,n.term,r,i),r.join("")},formatSelection:function(t,n){return t?t.text:e},sortResults:function(t,e,n){return t},formatResultCssClass:function(t){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return(""+e).toUpperCase().indexOf((""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:S,escapeMarkup:function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null}},t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:b,local:w,tags:x},util:{debounce:c,markMatch:y},"class":{"abstract":P,single:M,multi:O}}}}(jQuery)},49:function(t,e,n){/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
function i(){for(var t,e="",n=0;n<arguments.length;n++)if(t=arguments[n])if("string"==typeof t||"number"==typeof t)e+=" "+t;else if("[object Array]"===Object.prototype.toString.call(t))e+=" "+i.apply(null,t);else if("object"==typeof t)for(var r in t)t.hasOwnProperty(r)&&t[r]&&(e+=" "+r);return e.substr(1)}var r,o;"undefined"!=typeof t&&t.exports&&(t.exports=i),r=[],o=function(){return i}.apply(e,r),!(void 0!==o&&(t.exports=o))},71:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=i(r),s=n(11),a=n(17),l=o["default"].createClass({displayName:"TimeSince",mixins:[s.PureRenderMixin],propTypes:{dateTime:r.PropTypes.string.isRequired,title:r.PropTypes.string.isRequired},componentWillMount:function(){this.tickTimer=null,this.tick({refresh:!1})},componentWillReceiveProps:function(t){t.dateTime!==this.props.dateTime&&this.cleanup()},componentWillUnMount:function(){this.cleanup()},cleanup:function(){null!==this.tickTimer&&(clearTimeout(this.tickTimer),this.tickTimer=null)},tick:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{refresh:!0}:arguments[0],n=Date.parse(this.props.dateTime),i=Date.now(),r=Math.round(Math.abs(i-n)/1e3),o=void 0;60>r?o=3e4:3600>r?o=6e4:86400>r&&(o=36e5),void 0!==o&&(this.tickTimer=setTimeout(function(){return t.tick()},o)),e.refresh&&this.forceUpdate()},render:function(){var t=a.relativeDate(Date.parse(this.props.dateTime));return o["default"].createElement("time",{className:"extra-item-meta",title:this.props.title,dateTime:this.props.dateTime},t)}});e["default"]=l,t.exports=e["default"]},72:function(t,e,n){"use strict";var i=n(4),r={initialize:function(t){this.count=0,this.page=0,this.keywords="",this.on("add",this.incrCount),this.on("remove",this.decrCount)},parse:function(t,e){return this.count=t.count,t.models},comparator:"-id",incrCount:function(){this.count++},decrCount:function(){this.count--},fetchNextPage:function(t){var e=this.page+1,n=1===e?{}:{p:e},r=""===this.keywords?{}:{q:this.keywords},o=i.extend({},n,r),s={remove:!1,silent:!0,data:o};return i.defaults(s,t),this.fetch(s).done(function(){this.page=e}.bind(this))},search:function(t){var e={};return t!==this.keywords&&(this.setSearch(t),e={reset:!0}),this.fetchNextPage(e)},setSearch:function(t){this.keywords=t,this.page=0}};t.exports=r},73:function(t,e){"use strict";var n={componentDidMount:function(){this._boundForceUpdate=this.forceUpdate.bind(this,null),this.getResource().on("all",this._boundForceUpdate,this)},componentWillUnmount:function(){this.getResource().off("all",this._boundForceUpdate)}};t.exports=n},74:function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},75:function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(2),o=n(78),s=n(77),a=n(76),l=0,c=r.createClass({displayName:"Select",propTypes:{value:r.PropTypes.any,multi:r.PropTypes.bool,disabled:r.PropTypes.bool,options:r.PropTypes.array,delimiter:r.PropTypes.string,asyncOptions:r.PropTypes.func,autoload:r.PropTypes.bool,placeholder:r.PropTypes.string,noResultsText:r.PropTypes.string,clearable:r.PropTypes.bool,clearValueText:r.PropTypes.string,clearAllText:r.PropTypes.string,searchable:r.PropTypes.bool,searchPromptText:r.PropTypes.string,name:r.PropTypes.string,onChange:r.PropTypes.func,onFocus:r.PropTypes.func,onBlur:r.PropTypes.func,className:r.PropTypes.string,filterOption:r.PropTypes.func,filterOptions:r.PropTypes.func,matchPos:r.PropTypes.string,matchProp:r.PropTypes.string,inputProps:r.PropTypes.object,onOptionLabelClick:r.PropTypes.func},getDefaultProps:function(){return{value:void 0,options:void 0,disabled:!1,delimiter:",",asyncOptions:void 0,autoload:!0,placeholder:"Select...",noResultsText:"No results found",clearable:!0,clearValueText:"Clear value",clearAllText:"Clear all",searchable:!0,searchPromptText:"Type to search",name:void 0,onChange:void 0,className:void 0,matchPos:"any",matchProp:"any",inputProps:{},onOptionLabelClick:void 0}},getInitialState:function(){return{options:this.props.options,isFocused:!1,isOpen:!1,isLoading:!1}},componentWillMount:function(){this._optionsCache={},this._optionsFilterString="",this.setState(this.getStateFromValue(this.props.value)),this.props.asyncOptions&&this.props.autoload&&this.autoloadAsyncOptions();var t=this;this._closeMenuIfClickedOutside=function(e){if(t.state.isOpen){var n=t.refs.selectMenuContainer.getDOMNode(),i=t.refs.control.getDOMNode(),r=t.clickedOutsideElement(n,e),o=t.clickedOutsideElement(i,e);r&&o&&t.setState({isOpen:!1},t._unbindCloseMenuIfClickedOutside)}},this._bindCloseMenuIfClickedOutside=function(){document.addEventListener("click",t._closeMenuIfClickedOutside)},this._unbindCloseMenuIfClickedOutside=function(){document.removeEventListener("click",t._closeMenuIfClickedOutside)}},componentWillUnmount:function(){clearTimeout(this._blurTimeout),clearTimeout(this._focusTimeout),this.state.isOpen&&this._unbindCloseMenuIfClickedOutside()},componentWillReceiveProps:function(t){JSON.stringify(t.options)!==JSON.stringify(this.props.options)&&this.setState({options:t.options,filteredOptions:this.filterOptions(t.options)}),t.value!==this.state.value&&this.setState(this.getStateFromValue(t.value,t.options))},componentDidUpdate:function(){var t=this;if(!this.props.disabled&&this._focusAfterUpdate&&(clearTimeout(this._blurTimeout),this._focusTimeout=setTimeout(function(){t.getInputNode().focus(),t._focusAfterUpdate=!1},50)),this._focusedOptionReveal){if(this.refs.focused&&this.refs.menu){var e=this.refs.focused.getDOMNode(),n=this.refs.menu.getDOMNode(),i=e.getBoundingClientRect(),r=n.getBoundingClientRect();(i.bottom>r.bottom||i.top<r.top)&&(n.scrollTop=e.offsetTop+e.clientHeight-n.offsetHeight)}this._focusedOptionReveal=!1}},focus:function(){this.getInputNode().focus()},clickedOutsideElement:function(t,e){for(var n=e.target?e.target:e.srcElement;null!=n;){if(n===t)return!1;n=n.offsetParent}return!0},getStateFromValue:function(t,e){e||(e=this.state.options),this._optionsFilterString="";var n=this.initValuesArray(t,e),i=this.filterOptions(e,n);return{value:n.map(function(t){return t.value}).join(this.props.delimiter),values:n,inputValue:"",filteredOptions:i,placeholder:!this.props.multi&&n.length?n[0].label:this.props.placeholder,focusedOption:!this.props.multi&&n.length?n[0]:i[0]}},initValuesArray:function(t,e){return Array.isArray(t)||(t="string"==typeof t?t.split(this.props.delimiter):t?[t]:[]),t.map(function(t){if("string"==typeof t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]&&e[n].value===t)return e[n];return{value:t,label:t}}return t})},setValue:function(t,e){(e||void 0===e)&&(this._focusAfterUpdate=!0);var n=this.getStateFromValue(t);n.isOpen=!1,this.fireChangeEvent(n),this.setState(n)},selectValue:function(t){this.props.multi?t&&this.addValue(t):this.setValue(t),this._unbindCloseMenuIfClickedOutside()},addValue:function(t){this.setValue(this.state.values.concat(t))},popValue:function(){this.setValue(this.state.values.slice(0,this.state.values.length-1))},removeValue:function(t){this.setValue(this.state.values.filter(function(e){return e!==t}))},clearValue:function(t){t&&"mousedown"===t.type&&0!==t.button||this.setValue(null)},resetValue:function(){this.setValue(this.state.value)},getInputNode:function(){var t=this.refs.input;return this.props.searchable?t:t.getDOMNode()},fireChangeEvent:function(t){t.value!==this.state.value&&this.props.onChange&&this.props.onChange(t.value,t.values)},handleMouseDown:function(t){this.props.disabled||"mousedown"===t.type&&0!==t.button||(t.stopPropagation(),t.preventDefault(),this.state.isFocused?this.setState({isOpen:!0},this._bindCloseMenuIfClickedOutside):(this._openAfterFocus=!0,this.getInputNode().focus()))},handleInputFocus:function(t){var e=this.state.isOpen||this._openAfterFocus;this.setState({isFocused:!0,isOpen:e},function(){e?this._bindCloseMenuIfClickedOutside():this._unbindCloseMenuIfClickedOutside()}),this._openAfterFocus=!1,this.props.onFocus&&this.props.onFocus(t)},handleInputBlur:function(t){var e=this;this._blurTimeout=setTimeout(function(){e._focusAfterUpdate||e.setState({isFocused:!1})},50),this.props.onBlur&&this.props.onBlur(t)},handleKeyDown:function(t){if(!this.state.disabled){switch(t.keyCode){case 8:return void(this.state.inputValue||this.popValue());case 9:if(t.shiftKey||!this.state.isOpen||!this.state.focusedOption)return;this.selectFocusedOption();break;case 13:this.selectFocusedOption();break;case 27:this.state.isOpen?this.resetValue():this.clearValue();break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;default:return}t.preventDefault()}},_getNewFocusedOption:function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e]===this.state.focusedOption)return t[e];return t[0]},handleInputChange:function(t){if(this._optionsFilterString=t.target.value,this.props.asyncOptions)this.setState({isLoading:!0,inputValue:t.target.value}),this.loadAsyncOptions(t.target.value,{isLoading:!1,isOpen:!0},this._bindCloseMenuIfClickedOutside);else{var e=this.filterOptions(this.state.options);this.setState({isOpen:!0,inputValue:t.target.value,filteredOptions:e,focusedOption:this._getNewFocusedOption(e)},this._bindCloseMenuIfClickedOutside)}},autoloadAsyncOptions:function(){var t=this;this.loadAsyncOptions("",{},function(){t.setValue(t.props.value,!1)})},loadAsyncOptions:function(t,e,n){for(var i=this._currentRequestId=l++,r=0;r<=t.length;r++){var o=t.slice(0,r);if(this._optionsCache[o]&&(t===o||this._optionsCache[o].complete)){var s=this._optionsCache[o].options,a=this.filterOptions(s),c={options:s,filteredOptions:a,focusedOption:this._getNewFocusedOption(a)};for(var u in e)e.hasOwnProperty(u)&&(c[u]=e[u]);return this.setState(c),void(n&&n({}))}}var h=this;this.props.asyncOptions(t,function(r,o){if(r)throw r;if(h._optionsCache[t]=o,i===h._currentRequestId){var s=h.filterOptions(o.options),a={options:o.options,filteredOptions:s,focusedOption:h._getNewFocusedOption(s)};for(var l in e)e.hasOwnProperty(l)&&(a[l]=e[l]);h.setState(a),n&&n({})}})},filterOptions:function(t,e){if(!this.props.searchable)return t;var n=this._optionsFilterString,i=(e||this.state.values).map(function(t){return t.value});if(this.props.filterOptions)return this.props.filterOptions.call(this,t,n,i);var r=function(t){if(this.props.multi&&i.indexOf(t.value)>-1)return!1;if(this.props.filterOption)return this.props.filterOption.call(this,t,n);var e=String(t.value),r=String(t.label);return n&&"start"!==this.props.matchPos?"label"!==this.props.matchProp&&e.toLowerCase().indexOf(n.toLowerCase())>=0||"value"!==this.props.matchProp&&r.toLowerCase().indexOf(n.toLowerCase())>=0:"label"!==this.props.matchProp&&e.toLowerCase().substr(0,n.length)===n||"value"!==this.props.matchProp&&r.toLowerCase().substr(0,n.length)===n};return(t||[]).filter(r,this)},selectFocusedOption:function(){return this.selectValue(this.state.focusedOption)},focusOption:function(t){this.setState({focusedOption:t})},focusNextOption:function(){this.focusAdjacentOption("next")},focusPreviousOption:function(){this.focusAdjacentOption("previous")},focusAdjacentOption:function(t){this._focusedOptionReveal=!0;var e=this.state.filteredOptions;if(!this.state.isOpen)return void this.setState({isOpen:!0,inputValue:"",focusedOption:this.state.focusedOption||e["next"===t?0:e.length-1]},this._bindCloseMenuIfClickedOutside);if(e.length){for(var n=-1,i=0;i<e.length;i++)if(this.state.focusedOption===e[i]){n=i;break}var r=e[0];"next"===t&&n>-1&&n<e.length-1?r=e[n+1]:"previous"===t&&(r=n>0?e[n-1]:e[e.length-1]),this.setState({focusedOption:r})}},unfocusOption:function(t){this.state.focusedOption===t&&this.setState({focusedOption:null})},buildMenu:function(){var t=this.state.focusedOption?this.state.focusedOption.value:null;this.state.filteredOptions.length>0&&(t=null==t?this.state.filteredOptions[0]:t);var e=Object.keys(this.state.filteredOptions).map(function(e){var n=this.state.filteredOptions[e],i=t===n.value,o=s({"Select-option":!0,"is-focused":i,"is-disabled":n.disabled}),a=i?"focused":null,l=this.focusOption.bind(this,n),c=this.unfocusOption.bind(this,n),u=this.selectValue.bind(this,n);return n.disabled?r.createElement("div",{ref:a,key:"option-"+n.value,className:o},n.label):r.createElement("div",{ref:a,key:"option-"+n.value,className:o,onMouseEnter:l,onMouseLeave:c,onMouseDown:u,onClick:u},n.label)},this);return e.length?e:r.createElement("div",{className:"Select-noresults"},this.props.asyncOptions&&!this.state.inputValue?this.props.searchPromptText:this.props.noResultsText)},handleOptionLabelClick:function(t,e){var n=this.props.onOptionLabelClick;n&&n(t,e)},render:function(){var t=s("Select",this.props.className,{"is-multi":this.props.multi,"is-searchable":this.props.searchable,"is-open":this.state.isOpen,"is-focused":this.state.isFocused,"is-loading":this.state.isLoading,"is-disabled":this.props.disabled,"has-value":this.state.value}),e=[];this.props.multi&&this.state.values.forEach(function(t){var n={key:t.value,optionLabelClick:!!this.props.onOptionLabelClick,onOptionLabelClick:this.handleOptionLabelClick.bind(this,t),onRemove:this.removeValue.bind(this,t)};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);e.push(r.createElement(a,n))},this),!this.props.disabled&&(this.state.inputValue||this.props.multi&&e.length)||e.push(r.createElement("div",{className:"Select-placeholder",key:"placeholder"},this.state.placeholder));var n,l,c=this.state.isLoading?r.createElement("span",{className:"Select-loading","aria-hidden":"true"}):null,u=this.props.clearable&&this.state.value&&!this.props.disabled?r.createElement("span",{className:"Select-clear",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onClick:this.clearValue,dangerouslySetInnerHTML:{__html:"&times;"}}):null;this.state.isOpen&&(l={ref:"menu",className:"Select-menu"},this.props.multi&&(l.onMouseDown=this.handleMouseDown),n=r.createElement("div",{ref:"selectMenuContainer",className:"Select-menu-outer"},r.createElement("div",l,this.buildMenu())));var h,d={ref:"input",className:"Select-input",tabIndex:this.props.tabIndex||0,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur};for(var p in this.props.inputProps)this.props.inputProps.hasOwnProperty(p)&&(d[p]=this.props.inputProps[p]);return h=this.props.searchable&&!this.props.disabled?r.createElement(o,i({value:this.state.inputValue,onChange:this.handleInputChange,minWidth:"5"},d)):r.createElement("div",d," "),r.createElement("div",{ref:"wrapper",className:t},r.createElement("input",{type:"hidden",ref:"value",name:this.props.name,value:this.state.value,disabled:this.props.disabled}),r.createElement("div",{className:"Select-control",ref:"control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},e,h,r.createElement("span",{className:"Select-arrow"}),c,u),n)}});t.exports=c},76:function(t,e,n){"use strict";var i=n(2),r=i.createClass({displayName:"Value",propTypes:{label:i.PropTypes.string.isRequired},blockEvent:function(t){t.stopPropagation()},render:function(){var t=this.props.label;return this.props.optionLabelClick&&(t=i.createElement("a",{className:"Select-item-label__a",onMouseDown:this.blockEvent,onTouchEnd:this.props.onOptionLabelClick,onClick:this.props.onOptionLabelClick},t)),i.createElement("div",{className:"Select-item"},i.createElement("span",{className:"Select-item-icon",onMouseDown:this.blockEvent,onClick:this.props.onRemove,onTouchEnd:this.props.onRemove},"×"),i.createElement("span",{className:"Select-item-label"},t))}});t.exports=r},77:function(t,e,n){var i;/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function r(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"===i||"number"===i)t+=" "+n;else if(Array.isArray(n))t+=" "+r.apply(null,n);else if("object"===i)for(var o in n)n.hasOwnProperty(o)&&n[o]&&(t+=" "+o)}}return t.substr(1)}"undefined"!=typeof t&&t.exports?t.exports=r:(i=function(){return r}.call(e,n,e,t),!(void 0!==i&&(t.exports=i)))}()},78:function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(2),o={position:"absolute",visibility:"hidden",height:0,width:0,overflow:"scroll",whiteSpace:"nowrap"},s=r.createClass({displayName:"AutosizeInput",propTypes:{value:r.PropTypes.any,defaultValue:r.PropTypes.any,onChange:r.PropTypes.func,style:r.PropTypes.object,className:r.PropTypes.string,minWidth:r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.string]),inputStyle:r.PropTypes.object,inputClassName:r.PropTypes.string},getDefaultProps:function(){return{minWidth:1}},getInitialState:function(){return{inputWidth:this.props.minWidth}},componentDidMount:function(){this.copyInputStyles(),this.updateInputWidth()},componentDidUpdate:function(){this.updateInputWidth()},copyInputStyles:function(){if(this.isMounted()&&window.getComputedStyle){var t=window.getComputedStyle(this.refs.input.getDOMNode()),e=this.refs.sizer.getDOMNode();if(e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,this.props.placeholder){var n=this.refs.placeholderSizer.getDOMNode();n.style.fontSize=t.fontSize,n.style.fontFamily=t.fontFamily}}},updateInputWidth:function(){if(this.isMounted()&&"undefined"!=typeof this.refs.sizer.getDOMNode().scrollWidth){var t;t=this.props.placeholder?Math.max(this.refs.sizer.getDOMNode().scrollWidth,this.refs.placeholderSizer.getDOMNode().scrollWidth)+2:this.refs.sizer.getDOMNode().scrollWidth+2,t<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}},getInput:function(){return this.refs.input},focus:function(){this.refs.input.getDOMNode().focus()},select:function(){this.refs.input.getDOMNode().select()},render:function(){var t=(this.props.value||"").replace(/\&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;"),e=this.props.style||{};e.display="inline-block";var n=this.props.inputStyle||{};n.width=this.state.inputWidth;var s=this.props.placeholder?r.createElement("div",{ref:"placeholderSizer",style:o},this.props.placeholder):null;return r.createElement("div",{className:this.props.className,style:e},r.createElement("input",i({},this.props,{ref:"input",className:this.props.inputClassName,style:n})),r.createElement("div",{ref:"sizer",style:o,dangerouslySetInnerHTML:{__html:t}}),s)}});t.exports=s},95:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(126),o=i(r),s=n(2),a=i(s),c=n(11),u=a["default"].createClass({displayName:"Avatar",mixins:[c.PureRenderMixin],propTypes:{email:s.PropTypes.string,label:s.PropTypes.string,size:s.PropTypes.number,src:s.PropTypes.string,title:s.PropTypes.string,username:s.PropTypes.string},getDefaultProps:function(){return{size:80}},render:function(){var t=this.props.email,e=this.props.label,n=this.props.size,i=this.props.title,r=this.props.username,s=this.props.src;if(t){var c=t;t.indexOf("@")>-1&&(c=o["default"](t)),s="https://secure.gravatar.com/avatar/"+c+"?s="+n+"&d=mm"}var u=a["default"].createElement("img",{src:s,height:n,width:n,title:i});return void 0!==r?a["default"].createElement("a",{href:l("/user/"+r+"/")},u,e&&" ",e&&a["default"].createElement("span",{className:"user-name",title:r},e)):u}});e["default"]=u,t.exports=e["default"]},120:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=i(r),s=n(11),a=n(4),l=i(a),c=n(95),u=i(c),h=n(71),d=i(h),p=o["default"].createClass({displayName:"UserEvent",mixins:[s.PureRenderMixin],propTypes:{displayDatetime:r.PropTypes.string.isRequired,displayName:r.PropTypes.string.isRequired,email:r.PropTypes.string.isRequired,isoDatetime:r.PropTypes.string.isRequired,type:r.PropTypes.number.isRequired,unitSource:r.PropTypes.string.isRequired,unitUrl:r.PropTypes.string.isRequired,checkName:r.PropTypes.string,checkDisplayName:r.PropTypes.string,translationActionType:r.PropTypes.number,username:r.PropTypes.string},getActionText:function(){var t=this.props.checkName,e=this.props.checkDisplayName,n=this.props.translationActionType,i=this.props.type,r=this.props.unitSource,o=this.props.unitUrl,s='<i><a href="'+o+'">'+l["default"].escape(r)+"</a></i>",a=void 0;void 0!==t&&void 0!==e&&(a='<a href="#'+t+'">'+e+"</a>");var c=void 0;return 2===i?c=gettext("removed translation for "+s):3===i?c=gettext("accepted suggestion for "+s):4===i?c=gettext("uploaded file"):6===i?c=gettext("muted "+a+" for "+s):7===i?c=gettext("unmuted "+a+" for "+s):8===i?c=gettext("added suggestion for "+s):9===i?c=gettext("rejected suggestion for "+s):(1===i||5===i)&&(0===n?c=gettext("translated "+s):1===n?c=gettext("edited "+s):2===n?c=gettext("pre-translated "+s):3===n?c=gettext("removed translation for "+s):4===n?c=gettext("reviewed "+s):5===n&&(c=gettext("marked as needs work "+s))),{__html:c}},render:function(){this.getActionText();return o["default"].createElement("div",{className:"last-action"},o["default"].createElement(u["default"],{email:this.props.email,label:this.props.displayName,size:20,username:this.props.username})," ",o["default"].createElement("span",{className:"action-text",dangerouslySetInnerHTML:this.getActionText()})," ",o["default"].createElement(d["default"],{title:this.props.displayDatetime,dateTime:this.props.isoDatetime}))}});e["default"]=p,t.exports=e["default"]},121:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(49),s=i(o),a=n(2),l=n(122);n(151);var c={lock:"lightbox-lock"},u={ESC:27},h=a.createClass({displayName:"ModalHeader",render:function(){return a.createElement("div",{className:"lightbox-header"},this.props.children)}}),d=a.createClass({displayName:"ModalFooter",render:function(){return a.createElement("div",{className:"lightbox-footer"},this.props.children)}}),p=a.createClass({displayName:"ModalContainer",_previousFocus:null,_ownsLock:!1,componentWillMount:function(){this._previousFocus=document.activeElement},componentDidMount:function(){document.body.classList.contains(c.lock)||(this._ownsLock=!0,document.body.classList.add(c.lock),document.addEventListener("keydown",this.handleKeyDown))},componentWillUnmount:function(){this._ownsLock&&(document.body.classList.remove(c.lock),document.removeEventListener("keydown",this.handleKeyDown)),this._previousFocus.focus()},handleKeyDown:function(t){t.keyCode===u.ESC&&this.props.onClose()},render:function(){return a.createElement("div",{className:"lightbox-bg"},a.createElement("div",{className:"lightbox-container"},a.createElement("div",{className:s["default"]("lightbox-body",this.props.className),style:this.props.style,tabIndex:"-1"},this.props.children)))}}),f=a.createClass({displayName:"Modal",mixins:[l],propTypes:{title:a.PropTypes.string,showClose:a.PropTypes.bool,onClose:a.PropTypes.func.isRequired,header:a.PropTypes.func,footer:a.PropTypes.func},getDefaultProps:function(){return{title:"",showClose:!0}},handleClose:function(){this.props.onClose()},renderHeader:function(){if(this.props.header)return a.createElement(h,null,this.props.header());var t=this.props.title&&a.createElement("h3",{className:"lightbox-title"},this.props.title),e=this.props.showClose&&a.createElement("button",{className:"lightbox-close",onClick:this.handleClose},"×");return a.createElement(h,null,t,e)},renderFooter:function(){return this.props.footer?a.createElement(d,null,this.props.footer()):null},renderLayer:function(){return a.createElement(p,this.props,this.renderHeader(),a.createElement("div",{className:"lightbox-content"},this.props.children),this.renderFooter())},render:function(){return null}}),g=a.createClass({displayName:"Dialog",propTypes:{okLabel:a.PropTypes.string,cancelLabel:a.PropTypes.string,onAccept:a.PropTypes.func.isRequired,onCancel:a.PropTypes.func.isRequired,header:a.PropTypes.func,footer:a.PropTypes.func},getDefaultProps:function(){return{okLabel:"OK",cancelLabel:"Cancel"}},renderFooter:function(){return a.createElement(d,null,a.createElement("button",{className:"btn btn-primary",onClick:this.props.onAccept},this.props.okLabel),a.createElement("button",{className:"btn",autoFocus:!0,onClick:this.props.onCancel},this.props.cancelLabel))},render:function(){return a.createElement(f,r({},this.props,{footer:this.renderFooter}))}});t.exports={Modal:f,Dialog:g}},122:function(t,e,n){"use strict";var i=n(2),r={componentDidMount:function(){this._layer=document.createElement("div"),document.body.appendChild(this._layer),this._renderLayer()},componentDidUpdate:function(){this._renderLayer()},componentWillUnmount:function(){this._unrenderLayer(),document.body.removeChild(this._layer)},_renderLayer:function(){var t=this.renderLayer();null===t?i.render(i.DOM.noscript,this._layer):i.render(t,this._layer),this.layerDidMount&&this.layerDidMount(this._layer)},_unrenderLayer:function(){this.layerWillUnmount&&this.layerWillUnmount(this._layer),i.unmountComponentAtNode(this._layer)}};t.exports=r},123:function(t,e,n){"use strict";var i=n(4),r=n(9),o=n(72),s=["nobody","default","system"],a=r.Model.extend({defaults:{username:"",is_active:!0,password:"",full_name:"",email:"",is_superuser:!1,twitter:"",linkedin:"",website:"",bio:""},initialize:function(t,e){e&&e.urlRoot&&(this.urlRoot=e.urlRoot)},urlRoot:l("/xhr/admin/users/"),getProfileUrl:function(){return l("/user/"+this.get("username")+"/")},getSettingsUrl:function(){return l("/user/"+this.get("username")+"/settings/")},getStatsUrl:function(){return l("/user/"+this.get("username")+"/stats/")},getReportsUrl:function(){return l("/admin/reports/#username="+this.get("username"))},isMeta:function(){return-1!==s.indexOf(this.get("username"))}}),c=r.Collection.extend(i.extend({},o,{model:a,url:l("/xhr/admin/users/")}));t.exports={User:a,UserSet:c}},124:function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t}},125:function(t,e,n){e=t.exports=n(124)(),e.push([t.id,'.lightbox-lock{overflow:hidden}.lightbox-bg{position:fixed;z-index:498;top:0;left:0;height:100%;width:100%;background:rgba(11,11,11,.8);outline:medium none}.lightbox-container{box-sizing:border-box;position:absolute;z-index:499;left:0;top:0;height:100%;width:100%;padding:0;text-align:center;overflow-x:hidden;overflow-y:auto}.lightbox-container::before{content:\'\';display:inline-block;height:100%;vertical-align:middle}.lightbox-body{position:relative;display:inline-block;vertical-align:middle;margin:0 auto;text-align:left;padding:2em 3em;min-width:255px;font-size:100%}.lightbox-header{margin-bottom:2em}.lightbox-content{margin:1em 0}.lightbox-footer{margin-top:2em;text-align:right}html[dir="rtl"] .lightbox-footer{text-align:left}.lightbox-footer .btn+.btn{margin-left:.5em}html[dir="rtl"] .lightbox-footer .btn+.btn{margin-left:0;margin-right:.5em}.lightbox-close{position:absolute;right:0;top:0;width:44px;height:44px;line-height:44px;text-decoration:none;text-align:center;background-color:transparent;color:rgba(0,0,0,.5);font-style:normal;font-size:28px;font-family:"Arial",monospace;border:0;cursor:pointer}html[dir="rtl"] .lightbox-close{right:auto;left:0}.lightbox-close:hover,.lightbox-close:focus{color:rgba(0,0,0,1)}',""])},126:function(t,e,n){!function(){var e=n(127),i=n(74).utf8,r=n(128),o=n(74).bin,s=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?o.stringToBytes(t):i.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var a=e.bytesToWords(t),l=8*t.length,c=1732584193,u=-271733879,h=-1732584194,d=271733878,p=0;p<a.length;p++)a[p]=16711935&(a[p]<<8|a[p]>>>24)|4278255360&(a[p]<<24|a[p]>>>8);a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var f=s._ff,g=s._gg,m=s._hh,v=s._ii,p=0;p<a.length;p+=16){var y=c,b=u,w=h,x=d;c=f(c,u,h,d,a[p+0],7,-680876936),d=f(d,c,u,h,a[p+1],12,-389564586),h=f(h,d,c,u,a[p+2],17,606105819),u=f(u,h,d,c,a[p+3],22,-1044525330),c=f(c,u,h,d,a[p+4],7,-176418897),d=f(d,c,u,h,a[p+5],12,1200080426),h=f(h,d,c,u,a[p+6],17,-1473231341),u=f(u,h,d,c,a[p+7],22,-45705983),c=f(c,u,h,d,a[p+8],7,1770035416),d=f(d,c,u,h,a[p+9],12,-1958414417),h=f(h,d,c,u,a[p+10],17,-42063),u=f(u,h,d,c,a[p+11],22,-1990404162),c=f(c,u,h,d,a[p+12],7,1804603682),d=f(d,c,u,h,a[p+13],12,-40341101),h=f(h,d,c,u,a[p+14],17,-1502002290),u=f(u,h,d,c,a[p+15],22,1236535329),c=g(c,u,h,d,a[p+1],5,-165796510),d=g(d,c,u,h,a[p+6],9,-1069501632),h=g(h,d,c,u,a[p+11],14,643717713),u=g(u,h,d,c,a[p+0],20,-373897302),c=g(c,u,h,d,a[p+5],5,-701558691),d=g(d,c,u,h,a[p+10],9,38016083),h=g(h,d,c,u,a[p+15],14,-660478335),u=g(u,h,d,c,a[p+4],20,-405537848),c=g(c,u,h,d,a[p+9],5,568446438),d=g(d,c,u,h,a[p+14],9,-1019803690),h=g(h,d,c,u,a[p+3],14,-187363961),u=g(u,h,d,c,a[p+8],20,1163531501),c=g(c,u,h,d,a[p+13],5,-1444681467),d=g(d,c,u,h,a[p+2],9,-51403784),h=g(h,d,c,u,a[p+7],14,1735328473),u=g(u,h,d,c,a[p+12],20,-1926607734),c=m(c,u,h,d,a[p+5],4,-378558),d=m(d,c,u,h,a[p+8],11,-2022574463),h=m(h,d,c,u,a[p+11],16,1839030562),u=m(u,h,d,c,a[p+14],23,-35309556),c=m(c,u,h,d,a[p+1],4,-1530992060),d=m(d,c,u,h,a[p+4],11,1272893353),h=m(h,d,c,u,a[p+7],16,-155497632),u=m(u,h,d,c,a[p+10],23,-1094730640),c=m(c,u,h,d,a[p+13],4,681279174),d=m(d,c,u,h,a[p+0],11,-358537222),h=m(h,d,c,u,a[p+3],16,-722521979),u=m(u,h,d,c,a[p+6],23,76029189),c=m(c,u,h,d,a[p+9],4,-640364487),d=m(d,c,u,h,a[p+12],11,-421815835),h=m(h,d,c,u,a[p+15],16,530742520),u=m(u,h,d,c,a[p+2],23,-995338651),c=v(c,u,h,d,a[p+0],6,-198630844),d=v(d,c,u,h,a[p+7],10,1126891415),h=v(h,d,c,u,a[p+14],15,-1416354905),u=v(u,h,d,c,a[p+5],21,-57434055),c=v(c,u,h,d,a[p+12],6,1700485571),d=v(d,c,u,h,a[p+3],10,-1894986606),h=v(h,d,c,u,a[p+10],15,-1051523),u=v(u,h,d,c,a[p+1],21,-2054922799),c=v(c,u,h,d,a[p+8],6,1873313359),d=v(d,c,u,h,a[p+15],10,-30611744),h=v(h,d,c,u,a[p+6],15,-1560198380),u=v(u,h,d,c,a[p+13],21,1309151649),c=v(c,u,h,d,a[p+4],6,-145523070),d=v(d,c,u,h,a[p+11],10,-1120210379),h=v(h,d,c,u,a[p+2],15,718787259),u=v(u,h,d,c,a[p+9],21,-343485551),c=c+y>>>0,u=u+b>>>0,h=h+w>>>0,d=d+x>>>0}return e.endian([c,u,h,d])};s._ff=function(t,e,n,i,r,o,s){var a=t+(e&n|~e&i)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},s._gg=function(t,e,n,i,r,o,s){var a=t+(e&i|n&~i)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},s._hh=function(t,e,n,i,r,o,s){var a=t+(e^n^i)+(r>>>0)+s;return(a<<o|a>>>32-o)+e},s._ii=function(t,e,n,i,r,o,s){var a=t+(n^(e|~i))+(r>>>0)+s;return(a<<o|a>>>32-o)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,n){if("undefined"!=typeof t){var i=e.wordsToBytes(s(t,n));return n&&n.asBytes?i:n&&n.asString?o.bytesToString(i):e.bytesToHex(i)}}}()},127:function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],i=0;i<t.length;i+=3)for(var r=t[i]<<16|t[i+1]<<8|t[i+2],o=0;4>o;o++)8*i+6*o<=8*t.length?n.push(e.charAt(r>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,r=0;i<t.length;r=++i%4)0!=r&&n.push((e.indexOf(t.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|e.indexOf(t.charAt(i))>>>6-2*r);return n}};t.exports=n}()},128:function(t,e){t.exports=function(t){return!(null==t||!t.constructor||"function"!=typeof t.constructor.isBuffer||!t.constructor.isBuffer(t))}},150:function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=u[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(s(i.parts[o],e))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(s(i.parts[o],e));u[i.id]={id:i.id,refs:1,parts:a}}}}function r(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=r[0],s=r[1],a=r[2],l=r[3],c={css:s,media:a,sourceMap:l};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(){var t=document.createElement("style"),e=p();return t.type="text/css",e.appendChild(t),t}function s(t,e){var n,i,r;if(e.singleton){var s=g++;n=f||(f=o()),i=l.bind(null,n,s,!1),r=l.bind(null,n,s,!0)}else n=o(),i=c.bind(null,n),r=function(){n.parentNode.removeChild(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function a(t,e,n){var i=["/** >>"+e+" **/","/** "+e+"<< **/"],r=t.lastIndexOf(i[0]),o=n?i[0]+n+i[1]:"";if(t.lastIndexOf(i[0])>=0){var s=t.lastIndexOf(i[1])+i[1].length;return t.slice(0,r)+o+t.slice(s)}return t+o}function l(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=a(t.styleSheet.cssText,e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function c(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(r&&"function"==typeof btoa)try{n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(r))+" */",n='@import url("data:text/css;base64,'+btoa(n)+'")'}catch(o){}if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},d=h(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),p=h(function(){return document.head||document.getElementsByTagName("head")[0]}),f=null,g=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=d());var n=r(t);return i(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s],l=u[a.id];l.refs--,o.push(l)}if(t){var c=r(t);i(c,e)}for(var s=0;s<o.length;s++){var l=o[s];if(0===l.refs){for(var h=0;h<l.parts.length;h++)l.parts[h]();delete u[l.id]}}}}},151:function(t,e,n){var i=n(125);"string"==typeof i&&(i=[[t.id,i,""]]);n(150)(i,{})},210:function(t,e,n){var i,r;/*!
	 * Autolinker.js
	 * 0.11.2
	 *
	 * Copyright(c) 2014 Gregory Jacobs <greg@greg-jacobs.com>
	 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
	 *
	 * https://github.com/gregjacobs/Autolinker.js
	 */
!function(o,s){i=s,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r))}(this,function(){var t=function(t){t=t||{};for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};return t.prototype={constructor:t,newWindow:!0,stripPrefix:!0,twitter:!0,email:!0,urls:!0,className:"",matcherRegex:function(){var t=/(^|[^\w])@(\w{1,15})/,e=/(?:[\-;:&=\+\$,\w\.]+@)/,n=/(?:[A-Za-z]{3,9}:(?:\/\/)?)/,i=/(?:www\.)/,r=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,o=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,s=/(?:[\-A-Za-z0-9+&@#\/%?=~_()|!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|])?/;return new RegExp(["(",t.source,")","|","(",e.source,r.source,o.source,")","|","(","(?:","(?:",n.source,r.source,")","|","(?:","(.?//)?",i.source,r.source,")","|","(?:","(.?//)?",r.source,o.source,")",")",s.source,")"].join(""),"gi")}(),protocolRelativeRegex:/(.)?\/\//,htmlRegex:function(){var t=/[0-9a-zA-Z:]+/,e=/[^\s\0"'>\/=\x01-\x1F\x7F]+/,n=/(?:".*?"|'.*?'|[^'"=<>`\s]+)/,i=e.source+"(?:\\s*=\\s*"+n.source+")?";return new RegExp(["<(?:!|(/))?","("+t.source+")","(?:","\\s+","(?:",i,"|",n.source+")",")*","\\s*/?",">"].join(""),"g")}(),urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,link:function(t){return this.processHtml(t)},processHtml:function(t){for(var e,n,i=this.htmlRegex,r=0,o=0,s=[];null!==(e=i.exec(t));){var a=e[0],l=e[2],c=!!e[1];n=t.substring(r,e.index),r=e.index+a.length,"a"===l?c?(o=Math.max(o-1,0),0===o&&s.push(n)):(o++,s.push(this.processTextNode(n))):0===o?s.push(this.processTextNode(n)):s.push(n),s.push(a)}if(r<t.length){var u=this.processTextNode(t.substring(r));s.push(u)}return s.join("")},processTextNode:function(t){var e=this,n=this.matcherRegex,i=this.twitter,r=this.email,o=this.urls;return t.replace(n,function(t,n,s,a,l,c,u,h){var d=n,p=s,f=a,g=l,m=c,v=u||h,y="",b="";if(d&&!i||g&&!r||m&&!o||m&&-1===m.indexOf(".")||m&&/^[A-Za-z]{3,9}:/.test(m)&&!/:.*?[A-Za-z]/.test(m)||v&&/^[\w]\/\//.test(v))return t;var w=t.charAt(t.length-1);if(")"===w){var x=t.match(/\(/g),C=t.match(/\)/g),E=x&&x.length||0,T=C&&C.length||0;T>E&&(t=t.substr(0,t.length-1),b=")")}var S,_=t,k=t;if(d)S="twitter",y=p,_="https://twitter.com/"+f,k="@"+f;else if(g)S="email",_="mailto:"+g,k=g;else if(S="url",v){var P=new RegExp("^"+e.protocolRelativeRegex.source),M=v.match(P)[1]||"";y=M+y,_=_.replace(P,"//"),k=k.replace(P,"")}else/^[A-Za-z]{3,9}:/i.test(_)||(_="http://"+_);var O=e.createAnchorTag(S,_,k);return y+O+b})},createAnchorTag:function(t,e,n){var i=this.createAnchorAttrsStr(t,e);return n=this.processAnchorText(n),"<a "+i+">"+n+"</a>"},createAnchorAttrsStr:function(t,e){var n=['href="'+e+'"'],i=this.createCssClass(t);return i&&n.push('class="'+i+'"'),this.newWindow&&n.push('target="_blank"'),n.join(" ")},createCssClass:function(t){var e=this.className;return e?e+" "+e+"-"+t:""},processAnchorText:function(t){return this.stripPrefix&&(t=this.stripUrlPrefix(t)),t=this.removeTrailingSlash(t),t=this.doTruncate(t)},stripUrlPrefix:function(t){return t.replace(this.urlPrefixRegex,"")},removeTrailingSlash:function(t){return"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t},doTruncate:function(t){var e=this.truncate;return e&&t.length>e&&(t=t.substring(0,e-2)+".."),t}},t.link=function(e,n){var i=new t(n);return i.link(e)},t})},368:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),o=i(r),s=n(2),a=i(s),l=n(121),c=n(369),u=a["default"].createClass({displayName:"UserProfileEdit",getInitialState:function(){return{editing:!1,confirmClose:!1,isDirty:!1}},setupRoutes:function(t){var e=this;t.on("route:main",function(t){e.setState({editing:!1})}),t.on("route:edit",function(t,n){e.setState({editing:!0})})},componentWillMount:function(){this.setupRoutes(this.props.router),o["default"].history.start({pushState:!0,root:this.props.appRoot})},componentWillUpdate:function(t,e){this.handleURL(e)},handleEdit:function(){this.setState({editing:!0})},handleClose:function(t){t=t||{};var e=t.forceClose||!1;this.state.isDirty&&!e?this.setState({confirmClose:!0}):this.setState({editing:!1,confirmClose:!1,isDirty:!1})},handleSave:function(t){this.handleClose(),window.location.reload()},handleDlgOk:function(){this.handleClose({forceClose:!0})},handleDlgCancel:function(){this.setState({confirmClose:!1})},handleDirtyFlag:function(t){this.setState({isDirty:t})},handleURL:function(t){var e=t.editing?"/edit/":"/";this.props.router.navigate(e)},render:function(){return a["default"].createElement("div",null,a["default"].createElement("div",{className:"edit-profile-btn"},a["default"].createElement("button",{className:"btn btn-primary",onClick:this.handleEdit},gettext("Edit My Public Profile"))),this.state.editing&&a["default"].createElement(l.Modal,{className:"user-edit",onClose:this.handleClose,title:gettext("My Public Profile")},a["default"].createElement("div",{id:"user-edit"},a["default"].createElement(c.UserProfileForm,{model:this.props.user,onDirty:this.handleDirtyFlag,onSuccess:this.handleSave}))),this.state.confirmClose&&a["default"].createElement(l.Dialog,{onAccept:this.handleDlgOk,onCancel:this.handleDlgCancel,onClose:this.handleDlgCancel,title:gettext("Discard changes."),okLabel:gettext("Yes"),cancelLabel:gettext("No")},gettext("There are unsaved changes. Do you want to discard them?")))}});e["default"]=u,t.exports=e["default"]},369:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=n(95),o=i(r),s=n(2),a=n(210).link,l=n(24).FormElement,c=n(25).ModelFormMixin,u=function(t){return{__html:a(t)}},h=s.createClass({displayName:"UserProfileForm",mixins:[c],propTypes:{onDirty:s.PropTypes.func.isRequired,onSuccess:s.PropTypes.func.isRequired},fields:["full_name","twitter","linkedin","website","bio"],componentWillUpdate:function(t,e){e.isDirty!==this.state.isDirty&&this.props.onDirty(e.isDirty)},handleSuccess:function(t){this.props.onSuccess(t)},render:function(){var t=this.getResource(),e=this.state.errors,n=this.state.formData,i=gettext("To set or change your avatar for your email address (%(email)s), please go to gravatar.com.");return i=interpolate(i,{email:t.get("email")},!0),s.createElement("form",{method:"post",id:"item-form",autoComplete:"off",onSubmit:this.handleFormSubmit},s.createElement("div",{className:"fields"},s.createElement(l,{attribute:"full_name",label:gettext("Full Name"),placeholder:gettext("Your Full Name"),autoFocus:!0,handleChange:this.handleChange,formData:n,errors:e}),s.createElement("p",null,s.createElement("label",null,gettext("Avatar")),s.createElement(o["default"],{email:t.get("email"),size:48}),s.createElement("span",{className:"helptext",dangerouslySetInnerHTML:u(i)})),s.createElement("p",{className:"divider"}),s.createElement(l,{attribute:"twitter",label:gettext("Twitter"),handleChange:this.handleChange,placeholder:gettext("Your Twitter username"),formData:n,errors:e,maxLength:"15"}),s.createElement(l,{attribute:"linkedin",label:gettext("LinkedIn"),handleChange:this.handleChange,placeholder:gettext("Your LinkedIn profile URL"),formData:n,errors:e}),s.createElement(l,{attribute:"website",label:gettext("Website"),handleChange:this.handleChange,placeholder:gettext("Your Personal website/blog URL"),formData:n,errors:e}),s.createElement(l,{type:"textarea",attribute:"bio",label:gettext("Short Bio"),handleChange:this.handleChange,placeholder:gettext("Why are you part of our translation project? Describe yourself, inspire others!"),formData:n,errors:e})),s.createElement("p",{className:"buttons"},s.createElement("input",{type:"submit",className:"btn btn-primary",disabled:!this.state.isDirty,value:gettext("Save")})))}});t.exports={UserProfileForm:h}},370:function(t,e,n){"use strict";var i=n(9),r=i.Router.extend({routes:{"":"main","edit(/)":"edit"}});t.exports=r}});