webpackJsonp([4],{0:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n(465),n(464),n(379);var r=n(9),s=(i(r),n(2)),o=i(s),a=n(324),l=i(a),c=n(332),u=i(c),h=o["default"].createFactory(l["default"]);window.PTL=window.PTL||{};var d={user:n(331),language:n(329),project:n(330)};PTL.admin={init:function(e){var t=document.querySelector(e.el||".js-admin-app");if(!d.hasOwnProperty(e.itemType))throw new Error("Invalid `itemType`.");var n=d[e.itemType],i=new h({router:new u["default"],appRoot:e.appRoot,adminModule:n,formChoices:e.formChoices||{}});o["default"].render(i,t)}}},24:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(2),s=n(4),o=n(75),a=r.createClass({displayName:"FormElement",propTypes:{type:r.PropTypes.string,attribute:r.PropTypes.string.isRequired,label:r.PropTypes.string.isRequired,handleChange:r.PropTypes.func.isRequired,formData:r.PropTypes.object.isRequired,help:r.PropTypes.string,errors:r.PropTypes.object},getDefaultProps:function(){return{type:"text"}},render:function(){var e=this.props.attribute,t=["id",e].join("_"),n=this.props.help,i=s.size(this.props.errors)>0&&this.props.errors[e],o={text:l,email:l,password:l,textarea:l,checkbox:c,radio:c,select:u}[this.props.type],a={id:t,name:e,value:this.props.formData[e]};"select"===this.props.type&&(a.value=a.value.toString(),a.placeholder=gettext("Select..."),a.noResultsText=gettext("No results found"),a.clearValueText=gettext("Clear value"),a.clearAllText=gettext("Clear all"),a.searchPromptText=gettext("Type to search"));var h=s.extend({},this.props,a),d=r.createFactory(o)(h);return r.createElement("div",{className:"field-wrapper"},r.createElement("label",{htmlFor:t},this.props.label),d,i&&r.createElement("ul",{className:"errorlist"},i.map(function(e,t){return r.createElement("li",{key:t},e)})),n&&r.createElement("span",{className:"helptext"},n))}}),l=r.createClass({displayName:"FormValueInput",handleChange:function(e){this.props.handleChange(e.target.name,e.target.value)},render:function(){return"textarea"===this.props.type?r.createElement("textarea",i({onChange:this.handleChange},this.props)):r.createElement("input",i({onChange:this.handleChange},this.props))}}),c=r.createClass({displayName:"FormCheckedInput",handleChange:function(e){this.props.handleChange(e.target.name,e.target.checked)},render:function(){return r.createElement("input",i({checked:this.props.value,onChange:this.handleChange},this.props))}}),u=r.createClass({displayName:"FormSelectInput",propTypes:{name:r.PropTypes.string.isRequired,value:r.PropTypes.string.isRequired,options:r.PropTypes.array.isRequired,handleChange:r.PropTypes.func.isRequired},handleChange:function(e,t){this.props.handleChange(this.props.name,e)},render:function(){return r.createElement(o,i({value:this.props.value.toString(),options:this.props.options,onChange:this.handleChange},this.props))}});e.exports={FormElement:a}},25:function(e,t,n){"use strict";var i=n(2),r=n(4),s=n(73),o={getInitialState:function(){return{errors:{}}},clearValidation:function(){this.setState({errors:{}})},validateResponse:function(e){var t=JSON.parse(e.responseText);this.setState({errors:t.errors})},renderSingleError:function(e,t){return i.createElement("li",{key:t},e)},renderAllFormErrors:function(){var e=this.state.errors;return e.hasOwnProperty("__all__")?i.createElement("ul",{className:"errorlist errorlist-all"},e.__all__.map(this.renderSingleError)):null}},a={mixins:[o],getInitialState:function(){return{isDirty:!1}},handleChange:function(e,t){var n=r.extend({},this.state.formData);n[e]=t;var i=!r.isEqual(n,this.initialData);this.setState({formData:n,isDirty:i})},handleFormSuccess:function(){this.clearValidation(),this.initialData=r.extend({},this.state.formData),this.setState({isDirty:!1}),this.handleSuccess&&this.handleSuccess(this.getResource())},handleFormError:function(e){this.validateResponse(e),this.handleError&&this.handleError(e)}},l={mixins:[s,a],propTypes:{model:i.PropTypes.object.isRequired},getInitialState:function(){return this.initialData=r.pick(this.getResource().toJSON(),this.fields),{formData:r.extend({},this.initialData)}},componentDidMount:function(){if(r.isUndefined(this.fields))throw new Error("To use ModelFormMixin, you must define a `fields` property.");if(!r.isArray(this.fields))throw new Error("The `fields` property must be an array.")},getResource:function(){return this.props.model},handleFormSubmit:function(e){e.preventDefault(),this.getResource().save(this.state.formData,{wait:!0}).done(this.handleFormSuccess).error(this.handleFormError)}};e.exports={FormMixin:a,FormValidationMixin:o,ModelFormMixin:l}},48:function(e,t,n){"use strict";var i,r=n(4),s=n(9),o=s.Model.extend({defaults:{text:"",level:"info",language:"en"}}),a=s.Collection.extend({model:o}),l=s.View.extend({className:"alert alert-block",render:function(){return this.$el.addClass(["alert",this.model.get("level")].join("-")),this.$el.attr("lang",this.model.get("language")),this.$el.html(this.model.get("text")).hide().fadeIn(300),this}}),c=s.View.extend({el:".js-alerts",initialize:function(){this.subViews=[],this.listenTo(this.collection,"add",this.add),this.listenTo(this.collection,"remove",this.remove)},add:function(e){var t=new l({model:e});this.subViews.push(t),this.$el.prepend(t.render().el)},remove:function(e){var t=r.find(this.subViews,function(t){return t.model===e});this.subViews=r(this.subViews).without(t),t.$el.fadeOut(3500,function(){t.remove()})}}),u=new a,h={show:function(e){i||(i=new c({collection:u}));var t=new o(e);u.add(t),window.setTimeout(function(){u.remove(t)},2e3)}};e.exports=h},49:function(e,t,n){/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
function i(){for(var e,t="",n=0;n<arguments.length;n++)if(e=arguments[n])if("string"==typeof e||"number"==typeof e)t+=" "+e;else if("[object Array]"===Object.prototype.toString.call(e))t+=" "+i.apply(null,e);else if("object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&e[r]&&(t+=" "+r);return t.substr(1)}var r,s;"undefined"!=typeof e&&e.exports&&(e.exports=i),r=[],s=function(){return i}.apply(t,r),!(void 0!==s&&(e.exports=s))},72:function(e,t,n){"use strict";var i=n(4),r={initialize:function(e){this.count=0,this.page=0,this.keywords="",this.on("add",this.incrCount),this.on("remove",this.decrCount)},parse:function(e,t){return this.count=e.count,e.models},comparator:"-id",incrCount:function(){this.count++},decrCount:function(){this.count--},fetchNextPage:function(e){var t=this.page+1,n=1===t?{}:{p:t},r=""===this.keywords?{}:{q:this.keywords},s=i.extend({},n,r),o={remove:!1,silent:!0,data:s};return i.defaults(o,e),this.fetch(o).done(function(){this.page=t}.bind(this))},search:function(e){var t={};return e!==this.keywords&&(this.setSearch(e),t={reset:!0}),this.fetchNextPage(t)},setSearch:function(e){this.keywords=e,this.page=0}};e.exports=r},73:function(e,t){"use strict";var n={componentDidMount:function(){this._boundForceUpdate=this.forceUpdate.bind(this,null),this.getResource().on("all",this._boundForceUpdate,this)},componentWillUnmount:function(){this.getResource().off("all",this._boundForceUpdate)}};e.exports=n},75:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(2),s=n(78),o=n(77),a=n(76),l=0,c=r.createClass({displayName:"Select",propTypes:{value:r.PropTypes.any,multi:r.PropTypes.bool,disabled:r.PropTypes.bool,options:r.PropTypes.array,delimiter:r.PropTypes.string,asyncOptions:r.PropTypes.func,autoload:r.PropTypes.bool,placeholder:r.PropTypes.string,noResultsText:r.PropTypes.string,clearable:r.PropTypes.bool,clearValueText:r.PropTypes.string,clearAllText:r.PropTypes.string,searchable:r.PropTypes.bool,searchPromptText:r.PropTypes.string,name:r.PropTypes.string,onChange:r.PropTypes.func,onFocus:r.PropTypes.func,onBlur:r.PropTypes.func,className:r.PropTypes.string,filterOption:r.PropTypes.func,filterOptions:r.PropTypes.func,matchPos:r.PropTypes.string,matchProp:r.PropTypes.string,inputProps:r.PropTypes.object,onOptionLabelClick:r.PropTypes.func},getDefaultProps:function(){return{value:void 0,options:void 0,disabled:!1,delimiter:",",asyncOptions:void 0,autoload:!0,placeholder:"Select...",noResultsText:"No results found",clearable:!0,clearValueText:"Clear value",clearAllText:"Clear all",searchable:!0,searchPromptText:"Type to search",name:void 0,onChange:void 0,className:void 0,matchPos:"any",matchProp:"any",inputProps:{},onOptionLabelClick:void 0}},getInitialState:function(){return{options:this.props.options,isFocused:!1,isOpen:!1,isLoading:!1}},componentWillMount:function(){this._optionsCache={},this._optionsFilterString="",this.setState(this.getStateFromValue(this.props.value)),this.props.asyncOptions&&this.props.autoload&&this.autoloadAsyncOptions();var e=this;this._closeMenuIfClickedOutside=function(t){if(e.state.isOpen){var n=e.refs.selectMenuContainer.getDOMNode(),i=e.refs.control.getDOMNode(),r=e.clickedOutsideElement(n,t),s=e.clickedOutsideElement(i,t);r&&s&&e.setState({isOpen:!1},e._unbindCloseMenuIfClickedOutside)}},this._bindCloseMenuIfClickedOutside=function(){document.addEventListener("click",e._closeMenuIfClickedOutside)},this._unbindCloseMenuIfClickedOutside=function(){document.removeEventListener("click",e._closeMenuIfClickedOutside)}},componentWillUnmount:function(){clearTimeout(this._blurTimeout),clearTimeout(this._focusTimeout),this.state.isOpen&&this._unbindCloseMenuIfClickedOutside()},componentWillReceiveProps:function(e){JSON.stringify(e.options)!==JSON.stringify(this.props.options)&&this.setState({options:e.options,filteredOptions:this.filterOptions(e.options)}),e.value!==this.state.value&&this.setState(this.getStateFromValue(e.value,e.options))},componentDidUpdate:function(){var e=this;if(!this.props.disabled&&this._focusAfterUpdate&&(clearTimeout(this._blurTimeout),this._focusTimeout=setTimeout(function(){e.getInputNode().focus(),e._focusAfterUpdate=!1},50)),this._focusedOptionReveal){if(this.refs.focused&&this.refs.menu){var t=this.refs.focused.getDOMNode(),n=this.refs.menu.getDOMNode(),i=t.getBoundingClientRect(),r=n.getBoundingClientRect();(i.bottom>r.bottom||i.top<r.top)&&(n.scrollTop=t.offsetTop+t.clientHeight-n.offsetHeight)}this._focusedOptionReveal=!1}},focus:function(){this.getInputNode().focus()},clickedOutsideElement:function(e,t){for(var n=t.target?t.target:t.srcElement;null!=n;){if(n===e)return!1;n=n.offsetParent}return!0},getStateFromValue:function(e,t){t||(t=this.state.options),this._optionsFilterString="";var n=this.initValuesArray(e,t),i=this.filterOptions(t,n);return{value:n.map(function(e){return e.value}).join(this.props.delimiter),values:n,inputValue:"",filteredOptions:i,placeholder:!this.props.multi&&n.length?n[0].label:this.props.placeholder,focusedOption:!this.props.multi&&n.length?n[0]:i[0]}},initValuesArray:function(e,t){return Array.isArray(e)||(e="string"==typeof e?e.split(this.props.delimiter):e?[e]:[]),e.map(function(e){if("string"==typeof e){for(var n in t)if(t.hasOwnProperty(n)&&t[n]&&t[n].value===e)return t[n];return{value:e,label:e}}return e})},setValue:function(e,t){(t||void 0===t)&&(this._focusAfterUpdate=!0);var n=this.getStateFromValue(e);n.isOpen=!1,this.fireChangeEvent(n),this.setState(n)},selectValue:function(e){this.props.multi?e&&this.addValue(e):this.setValue(e),this._unbindCloseMenuIfClickedOutside()},addValue:function(e){this.setValue(this.state.values.concat(e))},popValue:function(){this.setValue(this.state.values.slice(0,this.state.values.length-1))},removeValue:function(e){this.setValue(this.state.values.filter(function(t){return t!==e}))},clearValue:function(e){e&&"mousedown"===e.type&&0!==e.button||this.setValue(null)},resetValue:function(){this.setValue(this.state.value)},getInputNode:function(){var e=this.refs.input;return this.props.searchable?e:e.getDOMNode()},fireChangeEvent:function(e){e.value!==this.state.value&&this.props.onChange&&this.props.onChange(e.value,e.values)},handleMouseDown:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.state.isFocused?this.setState({isOpen:!0},this._bindCloseMenuIfClickedOutside):(this._openAfterFocus=!0,this.getInputNode().focus()))},handleInputFocus:function(e){var t=this.state.isOpen||this._openAfterFocus;this.setState({isFocused:!0,isOpen:t},function(){t?this._bindCloseMenuIfClickedOutside():this._unbindCloseMenuIfClickedOutside()}),this._openAfterFocus=!1,this.props.onFocus&&this.props.onFocus(e)},handleInputBlur:function(e){var t=this;this._blurTimeout=setTimeout(function(){t._focusAfterUpdate||t.setState({isFocused:!1})},50),this.props.onBlur&&this.props.onBlur(e)},handleKeyDown:function(e){if(!this.state.disabled){switch(e.keyCode){case 8:return void(this.state.inputValue||this.popValue());case 9:if(e.shiftKey||!this.state.isOpen||!this.state.focusedOption)return;this.selectFocusedOption();break;case 13:this.selectFocusedOption();break;case 27:this.state.isOpen?this.resetValue():this.clearValue();break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;default:return}e.preventDefault()}},_getNewFocusedOption:function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===this.state.focusedOption)return e[t];return e[0]},handleInputChange:function(e){if(this._optionsFilterString=e.target.value,this.props.asyncOptions)this.setState({isLoading:!0,inputValue:e.target.value}),this.loadAsyncOptions(e.target.value,{isLoading:!1,isOpen:!0},this._bindCloseMenuIfClickedOutside);else{var t=this.filterOptions(this.state.options);this.setState({isOpen:!0,inputValue:e.target.value,filteredOptions:t,focusedOption:this._getNewFocusedOption(t)},this._bindCloseMenuIfClickedOutside)}},autoloadAsyncOptions:function(){var e=this;this.loadAsyncOptions("",{},function(){e.setValue(e.props.value,!1)})},loadAsyncOptions:function(e,t,n){for(var i=this._currentRequestId=l++,r=0;r<=e.length;r++){var s=e.slice(0,r);if(this._optionsCache[s]&&(e===s||this._optionsCache[s].complete)){var o=this._optionsCache[s].options,a=this.filterOptions(o),c={options:o,filteredOptions:a,focusedOption:this._getNewFocusedOption(a)};for(var u in t)t.hasOwnProperty(u)&&(c[u]=t[u]);return this.setState(c),void(n&&n({}))}}var h=this;this.props.asyncOptions(e,function(r,s){if(r)throw r;if(h._optionsCache[e]=s,i===h._currentRequestId){var o=h.filterOptions(s.options),a={options:s.options,filteredOptions:o,focusedOption:h._getNewFocusedOption(o)};for(var l in t)t.hasOwnProperty(l)&&(a[l]=t[l]);h.setState(a),n&&n({})}})},filterOptions:function(e,t){if(!this.props.searchable)return e;var n=this._optionsFilterString,i=(t||this.state.values).map(function(e){return e.value});if(this.props.filterOptions)return this.props.filterOptions.call(this,e,n,i);var r=function(e){if(this.props.multi&&i.indexOf(e.value)>-1)return!1;if(this.props.filterOption)return this.props.filterOption.call(this,e,n);var t=String(e.value),r=String(e.label);return n&&"start"!==this.props.matchPos?"label"!==this.props.matchProp&&t.toLowerCase().indexOf(n.toLowerCase())>=0||"value"!==this.props.matchProp&&r.toLowerCase().indexOf(n.toLowerCase())>=0:"label"!==this.props.matchProp&&t.toLowerCase().substr(0,n.length)===n||"value"!==this.props.matchProp&&r.toLowerCase().substr(0,n.length)===n};return(e||[]).filter(r,this)},selectFocusedOption:function(){return this.selectValue(this.state.focusedOption)},focusOption:function(e){this.setState({focusedOption:e})},focusNextOption:function(){this.focusAdjacentOption("next")},focusPreviousOption:function(){this.focusAdjacentOption("previous")},focusAdjacentOption:function(e){this._focusedOptionReveal=!0;var t=this.state.filteredOptions;if(!this.state.isOpen)return void this.setState({isOpen:!0,inputValue:"",focusedOption:this.state.focusedOption||t["next"===e?0:t.length-1]},this._bindCloseMenuIfClickedOutside);if(t.length){for(var n=-1,i=0;i<t.length;i++)if(this.state.focusedOption===t[i]){n=i;break}var r=t[0];"next"===e&&n>-1&&n<t.length-1?r=t[n+1]:"previous"===e&&(r=n>0?t[n-1]:t[t.length-1]),this.setState({focusedOption:r})}},unfocusOption:function(e){this.state.focusedOption===e&&this.setState({focusedOption:null})},buildMenu:function(){var e=this.state.focusedOption?this.state.focusedOption.value:null;this.state.filteredOptions.length>0&&(e=null==e?this.state.filteredOptions[0]:e);var t=Object.keys(this.state.filteredOptions).map(function(t){var n=this.state.filteredOptions[t],i=e===n.value,s=o({"Select-option":!0,"is-focused":i,"is-disabled":n.disabled}),a=i?"focused":null,l=this.focusOption.bind(this,n),c=this.unfocusOption.bind(this,n),u=this.selectValue.bind(this,n);return n.disabled?r.createElement("div",{ref:a,key:"option-"+n.value,className:s},n.label):r.createElement("div",{ref:a,key:"option-"+n.value,className:s,onMouseEnter:l,onMouseLeave:c,onMouseDown:u,onClick:u},n.label)},this);return t.length?t:r.createElement("div",{className:"Select-noresults"},this.props.asyncOptions&&!this.state.inputValue?this.props.searchPromptText:this.props.noResultsText)},handleOptionLabelClick:function(e,t){var n=this.props.onOptionLabelClick;n&&n(e,t)},render:function(){var e=o("Select",this.props.className,{"is-multi":this.props.multi,"is-searchable":this.props.searchable,"is-open":this.state.isOpen,"is-focused":this.state.isFocused,"is-loading":this.state.isLoading,"is-disabled":this.props.disabled,"has-value":this.state.value}),t=[];this.props.multi&&this.state.values.forEach(function(e){var n={key:e.value,optionLabelClick:!!this.props.onOptionLabelClick,onOptionLabelClick:this.handleOptionLabelClick.bind(this,e),onRemove:this.removeValue.bind(this,e)};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);t.push(r.createElement(a,n))},this),!this.props.disabled&&(this.state.inputValue||this.props.multi&&t.length)||t.push(r.createElement("div",{className:"Select-placeholder",key:"placeholder"},this.state.placeholder));var n,l,c=this.state.isLoading?r.createElement("span",{className:"Select-loading","aria-hidden":"true"}):null,u=this.props.clearable&&this.state.value&&!this.props.disabled?r.createElement("span",{className:"Select-clear",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onClick:this.clearValue,dangerouslySetInnerHTML:{__html:"&times;"}}):null;this.state.isOpen&&(l={ref:"menu",className:"Select-menu"},this.props.multi&&(l.onMouseDown=this.handleMouseDown),n=r.createElement("div",{ref:"selectMenuContainer",className:"Select-menu-outer"},r.createElement("div",l,this.buildMenu())));var h,d={ref:"input",className:"Select-input",tabIndex:this.props.tabIndex||0,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur};for(var p in this.props.inputProps)this.props.inputProps.hasOwnProperty(p)&&(d[p]=this.props.inputProps[p]);return h=this.props.searchable&&!this.props.disabled?r.createElement(s,i({value:this.state.inputValue,onChange:this.handleInputChange,minWidth:"5"},d)):r.createElement("div",d," "),r.createElement("div",{ref:"wrapper",className:e},r.createElement("input",{type:"hidden",ref:"value",name:this.props.name,value:this.state.value,disabled:this.props.disabled}),r.createElement("div",{className:"Select-control",ref:"control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},t,h,r.createElement("span",{className:"Select-arrow"}),c,u),n)}});e.exports=c},76:function(e,t,n){"use strict";var i=n(2),r=i.createClass({displayName:"Value",propTypes:{label:i.PropTypes.string.isRequired},blockEvent:function(e){e.stopPropagation()},render:function(){var e=this.props.label;return this.props.optionLabelClick&&(e=i.createElement("a",{className:"Select-item-label__a",onMouseDown:this.blockEvent,onTouchEnd:this.props.onOptionLabelClick,onClick:this.props.onOptionLabelClick},e)),i.createElement("div",{className:"Select-item"},i.createElement("span",{className:"Select-item-icon",onMouseDown:this.blockEvent,onClick:this.props.onRemove,onTouchEnd:this.props.onRemove},"×"),i.createElement("span",{className:"Select-item-label"},e))}});e.exports=r},77:function(e,t,n){var i;/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e+=" "+n;else if(Array.isArray(n))e+=" "+r.apply(null,n);else if("object"===i)for(var s in n)n.hasOwnProperty(s)&&n[s]&&(e+=" "+s)}}return e.substr(1)}"undefined"!=typeof e&&e.exports?e.exports=r:(i=function(){return r}.call(t,n,t,e),!(void 0!==i&&(e.exports=i)))}()},78:function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(2),s={position:"absolute",visibility:"hidden",height:0,width:0,overflow:"scroll",whiteSpace:"nowrap"},o=r.createClass({displayName:"AutosizeInput",propTypes:{value:r.PropTypes.any,defaultValue:r.PropTypes.any,onChange:r.PropTypes.func,style:r.PropTypes.object,className:r.PropTypes.string,minWidth:r.PropTypes.oneOfType([r.PropTypes.number,r.PropTypes.string]),inputStyle:r.PropTypes.object,inputClassName:r.PropTypes.string},getDefaultProps:function(){return{minWidth:1}},getInitialState:function(){return{inputWidth:this.props.minWidth}},componentDidMount:function(){this.copyInputStyles(),this.updateInputWidth()},componentDidUpdate:function(){this.updateInputWidth()},copyInputStyles:function(){if(this.isMounted()&&window.getComputedStyle){var e=window.getComputedStyle(this.refs.input.getDOMNode()),t=this.refs.sizer.getDOMNode();if(t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,this.props.placeholder){var n=this.refs.placeholderSizer.getDOMNode();n.style.fontSize=e.fontSize,n.style.fontFamily=e.fontFamily}}},updateInputWidth:function(){if(this.isMounted()&&"undefined"!=typeof this.refs.sizer.getDOMNode().scrollWidth){var e;e=this.props.placeholder?Math.max(this.refs.sizer.getDOMNode().scrollWidth,this.refs.placeholderSizer.getDOMNode().scrollWidth)+2:this.refs.sizer.getDOMNode().scrollWidth+2,e<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}},getInput:function(){return this.refs.input},focus:function(){this.refs.input.getDOMNode().focus()},select:function(){this.refs.input.getDOMNode().select()},render:function(){var e=(this.props.value||"").replace(/\&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;"),t=this.props.style||{};t.display="inline-block";var n=this.props.inputStyle||{};n.width=this.state.inputWidth;var o=this.props.placeholder?r.createElement("div",{ref:"placeholderSizer",style:s},this.props.placeholder):null;return r.createElement("div",{className:this.props.className,style:t},r.createElement("input",i({},this.props,{ref:"input",className:this.props.inputClassName,style:n})),r.createElement("div",{ref:"sizer",style:s,dangerouslySetInnerHTML:{__html:e}}),o)}});e.exports=o},115:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=i(r),o=s["default"].createClass({displayName:"ItemDelete",propTypes:{item:s["default"].PropTypes.object.isRequired,helpText:s["default"].PropTypes.string,onDelete:s["default"].PropTypes.func.isRequired},getInitialState:function(){return{buttonDisabled:!0}},toggleButton:function(){this.setState({buttonDisabled:!this.state.buttonDisabled})},handleClick:function(e){e.preventDefault(),this.props.item.destroy().then(this.props.onDelete)},render:function(){return s["default"].createElement("div",{className:"item-delete"},s["default"].createElement("input",{type:"checkbox",checked:!this.state.buttonDisabled,onChange:this.toggleButton}),s["default"].createElement("button",{className:"btn btn-danger",disabled:this.state.buttonDisabled,onClick:this.handleClick},gettext("Delete")),this.props.helpText&&s["default"].createElement("span",{className:"helptext"},this.props.helpText))}});t["default"]=o,e.exports=t["default"]},116:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=n(49),o=i(s),a=n(2),l=i(a),c=n(4),u=i(c),h=n(325),d=i(h),p=l["default"].createClass({displayName:"Search",propTypes:{fields:l["default"].PropTypes.array.isRequired,onSearch:l["default"].PropTypes.func.isRequired,onSelectItem:l["default"].PropTypes.func.isRequired,items:l["default"].PropTypes.object.isRequired,selectedItem:l["default"].PropTypes.object,searchLabel:l["default"].PropTypes.string.isRequired,searchPlaceholder:l["default"].PropTypes.string.isRequired,resultsCaption:l["default"].PropTypes.string.isRequired,searchQuery:l["default"].PropTypes.string.isRequired},getInitialState:function(){return{isLoading:!1}},fetchResults:function(e){this.setState({isLoading:!0}),this.props.onSearch(e).then(this.onResultsFetched)},onResultsFetched:function(e){this.setState({isLoading:!1})},loadMore:function(){this.fetchResults(this.props.searchQuery)},render:function(){var e=this.state.isLoading,t=this.props.items,n=void 0;t.count>0&&t.length<t.count&&(n=l["default"].createElement("button",{className:"btn",onClick:this.loadMore},gettext("Load More")));var i=o["default"]({"search-results":!0,loading:e});return l["default"].createElement("div",{className:"search"},l["default"].createElement("div",{className:"hd"},l["default"].createElement("h2",null,this.props.searchLabel)),l["default"].createElement("div",{className:"bd"},l["default"].createElement("div",{className:"search-box"},l["default"].createElement(f,{onSearch:this.props.onSearch,placeholder:this.props.searchPlaceholder,searchQuery:this.props.searchQuery})),l["default"].createElement("div",{className:i},e&&0===this.props.items.length?l["default"].createElement("div",null,gettext("Loading...")):l["default"].createElement("div",null,l["default"].createElement(d["default"],{fields:this.props.fields,items:t,resultsCaption:this.props.resultsCaption,selectedItem:this.props.selectedItem,onSelectItem:this.props.onSelectItem}),n))))}}),f=l["default"].createClass({displayName:"SearchBox",propTypes:{onSearch:l["default"].PropTypes.func.isRequired,placeholder:l["default"].PropTypes.string,searchQuery:l["default"].PropTypes.string},getInitialState:function(){return{searchQuery:this.props.searchQuery}},componentWillReceiveProps:function(e){e.searchQuery!==this.state.searchQuery&&this.setState({searchQuery:e.searchQuery})},componentWillMount:function(){this.handleSearchDebounced=u["default"].debounce(function(){this.props.onSearch.apply(this,[this.state.searchQuery])},300)},componentDidMount:function(){l["default"].findDOMNode(this.refs.input).focus()},handleKeyUp:function(e){var t=e.nativeEvent.keyCode;27===t&&l["default"].findDOMNode(this.refs.input).blur()},handleChange:function(){this.setState({searchQuery:l["default"].findDOMNode(this.refs.input).value}),this.handleSearchDebounced()},render:function(){return l["default"].createElement("input",r({type:"text",ref:"input",value:this.state.searchQuery,onChange:this.handleChange,onKeyUp:this.handleKeyUp},this.props))}});t["default"]=p,e.exports=t["default"]},123:function(e,t,n){"use strict";var i=n(4),r=n(9),s=n(72),o=["nobody","default","system"],a=r.Model.extend({defaults:{username:"",is_active:!0,password:"",full_name:"",email:"",is_superuser:!1,twitter:"",linkedin:"",website:"",bio:""},initialize:function(e,t){t&&t.urlRoot&&(this.urlRoot=t.urlRoot)},urlRoot:l("/xhr/admin/users/"),getProfileUrl:function(){return l("/user/"+this.get("username")+"/")},getSettingsUrl:function(){return l("/user/"+this.get("username")+"/settings/")},getStatsUrl:function(){return l("/user/"+this.get("username")+"/stats/")},getReportsUrl:function(){return l("/admin/reports/#username="+this.get("username"))},isMeta:function(){return-1!==o.indexOf(this.get("username"))}}),c=r.Collection.extend(i.extend({},s,{model:a,url:l("/xhr/admin/users/")}));e.exports={User:a,UserSet:c}},324:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),s=i(r),o=n(2),a=i(o),l=n(4),c=i(l),u=n(48),h=i(u),d=a["default"].createClass({displayName:"AdminController",getInitialState:function(){return{items:new this.props.adminModule.collection,selectedItem:null,searchQuery:"",view:"edit"}},setupRoutes:function(e){e.on("route:main",function(e){var t="";void 0!==e&&(t=e.q),this.handleSearch(t)}.bind(this)),e.on("route:edit",function(e,t){var n=this.props.adminModule.model,i=new n({id:e});this.handleSelectItem(i)}.bind(this))},componentWillMount:function(){this.setupRoutes(this.props.router),s["default"].history.start({pushState:!0,root:this.props.appRoot})},componentWillUpdate:function(e,t){this.handleURL(t)},handleSearch:function(e,t){var n=t||{};return e!==this.state.searchQuery&&(n.searchQuery=e,n.selectedItem=null),this.state.items.search(e).then(function(){n.items=this.state.items,this.setState(n)}.bind(this))},handleSelectItem:function(e){var t={selectedItem:e,view:"edit"};this.state.items.contains(e)?this.setState(t):e.fetch().then(function(){this.handleSearch(this.state.searchQuery,t)}.bind(this))},handleAdd:function(){this.setState({selectedItem:null,view:"add"})},handleCancel:function(){this.setState({selectedItem:null,view:"edit"})},handleSave:function(e){this.handleSelectItem(e),h["default"].show({text:gettext("Saved successfully."),level:"success"})},handleDelete:function(){this.setState({selectedItem:null}),h["default"].show({text:gettext("Deleted successfully."),level:"danger"})},handleURL:function(e){var t=this.props.router,n=e.searchQuery,i=void 0;if(e.selectedItem)i="/"+e.selectedItem.id+"/";else{var r=""===n?{}:{q:n};i=t.toFragment("",r)}t.navigate(i)},render:function(){var e=this.props.adminModule.model;c["default"].defaults(e.prototype,{fieldChoices:{}}),c["default"].extend(e.prototype.fieldChoices,this.props.formChoices),c["default"].extend(e.prototype.defaults,this.props.formChoices.defaults);var t={items:this.state.items,selectedItem:this.state.selectedItem,searchQuery:this.state.searchQuery,view:this.state.view,collection:this.props.adminModule.collection,model:e,onSearch:this.handleSearch,onSelectItem:this.handleSelectItem,onAdd:this.handleAdd,onCancel:this.handleCancel,onSuccess:this.handleSave,onDelete:this.handleDelete};return a["default"].createElement("div",{className:"admin-app"},a["default"].createElement(this.props.adminModule.App,t))}});t["default"]=d,e.exports=t["default"]},325:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(49),s=i(r),o=n(2),a=i(o),l=a["default"].createClass({displayName:"ItemTable",propTypes:{fields:a["default"].PropTypes.array.isRequired,items:a["default"].PropTypes.object.isRequired,resultsCaption:a["default"].PropTypes.string.isRequired,selectedItem:a["default"].PropTypes.object,onSelectItem:a["default"].PropTypes.func.isRequired},render:function(){var e=function(e,t){return a["default"].createElement(c,{fields:this.props.fields,key:e.id,item:e,index:t,selectedItem:this.props.selectedItem,onSelectItem:this.props.onSelectItem})};return a["default"].createElement("table",null,a["default"].createElement("caption",null,this.props.resultsCaption),a["default"].createElement("tbody",null,this.props.items.map(e.bind(this))))}}),c=a["default"].createClass({displayName:"ItemTableRow",propTypes:{fields:a["default"].PropTypes.array.isRequired,item:a["default"].PropTypes.object.isRequired,index:a["default"].PropTypes.number.isRequired,selectedItem:a["default"].PropTypes.object,onSelectItem:a["default"].PropTypes.func.isRequired},render:function(){var e=this.props.item,t=this.props.selectedItem,n=this.props.index,i=e.toJSON();i.index=n+1;var r=function(e,t){return a["default"].createElement("td",{key:t},i[e])},o=s["default"]({"is-selected":t&&e.id===t.id,"is-disabled":e.get("disabled"),"row-divider":0!==n&&n%10===0});return a["default"].createElement("tr",{className:o,key:e.id,onClick:this.props.onSelectItem.bind(null,e)},this.props.fields.map(r))}});t["default"]=l,e.exports=t["default"]},326:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=i(r),o=n(24),a=n(25),l=n(115),c=i(l),u=s["default"].createClass({displayName:"LanguageForm",mixins:[a.ModelFormMixin],propTypes:{onSuccess:s["default"].PropTypes.func.isRequired},fields:["code","fullname","specialchars","nplurals","pluralequation"],handleSuccess:function(e){this.props.collection.unshift(e,{merge:!0}),this.props.collection.move(e,0),this.props.onSuccess(e)},render:function(){var e=this.getResource(),t=this.state.errors,n=this.state.formData;return s["default"].createElement("form",{method:"post",id:"item-form",onSubmit:this.handleFormSubmit},s["default"].createElement("div",{className:"fields"},s["default"].createElement(o.FormElement,{autoFocus:!0,attribute:"code",label:gettext("Code"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{attribute:"fullname",label:gettext("Full Name"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{attribute:"specialchars",label:gettext("Special Characters"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{type:"select",clearable:!1,attribute:"nplurals",options:e.getFieldChoices("nplurals"),label:gettext("Number of Plurals"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{attribute:"pluralequation",label:gettext("Plural Equation"),handleChange:this.handleChange,formData:n,errors:t})),s["default"].createElement("div",{className:"buttons"},s["default"].createElement("input",{type:"submit",className:"btn btn-primary",disabled:!this.state.isDirty,value:gettext("Save")}),e.id&&s["default"].createElement("ul",{className:"action-links"},s["default"].createElement("li",null,s["default"].createElement("a",{href:e.getAbsoluteUrl()},gettext("Overview"))),s["default"].createElement("li",null,s["default"].createElement("a",{href:e.getPermissionsUrl()},gettext("Permissions"))))),this.props.onDelete&&s["default"].createElement("div",null,s["default"].createElement("p",{className:"divider"}),s["default"].createElement("div",{className:"buttons"},s["default"].createElement(c["default"],{item:e,onDelete:this.props.onDelete}))))}});t["default"]=u,e.exports=t["default"]},327:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=i(r),o=n(24),a=n(25),l=n(115),c=i(l),u=s["default"].createClass({displayName:"ProjectForm",mixins:[a.ModelFormMixin],propTypes:{onSuccess:s["default"].PropTypes.func.isRequired},fields:["code","fullname","checkstyle","localfiletype","treestyle","source_language","report_email","screenshot_search_prefix","disabled"],handleSuccess:function(e){this.props.collection.unshift(e,{merge:!0}),this.props.collection.move(e,0),this.props.onSuccess(e)},render:function(){var e=this.getResource(),t=this.state.errors,n=this.state.formData;return s["default"].createElement("form",{method:"post",id:"item-form",onSubmit:this.handleFormSubmit},s["default"].createElement("div",{className:"fields"},s["default"].createElement(o.FormElement,{autoFocus:!0,attribute:"code",disabled:e.hasOwnProperty("id"),label:gettext("Code"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{attribute:"fullname",label:gettext("Full Name"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{type:"select",clearable:!1,attribute:"checkstyle",options:e.getFieldChoices("checkstyle"),label:gettext("Quality Checks"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{type:"select",clearable:!1,attribute:"localfiletype",options:e.getFieldChoices("localfiletype"),label:gettext("File Type"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{type:"select",clearable:!1,attribute:"treestyle",options:e.getFieldChoices("treestyle"),label:gettext("Project Tree Style"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{type:"select",clearable:!1,attribute:"source_language",options:e.getFieldChoices("source_language"),label:gettext("Source Language"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{attribute:"ignoredfiles",label:gettext("Ignore Files"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{type:"email",attribute:"report_email",label:gettext("String Errors Contact"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{attribute:"screenshot_search_prefix",label:gettext("Screenshot Search Prefix"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{type:"checkbox",attribute:"disabled",label:gettext("Disabled"),handleChange:this.handleChange,formData:n,errors:t})),s["default"].createElement("div",{className:"buttons"},s["default"].createElement("input",{type:"submit",className:"btn btn-primary",disabled:!this.state.isDirty,value:gettext("Save")}),e.id&&s["default"].createElement("ul",{className:"action-links"},s["default"].createElement("li",null,s["default"].createElement("a",{href:e.getAbsoluteUrl()},gettext("Overview"))),s["default"].createElement("li",null,s["default"].createElement("a",{href:e.getLanguagesUrl()},gettext("Languages"))),s["default"].createElement("li",null,s["default"].createElement("a",{href:e.getPermissionsUrl()},gettext("Permissions"))))),this.props.onDelete&&s["default"].createElement("div",null,s["default"].createElement("p",{className:"divider"}),s["default"].createElement("div",{className:"buttons"},s["default"].createElement(c["default"],{item:e,onDelete:this.props.onDelete}))))}});t["default"]=u,e.exports=t["default"]},328:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=i(r),o=n(24),a=n(25),l=n(115),c=i(l),u=s["default"].createClass({displayName:"UserForm",mixins:[a.ModelFormMixin],propTypes:{onSuccess:s["default"].PropTypes.func.isRequired},fields:["username","is_active","password","full_name","email","is_superuser","twitter","linkedin","website","bio"],handleSuccess:function(e){this.props.collection.unshift(e,{merge:!0}),this.props.collection.move(e,0),this.props.onSuccess(e)},render:function(){var e=this.getResource(),t=this.state.errors,n=this.state.formData,i=gettext("Note: when deleting a user their contributions to the site, e.g. comments, suggestions and translations, are attributed to the anonymous user (nobody).");return s["default"].createElement("form",{method:"post",id:"item-form",autoComplete:"off",onSubmit:this.handleFormSubmit},s["default"].createElement("div",{className:"fields"},s["default"].createElement(o.FormElement,{autoFocus:!e.isMeta(),readOnly:e.isMeta(),attribute:"username",label:gettext("Username"),handleChange:this.handleChange,formData:n,errors:t}),!e.isMeta()&&s["default"].createElement("div",{className:"no-meta"},s["default"].createElement(o.FormElement,{type:"checkbox",attribute:"is_active",label:gettext("Active"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{type:"password",attribute:"password",label:gettext("Password"),placeholder:gettext("Set a new password"),handleChange:this.handleChange,formData:n,errors:t})),s["default"].createElement(o.FormElement,{autoFocus:e.isMeta(),attribute:"full_name",label:gettext("Full Name"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement(o.FormElement,{attribute:"email",label:gettext("Email"),handleChange:this.handleChange,formData:n,errors:t}),!e.isMeta()&&s["default"].createElement("div",{className:"no-meta"},s["default"].createElement(o.FormElement,{type:"checkbox",attribute:"is_superuser",label:gettext("Administrator"),handleChange:this.handleChange,formData:n,errors:t}),s["default"].createElement("p",{className:"divider"}),s["default"].createElement(o.FormElement,{attribute:"twitter",label:gettext("Twitter"),handleChange:this.handleChange,placeholder:gettext("Twitter username"),formData:n,errors:t,maxLength:"15"}),s["default"].createElement(o.FormElement,{attribute:"linkedin",label:gettext("LinkedIn"),handleChange:this.handleChange,placeholder:gettext("LinkedIn profile URL"),formData:n,errors:t}),s["default"].createElement(o.FormElement,{attribute:"website",label:gettext("Website"),handleChange:this.handleChange,placeholder:gettext("Personal website URL"),formData:n,errors:t}),s["default"].createElement(o.FormElement,{type:"textarea",attribute:"bio",label:gettext("Short Bio"),handleChange:this.handleChange,placeholder:gettext("Personal description"),formData:n,errors:t}))),s["default"].createElement("div",{className:"buttons"},s["default"].createElement("input",{type:"submit",className:"btn btn-primary",disabled:!this.state.isDirty,value:gettext("Save")}),e.id&&s["default"].createElement("ul",{className:"action-links"},s["default"].createElement("li",null,s["default"].createElement("a",{href:e.getProfileUrl()},gettext("Public Profile"))),s["default"].createElement("li",null,s["default"].createElement("a",{href:e.getSettingsUrl()},gettext("Settings"))),s["default"].createElement("li",null,s["default"].createElement("a",{href:e.getStatsUrl()},gettext("Statistics"))),s["default"].createElement("li",null,s["default"].createElement("a",{href:e.getReportsUrl()},gettext("Reports"))))),this.props.onDelete&&!e.isMeta()&&s["default"].createElement("div",null,s["default"].createElement("p",{className:"divider"}),s["default"].createElement("div",{className:"buttons"},s["default"].createElement(c["default"],{item:e,onDelete:this.props.onDelete,helpText:i}))))}});t["default"]=u,e.exports=t["default"]},329:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=i(r),o=n(363),a=n(326),l=i(a),c=n(116),u=i(c),h=s["default"].createClass({displayName:"LanguagesAdmin",propTypes:{onAdd:s["default"].PropTypes.func.isRequired,onCancel:s["default"].PropTypes.func.isRequired,onDelete:s["default"].PropTypes.func.isRequired,onSearch:s["default"].PropTypes.func.isRequired,onSelectItem:s["default"].PropTypes.func.isRequired,onSuccess:s["default"].PropTypes.func.isRequired,searchQuery:s["default"].PropTypes.string.isRequired,selectedItem:s["default"].PropTypes.object},render:function(){var e={add:s["default"].createElement(d,{model:this.props.model,collection:this.props.items,onSuccess:this.props.onSuccess,onCancel:this.props.onCancel}),edit:s["default"].createElement(p,{model:this.props.selectedItem,collection:this.props.items,onAdd:this.props.onAdd,onSuccess:this.props.onSuccess,onDelete:this.props.onDelete})},t={count:this.props.items.count},n=void 0;n=this.props.searchQuery?ngettext("%(count)s language matches your query.","%(count)s languages match your query.",t.count):ngettext("There is %(count)s language.","There are %(count)s languages. Below are the most recently added ones.",t.count);var i=interpolate(n,t,!0),r=["index","code","fullname"];return s["default"].createElement("div",{className:"admin-app-languages"},s["default"].createElement("div",{className:"module first"},s["default"].createElement(u["default"],{fields:r,onSearch:this.props.onSearch,onSelectItem:this.props.onSelectItem,items:this.props.items,selectedItem:this.props.selectedItem,searchLabel:gettext("Search Languages"),searchPlaceholder:gettext("Find language by name, code"),resultsCaption:i,searchQuery:this.props.searchQuery})),s["default"].createElement("div",{className:"module admin-content"},e[this.props.view]))}}),d=s["default"].createClass({displayName:"LanguageAdd",propTypes:{onCancel:s["default"].PropTypes.func.isRequired,onSuccess:s["default"].PropTypes.func.isRequired},render:function(){return s["default"].createElement("div",{className:"item-add"},s["default"].createElement("div",{className:"hd"},s["default"].createElement("h2",null,gettext("Add Language")),s["default"].createElement("button",{onClick:this.props.onCancel,className:"btn btn-primary"},gettext("Cancel"))),s["default"].createElement("div",{className:"bd"},s["default"].createElement(l["default"],{model:new this.props.model,collection:this.props.collection,onSuccess:this.props.onSuccess})))}}),p=s["default"].createClass({displayName:"LanguageEdit",propTypes:{onAdd:s["default"].PropTypes.func.isRequired,onDelete:s["default"].PropTypes.func.isRequired,onSuccess:s["default"].PropTypes.func.isRequired},render:function(){return s["default"].createElement("div",{className:"item-edit"},s["default"].createElement("div",{className:"hd"},s["default"].createElement("h2",null,gettext("Edit Language")),s["default"].createElement("button",{onClick:this.props.onAdd,className:"btn btn-primary"},gettext("Add Language"))),s["default"].createElement("div",{className:"bd"},this.props.model?s["default"].createElement(l["default"],{key:this.props.model.id,model:this.props.model,collection:this.props.collection,onSuccess:this.props.onSuccess,onDelete:this.props.onDelete}):s["default"].createElement("p",null,gettext("Use the search form to find the language, then click on a language to edit."))))}});t.App=h,t.model=o.Language,t.collection=o.LanguageSet},330:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=i(r),o=n(364),a=n(327),l=i(a),c=n(116),u=i(c),h=s["default"].createClass({displayName:"ProjectsAdmin",propTypes:{onAdd:s["default"].PropTypes.func.isRequired,onCancel:s["default"].PropTypes.func.isRequired,onDelete:s["default"].PropTypes.func.isRequired,onSearch:s["default"].PropTypes.func.isRequired,onSelectItem:s["default"].PropTypes.func.isRequired,onSuccess:s["default"].PropTypes.func.isRequired,searchQuery:s["default"].PropTypes.string.isRequired,selectedItem:s["default"].PropTypes.object},render:function(){var e={add:s["default"].createElement(d,{model:this.props.model,collection:this.props.items,onSuccess:this.props.onSuccess,onCancel:this.props.onCancel}),edit:s["default"].createElement(p,{model:this.props.selectedItem,collection:this.props.items,onAdd:this.props.onAdd,onSuccess:this.props.onSuccess,onDelete:this.props.onDelete})},t={count:this.props.items.count},n=void 0;n=this.props.searchQuery?ngettext("%(count)s project matches your query.","%(count)s projects match your query.",t.count):ngettext("There is %(count)s project.","There are %(count)s projects. Below are the most recently added ones.",t.count);var i=interpolate(n,t,!0),r=["index","code","fullname","disabled"];return s["default"].createElement("div",{className:"admin-app-projects"},s["default"].createElement("div",{className:"module first"},s["default"].createElement(u["default"],{fields:r,onSearch:this.props.onSearch,onSelectItem:this.props.onSelectItem,items:this.props.items,selectedItem:this.props.selectedItem,searchLabel:gettext("Search Projects"),searchPlaceholder:gettext("Find project by name, code"),resultsCaption:i,searchQuery:this.props.searchQuery})),s["default"].createElement("div",{className:"module admin-content"},e[this.props.view]))}}),d=s["default"].createClass({displayName:"ProjectAdd",propTypes:{onCancel:s["default"].PropTypes.func.isRequired,onSuccess:s["default"].PropTypes.func.isRequired},render:function(){return s["default"].createElement("div",{className:"item-add"},s["default"].createElement("div",{className:"hd"},s["default"].createElement("h2",null,gettext("Add Project")),s["default"].createElement("button",{onClick:this.props.onCancel,className:"btn btn-primary"},gettext("Cancel"))),s["default"].createElement("div",{className:"bd"},s["default"].createElement(l["default"],{model:new this.props.model,collection:this.props.collection,onSuccess:this.props.onSuccess})))}}),p=s["default"].createClass({displayName:"ProjectEdit",propTypes:{onAdd:s["default"].PropTypes.func.isRequired,onDelete:s["default"].PropTypes.func.isRequired,onSuccess:s["default"].PropTypes.func.isRequired},render:function(){return s["default"].createElement("div",{className:"item-edit"},s["default"].createElement("div",{className:"hd"},s["default"].createElement("h2",null,gettext("Edit Project")),s["default"].createElement("button",{onClick:this.props.onAdd,className:"btn btn-primary"},gettext("Add Project"))),s["default"].createElement("div",{className:"bd"},this.props.model?s["default"].createElement(l["default"],{key:this.props.model.id,model:this.props.model,collection:this.props.collection,onSuccess:this.props.onSuccess,onDelete:this.props.onDelete}):s["default"].createElement("p",null,gettext("Use the search form to find the project, then click on a project to edit."))))}});t.App=h,t.model=o.Project,t.collection=o.ProjectSet},331:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=i(r),o=n(123),a=n(328),l=i(a),c=n(116),u=i(c),h=s["default"].createClass({displayName:"UsersAdmin",propTypes:{onAdd:s["default"].PropTypes.func.isRequired,onCancel:s["default"].PropTypes.func.isRequired,onDelete:s["default"].PropTypes.func.isRequired,onSearch:s["default"].PropTypes.func.isRequired,onSelectItem:s["default"].PropTypes.func.isRequired,onSuccess:s["default"].PropTypes.func.isRequired,searchQuery:s["default"].PropTypes.string.isRequired,selectedItem:s["default"].PropTypes.object},render:function(){var e={add:s["default"].createElement(d,{model:this.props.model,collection:this.props.items,onSuccess:this.props.onSuccess,onCancel:this.props.onCancel}),edit:s["default"].createElement(p,{model:this.props.selectedItem,collection:this.props.items,onAdd:this.props.onAdd,onSuccess:this.props.onSuccess,onDelete:this.props.onDelete})},t={count:this.props.items.count},n=void 0;n=this.props.searchQuery?ngettext("%(count)s user matches your query.","%(count)s users match your query.",t.count):ngettext("There is %(count)s user.","There are %(count)s users. Below are the most recently added ones.",t.count);var i=interpolate(n,t,!0),r=["index","full_name","username","email"];return s["default"].createElement("div",{className:"admin-app-users"},s["default"].createElement("div",{className:"module first"},s["default"].createElement(u["default"],{fields:r,onSearch:this.props.onSearch,onSelectItem:this.props.onSelectItem,items:this.props.items,selectedItem:this.props.selectedItem,searchLabel:gettext("Search Users"),searchPlaceholder:gettext("Find user by name, email, properties"),resultsCaption:i,searchQuery:this.props.searchQuery})),s["default"].createElement("div",{className:"module admin-content"},e[this.props.view]))}}),d=s["default"].createClass({displayName:"UserAdd",propTypes:{onCancel:s["default"].PropTypes.func.isRequired,onSuccess:s["default"].PropTypes.func.isRequired},render:function(){return s["default"].createElement("div",{className:"item-add"},s["default"].createElement("div",{className:"hd"},s["default"].createElement("h2",null,gettext("Add User")),s["default"].createElement("button",{onClick:this.props.onCancel,className:"btn btn-primary"},gettext("Cancel"))),s["default"].createElement("div",{className:"bd"},s["default"].createElement(l["default"],{model:new this.props.model,collection:this.props.collection,onSuccess:this.props.onSuccess})))}}),p=s["default"].createClass({displayName:"UserEdit",propTypes:{onAdd:s["default"].PropTypes.func.isRequired,onDelete:s["default"].PropTypes.func.isRequired,onSuccess:s["default"].PropTypes.func.isRequired},render:function(){return s["default"].createElement("div",{className:"item-edit"},s["default"].createElement("div",{
className:"hd"},s["default"].createElement("h2",null,gettext("Edit User")),s["default"].createElement("button",{onClick:this.props.onAdd,className:"btn btn-primary"},gettext("Add User"))),s["default"].createElement("div",{className:"bd"},this.props.model?s["default"].createElement(l["default"],{key:this.props.model.id,model:this.props.model,collection:this.props.collection,onSuccess:this.props.onSuccess,onDelete:this.props.onDelete}):s["default"].createElement("p",null,gettext("Use the search form to find the user, then click on a user to edit."))))}});t.App=h,t.model=o.User,t.collection=o.UserSet},332:function(e,t,n){"use strict";var i=n(9),r=i.Router.extend({routes:{"":"main",":id(/)":"edit"}});e.exports=r},363:function(e,t,n){"use strict";var i=n(4),r=n(9),s=n(72),o=r.Model.extend({defaults:{code:"",fullname:"",specialchars:"",nplurals:"0",pluralequation:""},fieldChoices:{nplurals:[[0,"Unknown"],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]]},urlRoot:function(){return l("/xhr/admin/languages/")},getAbsoluteUrl:function(){return l(["",this.get("code"),""].join("/"))},getPermissionsUrl:function(){return l(["",this.get("code"),"admin","permissions",""].join("/"))},getFieldChoices:function(e){return this.fieldChoices&&this.fieldChoices.hasOwnProperty(e)?this.fieldChoices[e].map(function(e){return{value:e[0].toString(),label:e[1]}}):[]}}),a=r.Collection.extend(i.extend({},s,{model:o,url:l("/xhr/admin/languages/")}));e.exports={Language:o,LanguageSet:a}},364:function(e,t,n){"use strict";var i=n(4),r=n(9),s=n(72),o=r.Model.extend({defaults:{code:"",fullname:"",checkstyle:"standard",localfiletype:"po",treestyle:"auto",source_language:"",ignored_files:"",screenshot_search_prefix:"",disabled:!1},urlRoot:function(){return l("/xhr/admin/projects/")},getAbsoluteUrl:function(){return l(["","projects",this.get("code"),""].join("/"))},getLanguagesUrl:function(){return l(["","projects",this.get("code"),"admin","languages",""].join("/"))},getPermissionsUrl:function(){return l(["","projects",this.get("code"),"admin","permissions",""].join("/"))},getFieldChoices:function(e){return this.fieldChoices&&this.fieldChoices.hasOwnProperty(e)?this.fieldChoices[e].map(function(e){return{value:e[0].toString(),label:e[1]}}):[]},toJSON:function(){var e=i.clone(this.attributes);return e.disabled=e.disabled?gettext("disabled"):"",e}}),a=r.Collection.extend(i.extend({},s,{model:o,url:l("/xhr/admin/projects/")}));e.exports={Project:o,ProjectSet:a}},379:function(e,t,n){var i=n(9);i.Collection.prototype.move=function(e,t){var n=this.indexOf(e);if(-1==n)throw new Error("Can't move a model that's not in the collection");n!==t&&this.models.splice(t,0,this.models.splice(n,1)[0])}},464:function(e,t,n){var i,r;!function(s,o){"object"==typeof t&&s.require?e.exports=o(n(4),n(9)):(i=[n(4),n(9)],r=function(e,t){return o(e||s._,t||s.Backbone)}.apply(t,i),!(void 0!==r&&(e.exports=r)))}(this,function(e,t){t.History.prototype.navigate=function(e,n){if(!t.History.started)return!1;n&&n!==!0||(n={trigger:!!n});var i=this.root+(e=this.getFragment(e||""));if(this.fragment!==e){if(this.fragment=e,""===e&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[n.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,n.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(n.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,n.replace))}return n.trigger?this.loadUrl(e):void 0}}})},465:function(e,t,n){var i,r;!function(s,o){i=[n(4),n(9)],r=function(e,t){return o(e||s._,t||s.Backbone)}.apply(t,i),!(void 0!==r&&(e.exports=r))}(this,function(e,t){function n(i,r){function s(e){return String(e).replace(o,encodeURIComponent(o))}var o=t.Router.arrayValueSplit;if(!i)return"";r=r||"";var a=[];return e.each(i,function(t,i){if(i=r+i,e.isString(t)||e.isNumber(t)||e.isBoolean(t)||e.isDate(t))null!=t&&a.push(i+"="+s(encodeURIComponent(t)));else if(e.isArray(t)){for(var l="",c=0;c<t.length;c++){var u=t[c];null!=u&&(l+=o+s(u))}l&&a.push(i+"="+l)}else{var h=n(t,i+".");h&&a.push(h)}}),a.join("&")}function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}function r(t,n){var i=t.split("&");e.each(i,function(e){var t=e.split("=");n(t.shift(),t.join("="))})}var s=/^\?(.*)/,o=/\((.*?)\)/g,a=/(\(\?)?:\w+/g,l=/\*\w+/g,c=/[\-{}\[\]+?.,\\\^$|#\s]/g,u=/^([^\?]*)/,h=/[\:\*]([^\:\?\/]+)/g,d=/^[#\/]|\s+$/g,p=/\/$/;t.Router.arrayValueSplit="|",e.extend(t.History.prototype,{getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(p,""),i=this.location.search;e.indexOf(n)||(e=e.substr(n.length)),i&&this._hasPushState&&(e+=i)}else e=this.getHash();return e.replace(d,"")},getQueryParameters:function(t,n){t=this.getFragment(t,n);var o=t.replace(u,""),a=o.match(s);if(a){o=a[1];var l={};return r(o,function(t,n){n=i(n),l[t]?e.isString(l[t])?l[t]=[l[t],n]:l[t].push(n):l[t]=n}),l}return{}}}),e.extend(t.Router.prototype,{initialize:function(e){this.encodedSplatParts=e&&e.encodedSplatParts},_routeToRegExp:function(t){var n=l.exec(t)||{index:-1},i=a.exec(t)||{index:-1},r=t.match(h)||[];t=t.replace(c,"\\$&").replace(o,"(?:$1)?").replace(a,function(e,t){return t?e:"([^\\/\\?]+)"}).replace(l,"([^??]*?)"),t+="(\\?.*)?";var s=new RegExp("^"+t+"$");return n.index>=0&&(i>=0?s.splatMatch=n.index-i.index:s.splatMatch=-1),s.paramNames=e.map(r,function(e){return e.replace(/\)$/,"").substring(1)}),s.namedParameters=this.namedParameters,s},_extractParameters:function(n,o){var a=n.exec(o).slice(1),l={};a.length>0&&!a[a.length-1]&&a.splice(a.length-1,1);var c=a.length&&a[a.length-1]&&a[a.length-1].match(s);if(c){var u=c[1],h={};if(u){var d=this;r(u,function(e,t){d._setParamValue(e,t,h)})}a[a.length-1]=h,e.extend(l,h)}var p=a.length;if(n.splatMatch&&this.encodedSplatParts){if(n.splatMatch<0)return a;p-=1}for(var f=0;p>f;f++)e.isString(a[f])&&(a[f]=i(a[f]),n.paramNames&&n.paramNames.length>=f-1&&(l[n.paramNames[f]]=a[f]));return t.Router.namedParameters||n.namedParameters?[l]:a},_setParamValue:function(e,t,n){e=e.replace("[]",""),e=e.replace("%5B%5D","");for(var i=e.split("."),r=n,s=0;s<i.length;s++){var o=i[s];s===i.length-1?r[o]=this._decodeParamValue(t,r[o]):r=r[o]=r[o]||{}}},_decodeParamValue:function(n,r){var s=t.Router.arrayValueSplit;if(s&&n.indexOf(s)>=0){for(var o=n.split(s),a=o.length-1;a>=0;a--)o[a]?o[a]=i(o[a]):o.splice(a,1);return o}return n=i(n),r?e.isArray(r)?(r.push(n),r):[r,n]:n},toFragment:function(t,i){return i&&(e.isString(i)||(i=n(i)),i&&(t+="?"+i)),t}})})}});