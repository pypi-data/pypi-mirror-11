===================================================================================
WuMapPy : Graphic User Interface for sub-surface geophysical survey data processing
===================================================================================

.. module:: wumappy

Introduction
------------

This project was initiated through cooperation between the french CNRS units `UMR5133-Archéorient`_ (FR) and `UMR7619-Métis`_ (FR)
 
.. _`UMR5133-Archéorient`: http://www.archeorient.mom.fr/recherche-et-activites/ressources-techniques/
.. _`UMR7619-Métis`: http://www.sisyphe.jussieu.fr/dga/

Description
-----------

WuMapPy is a graphic user interface for friendly sub-surface geophysical survey data processing.
All displaying or processing operations are realized by an other python module named GeophPy.

Features
--------

* Processing data sets with geophysicals methods.
* Compatibility with Python 3.x


Installation
------------

You can install, upgrade, uninstall wumappy with these commands::

  $ pip install wumappy
  $ pip install --upgrade wumappy
  $ pip uninstall wumappy

Or if you don't have pip::

  $ easy_install wumappy

Or download the zip file "WuMapPy-vx.y" and unzip it.

Then, you can install now WuMapPy with this command:

.. code-block:: console

    $ python setup.py install

WuMapPy and GeophPy are using others python modules. If the installation of one of these modules failed on windows, you can install independently thes modules using this useful web site : http://www.lfd.uci.edu/~gohlke/pythonlibs/


Command-line usage
------------------

WuMapPy has a command-line script that launches the software.::

  $ wumappy

  usage: wumappy


Graphical user interface
------------------------

Introduction
~~~~~~~~~~~~

The WuMapPy Graphic User Interface is developped using the "PySide" library.

Main Window
~~~~~~~~~~~

.. image:: _static/figMainWindow.PNG

Files
+++++

.. image:: _static/figMainWindowFilesMenu.PNG

With this menu, you can open data set opening netcdf file or importing ascii files, and open geographics positions set opening ascii files or importing shapefiles :

.. image:: _static/figOpenDataSetDlgBox.PNG
.. image:: _static/figOpenGeoPosSet1DlgBox.PNG

(for more informations, cf. GeophPy documentation)


Settings
++++++++

.. image:: _static/figMainWindowSettingsMenu.PNG

Language :

The language descriptions are presents as "lng" files in the "MAIN/.wumappy/resources" directory where "MAIN" is the user home directory.
The default language for the Graphic User Interface is the english language, and it's the only one generated by the code and saved as the "english.lng" file:

    >>> english
	FILES_ID	Files
	SETTINGS_ID	Settings
	FONT_ID		Font
	MISCSETTINGS_ID	Miscellaneous Settings
	HELP_ID		Help
	ABOUT_ID	About

But it's easy to add and use an other language, duplicating the "english.lng" file as "otherlanguage.lng" and by modifying the file adapting it to the language (the first line, and for all others rows, all fields of the secund column to traduce the expression in the selected language.

With others language files in the "MAIN/wumappy/resources" directory, like "french.lng" and "spanish.lng", the WuMapPy application automatically detect these languages files, and in the "Settings->Language" menu set the selection of these languages availables :

.. image:: _static/figLanguageSelectionDlgBox.PNG

Font :

The font type and the font size used in the majority of the windows and dialog box can be modified selecting "Settings->Font" item.

.. image:: _static/figSelectFontDlgBox.PNG

Miscellaneous settings :

.. image:: _static/figMiscellaneousSettingsDlgBox.PNG

With this dialog box, it is possible to check/uncheck the flag of real-time update after a modification in a dialog box.
If the flag is unchecked, a "Update" button will be displayed in the dialog box.

.. image:: _static/figDlgBoxButtonsWithoutRealTimeUpdate1.PNG

The cartography at the right of the box will be updated only if this "Update" button is clicked.


Help
++++

In this menu, it's possible to access to the WuMapPy and GeophPy versions number and documentations in two formats (html or pdf).

.. image:: _static/figMainWindowHelpMenu.PNG

On Linux operating system, to opening these documentations with the best application, you need, before starting "WuMapPy" application, to write the applications full names to use with html and pdf documents in the "config" file :

    >>> [MISC]
        html_viewer = none
        pdf_viewer = none

with 'none', the default string, the application launches only the file full name (".../WuMapPy.pdf" for example), and the operating system define which application to execute to opening the documentation file.

Note : The "config" file is saved in "~/wumappy" on Windows, or "~/.wumappy" on Linux and Mac OS, where '~' is the user directory.


Data Set Window
~~~~~~~~~~~~~~~

The data set opened is displayed in a window with a menubar like this :

.. image:: _static/figDataSetWindow.PNG


Files
+++++

.. image:: _static/figDataSetWindowFilesMenu.PNG

With this menu, it's possible to save the data set in a netcdf format file, and export the data set in several formats (ascii files, image, ...)


Display Settings
++++++++++++++++

.. image:: _static/figDataSetDisplaySettingsDlgBox.PNG


Processing
++++++++++

Severals general processing dialog box are availables :

.. image:: _static/figDataSetPeakFilteringDlgBox.PNG
.. image:: _static/figDataSetMedianFilteringDlgBox.PNG
.. image:: _static/figDataSetFestoonFilteringDlgBox.PNG
.. image:: _static/figDataSetWallisFilteringDlgBox.PNG
.. image:: _static/figDataSetAntiPloughingFilteringDlgBox.PNG
.. image:: _static/figDataSetConstantDestripingDlgBox.PNG
.. image:: _static/figDataSetCubicDestripingDlgBox.PNG

(For more informations about the processing functions, see GeophPy documentation.)


Magnetic Processing
+++++++++++++++++++

Severals magnetic processing dialog box are availables :

.. image:: _static/figDataSetLogTransformationDlgBox.PNG
.. image:: _static/figDataSetPoleReductionDlgBox.PNG
.. image:: _static/figDataSetContinuationDlgBox.PNG
.. image:: _static/figDataSetAnalyticSignalDlgBox.PNG
.. image:: _static/figDataSetEquivStratumInMagSusceptDlgBox.PNG
.. image:: _static/figDataSetConversionGradientMagFieldDlgBox.PNG
.. image:: _static/figDataSetEulerDeconvolutionDlgBox.PNG
The "Undo" Button allow to cancel the last action.
After having calculated Euler deconvolution for severals zones, it's possible to save these data in a "csv" file (with ';' as delimiter) by clicking on the "Save" button.

(For more informations about the magnetic processing functions, see GeophPy documentation.)

Georeferencing
++++++++++++++

This item is available only if a geographic positions set is ever opened and displayed.

.. image:: _static/figDataSetGeoRefDlgBox.PNG


Geographic Positions Set Window
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The geographics positions set opened is displayed in a window with a menubar like this :

.. image:: _static/figGeoPosSetWindow.PNG


Files
+++++

.. image:: _static/figGeoPosSetWindowFilesMenu.PNG


Configuration
+++++++++++++

.. image:: _static/figGeoPosSetConfigDlgBox.PNG

This item allows to georeference geographic positions with (x,y) local positions.


Feedback & Contribute
---------------------

Your feedback is more than welcome. Write email to lionel.darras@mom.fr and philippe.marty@upmc.fr

.. include:: ../CHANGES.rst
