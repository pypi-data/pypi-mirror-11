<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Command Structure &mdash; python-openstackclient 1.5.1.dev8 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/tweaks.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.5.1.dev8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="python-openstackclient 1.5.1.dev8 documentation" href="index.html" />
    <link rel="next" title="Configuration" href="configuration.html" />
    <link rel="prev" title="volume type" href="command-objects/volume-type.html" /> 
  </head>
  <body>
  <div id="header">
    <h1 id="logo"><a href="http://www.openstack.org/">OpenStack</a></h1>
    <ul id="navigation">
      
      <li><a href="http://www.openstack.org/" title="Go to the Home page" class="link">Home</a></li>
      <li><a href="http://www.openstack.org/projects/" title="Go to the OpenStack Projects page">Projects</a></li>
      <li><a href="http://www.openstack.org/user-stories/" title="Go to the User Stories page" class="link">User Stories</a></li>
      <li><a href="http://www.openstack.org/community/" title="Go to the Community page" class="link">Community</a></li>
      <li><a href="http://www.openstack.org/blog/" title="Go to the OpenStack Blog">Blog</a></li>
      <li><a href="http://wiki.openstack.org/" title="Go to the OpenStack Wiki">Wiki</a></li>
      <li><a href="http://docs.openstack.org/" title="Go to OpenStack Documentation" class="current">Documentation</a></li>
      
    </ul>
  </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="command-structure">
<h1>Command Structure<a class="headerlink" href="#command-structure" title="Permalink to this headline">¶</a></h1>
<p>OpenStackClient has a consistent and predictable format for all of its commands.</p>
<p>Commands take the form:</p>
<div class="highlight-python"><div class="highlight"><pre>openstack [&lt;global-options&gt;] &lt;object-1&gt; &lt;action&gt; [&lt;object-2&gt;] [&lt;command-arguments&gt;]
</pre></div>
</div>
<ul class="simple">
<li>All long options names begin with two dashes (<tt class="docutils literal"><span class="pre">--</span></tt>) and use a single dash
(<tt class="docutils literal"><span class="pre">-</span></tt>) internally between words (<tt class="docutils literal"><span class="pre">--like-this</span></tt>).  Underscores (<tt class="docutils literal"><span class="pre">_</span></tt>) are
not used in option names.</li>
</ul>
<div class="section" id="global-options">
<h2>Global Options<a class="headerlink" href="#global-options" title="Permalink to this headline">¶</a></h2>
<p>Global options are global in the sense that they apply to every command
invocation regardless of action to be performed. They include authentication
credentials and API version selection. Most global options have a corresponding
environment variable that may also be used to set the value. If both are
present, the command-line option takes priority. The environment variable
names are derived from the option name by dropping the leading dashes (<tt class="docutils literal"><span class="pre">--</span></tt>),
converting each embedded dash (<tt class="docutils literal"><span class="pre">-</span></tt>) to an underscore (<tt class="docutils literal"><span class="pre">_</span></tt>), and converting
to upper case.</p>
<p>For example, the default value of <tt class="docutils literal"><span class="pre">--os-username</span></tt> can be set by defining
the environment variable <tt class="docutils literal"><span class="pre">OS_USERNAME</span></tt>.</p>
</div>
<div class="section" id="command-object-s-and-action">
<h2>Command Object(s) and Action<a class="headerlink" href="#command-object-s-and-action" title="Permalink to this headline">¶</a></h2>
<p>Commands consist of an object described by one or more words followed by
an action.  Commands that require two objects have the primary object ahead
of the action and the secondary object after the action. Any positional
arguments identifying the objects shall appear in the same order as the
objects.  In badly formed English it is expressed as &#8220;(Take) object1
(and perform) action (using) object2 (to it).&#8221;</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;object-1&gt; &lt;action&gt; &lt;object-2&gt;
</pre></div>
</div>
<p>Examples:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>group add user &lt;group&gt; &lt;user&gt;

<span class="nv">$ </span>volume <span class="nb">type </span>list   <span class="c"># &#39;volume type&#39; is a two-word single object</span>
</pre></div>
</div>
</div>
<div class="section" id="command-arguments-and-options">
<h2>Command Arguments and Options<a class="headerlink" href="#command-arguments-and-options" title="Permalink to this headline">¶</a></h2>
<p>Each command may have its own set of options distinct from the global options.
They follow the same style as the global options and always appear between
the command and any positional arguments the command requires.</p>
</div>
<div class="section" id="objects">
<h2>Objects<a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h2>
<p>The objects consist of one or more words to compose a unique name.
Occasionally when multiple APIs have a common name with common
overlapping purposes there will be options to select which object to use, or
the API resources will be merged, as in the <tt class="docutils literal"><span class="pre">quota</span></tt> object that has options
referring to both Compute and Volume quotas.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">access</span> <span class="pre">token</span></tt>: (<strong>Identity</strong>) long-lived OAuth-based token</li>
<li><tt class="docutils literal"><span class="pre">availability</span> <span class="pre">zone</span></tt>: (<strong>Compute</strong>) a logical partition of hosts or volume services</li>
<li><tt class="docutils literal"><span class="pre">aggregate</span></tt>: (<strong>Compute</strong>) a grouping of servers</li>
<li><tt class="docutils literal"><span class="pre">backup</span></tt>: (<strong>Volume</strong>) a volume copy</li>
<li><tt class="docutils literal"><span class="pre">catalog</span></tt>: (<strong>Identity</strong>) service catalog</li>
<li><tt class="docutils literal"><span class="pre">console</span> <span class="pre">log</span></tt>: (<strong>Compute</strong>) server console text dump</li>
<li><tt class="docutils literal"><span class="pre">console</span> <span class="pre">url</span></tt>: (<strong>Compute</strong>) server remote console URL</li>
<li><tt class="docutils literal"><span class="pre">consumer</span></tt>: (<strong>Identity</strong>) OAuth-based delegatee</li>
<li><tt class="docutils literal"><span class="pre">container</span></tt>: (<strong>Object Store</strong>) a grouping of objects</li>
<li><tt class="docutils literal"><span class="pre">credentials</span></tt>: (<strong>Identity</strong>) specific to identity providers</li>
<li><tt class="docutils literal"><span class="pre">domain</span></tt>: (<strong>Identity</strong>) a grouping of projects</li>
<li><tt class="docutils literal"><span class="pre">ec2</span> <span class="pre">cedentials</span></tt>: (<strong>Identity</strong>) AWS EC2-compatible credentials</li>
<li><tt class="docutils literal"><span class="pre">endpoint</span></tt>: (<strong>Identity</strong>) the base URL used to contact a specific service</li>
<li><tt class="docutils literal"><span class="pre">extension</span></tt>: (<strong>Compute</strong>, <strong>Identity</strong>, <strong>Volume</strong>) OpenStack server API extensions</li>
<li><tt class="docutils literal"><span class="pre">federation</span> <span class="pre">protocol</span></tt>: (<strong>Identity</strong>) the underlying protocol used while federating identities</li>
<li><tt class="docutils literal"><span class="pre">flavor</span></tt>: (<strong>Compute</strong>) predefined server configurations: ram, root disk, etc</li>
<li><tt class="docutils literal"><span class="pre">group</span></tt>: (<strong>Identity</strong>) a grouping of users</li>
<li><tt class="docutils literal"><span class="pre">host</span></tt>: Compute - the physical computer running a hypervisor</li>
<li><tt class="docutils literal"><span class="pre">hypervisor</span></tt>: (<strong>Compute</strong>) the virtual machine manager</li>
<li><tt class="docutils literal"><span class="pre">hypervisor</span> <span class="pre">stats</span></tt>: (<strong>Compute</strong>) hypervisor statistics over all compute nodes</li>
<li><tt class="docutils literal"><span class="pre">identity</span> <span class="pre">provider</span></tt>: (<strong>Identity</strong>) a source of users and authentication</li>
<li><tt class="docutils literal"><span class="pre">image</span></tt>: (<strong>Image</strong>) a disk image</li>
<li><tt class="docutils literal"><span class="pre">ip</span> <span class="pre">fixed</span></tt>: Compute, Network - an internal IP address assigned to a server</li>
<li><tt class="docutils literal"><span class="pre">ip</span> <span class="pre">floating</span></tt>: Compute, Network - a public IP address that can be mapped to a server</li>
<li><tt class="docutils literal"><span class="pre">keypair</span></tt>: (<strong>Compute</strong>) an SSH public key</li>
<li><tt class="docutils literal"><span class="pre">limits</span></tt>: (<strong>Compute</strong>, <strong>Volume</strong>) resource usage limits</li>
<li><tt class="docutils literal"><span class="pre">mapping</span></tt>: (<strong>Identity</strong>) a definition to translate identity provider attributes to Identity concepts</li>
<li><tt class="docutils literal"><span class="pre">module</span></tt>: internal - installed Python modules in the OSC process</li>
<li><tt class="docutils literal"><span class="pre">network</span></tt>: Network - a virtual network for connecting servers and other resources</li>
<li><tt class="docutils literal"><span class="pre">object</span></tt>: (<strong>Object Store</strong>) a single file in the Object Store</li>
<li><tt class="docutils literal"><span class="pre">policy</span></tt>: (<strong>Identity</strong>) determines authorization</li>
<li><tt class="docutils literal"><span class="pre">project</span></tt>: (<strong>Identity</strong>) owns a group of resources</li>
<li><tt class="docutils literal"><span class="pre">quota</span></tt>: (<strong>Compute</strong>, <strong>Volume</strong>) resource usage restrictions</li>
<li><tt class="docutils literal"><span class="pre">region</span></tt>: (<strong>Identity</strong>) a subset of an OpenStack deployment</li>
<li><tt class="docutils literal"><span class="pre">request</span> <span class="pre">token</span></tt>: (<strong>Identity</strong>) temporary OAuth-based token</li>
<li><tt class="docutils literal"><span class="pre">role</span></tt>: (<strong>Identity</strong>) a policy object used to determine authorization</li>
<li><tt class="docutils literal"><span class="pre">role</span> <span class="pre">assignment</span></tt>: (<strong>Identity</strong>) a relationship between roles, users or groups, and domains or projects</li>
<li><tt class="docutils literal"><span class="pre">security</span> <span class="pre">group</span></tt>: Compute, Network - groups of network access rules</li>
<li><tt class="docutils literal"><span class="pre">security</span> <span class="pre">group</span> <span class="pre">rule</span></tt>: Compute, Network - the individual rules that define protocol/IP/port access</li>
<li><tt class="docutils literal"><span class="pre">server</span></tt>: (<strong>Compute</strong>) virtual machine instance</li>
<li><tt class="docutils literal"><span class="pre">server</span> <span class="pre">image</span></tt>: (<strong>Compute</strong>) saved server disk image</li>
<li><tt class="docutils literal"><span class="pre">service</span></tt>: (<strong>Identity</strong>) a cloud service</li>
<li><tt class="docutils literal"><span class="pre">service</span> <span class="pre">provider</span></tt>: (<strong>Identity</strong>) a resource that consumes assertions from an <tt class="docutils literal"><span class="pre">identity</span> <span class="pre">provider</span></tt></li>
<li><tt class="docutils literal"><span class="pre">snapshot</span></tt>: (<strong>Volume</strong>) a point-in-time copy of a volume</li>
<li><tt class="docutils literal"><span class="pre">token</span></tt>: (<strong>Identity</strong>) a bearer token managed by Identity service</li>
<li><tt class="docutils literal"><span class="pre">usage</span></tt>: (<strong>Compute</strong>) display host resources being consumed</li>
<li><tt class="docutils literal"><span class="pre">user</span></tt>: (<strong>Identity</strong>) individual cloud resources users</li>
<li><tt class="docutils literal"><span class="pre">user</span> <span class="pre">role</span></tt>: (<strong>Identity</strong>) roles assigned to a user</li>
<li><tt class="docutils literal"><span class="pre">volume</span></tt>: (<strong>Volume</strong>) block volumes</li>
<li><tt class="docutils literal"><span class="pre">volume</span> <span class="pre">type</span></tt>: (<strong>Volume</strong>) deployment-specific types of volumes available</li>
</ul>
</div>
<div class="section" id="actions">
<h2>Actions<a class="headerlink" href="#actions" title="Permalink to this headline">¶</a></h2>
<p>The actions used by OpenStackClient are defined below to provide a consistent
meaning to each action. Many of them have logical opposite actions.
Those actions with an opposite action are noted in parens if applicable.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">authorize</span></tt> - authorize a token (used in OAuth)</li>
<li><tt class="docutils literal"><span class="pre">add</span></tt> (<tt class="docutils literal"><span class="pre">remove</span></tt>) - add some object to a container object; the command
is built in the order of <tt class="docutils literal"><span class="pre">container</span> <span class="pre">add</span> <span class="pre">object</span> <span class="pre">&lt;container&gt;</span> <span class="pre">&lt;object&gt;</span></tt>,
the positional arguments appear in the same order</li>
<li><tt class="docutils literal"><span class="pre">create</span></tt> (<tt class="docutils literal"><span class="pre">delete</span></tt>) - create a new occurrence of the specified object</li>
<li><tt class="docutils literal"><span class="pre">delete</span></tt> (<tt class="docutils literal"><span class="pre">create</span></tt>) - delete a specific occurrence of the specified object</li>
<li><tt class="docutils literal"><span class="pre">issue</span></tt> (<tt class="docutils literal"><span class="pre">revoke</span></tt>) - issue a token</li>
<li><tt class="docutils literal"><span class="pre">list</span></tt> - display summary information about multiple objects</li>
<li><tt class="docutils literal"><span class="pre">lock</span></tt> (<tt class="docutils literal"><span class="pre">unlock</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">migrate</span></tt> - move a server to a different host; <tt class="docutils literal"><span class="pre">--live</span></tt> performs a
live migration if possible</li>
<li><tt class="docutils literal"><span class="pre">pause</span></tt> (<tt class="docutils literal"><span class="pre">unpause</span></tt>) - stop a server and leave it in memory</li>
<li><tt class="docutils literal"><span class="pre">reboot</span></tt> - forcibly reboot a server</li>
<li><tt class="docutils literal"><span class="pre">rebuild</span></tt> - rebuild a server using (most of) the same arguments as in the original create</li>
<li><tt class="docutils literal"><span class="pre">remove</span></tt> (<tt class="docutils literal"><span class="pre">add</span></tt>) - remove an object from a group of objects</li>
<li><tt class="docutils literal"><span class="pre">rescue</span></tt> (<tt class="docutils literal"><span class="pre">unrescue</span></tt>) - reboot a server in a special rescue mode allowing access to the original disks</li>
<li><tt class="docutils literal"><span class="pre">resize</span></tt> - change a server&#8217;s flavor</li>
<li><tt class="docutils literal"><span class="pre">resume</span></tt> (<tt class="docutils literal"><span class="pre">suspend</span></tt>) - return a suspended server to running state</li>
<li><tt class="docutils literal"><span class="pre">revoke</span></tt> (<tt class="docutils literal"><span class="pre">issue</span></tt>) - revoke a token</li>
<li><tt class="docutils literal"><span class="pre">save</span></tt> - download an object locally</li>
<li><tt class="docutils literal"><span class="pre">set</span></tt> (<tt class="docutils literal"><span class="pre">unset</span></tt>) - set a property on the object, formerly called metadata</li>
<li><tt class="docutils literal"><span class="pre">show</span></tt> - display detailed information about the specific object</li>
<li><tt class="docutils literal"><span class="pre">suspend</span></tt> (<tt class="docutils literal"><span class="pre">resume</span></tt>) - stop a server and save to disk freeing memory</li>
<li><tt class="docutils literal"><span class="pre">unlock</span></tt> (<tt class="docutils literal"><span class="pre">lock</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">unpause</span></tt> (<tt class="docutils literal"><span class="pre">pause</span></tt>) - return a paused server to running state</li>
<li><tt class="docutils literal"><span class="pre">unrescue</span></tt> (<tt class="docutils literal"><span class="pre">rescue</span></tt>) - return a server to normal boot mode</li>
<li><tt class="docutils literal"><span class="pre">unset</span></tt> (<tt class="docutils literal"><span class="pre">set</span></tt>) - remove an attribute of the object</li>
</ul>
</div>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p>The command structure is designed to support seamless addition of plugin
command modules via <tt class="docutils literal"><span class="pre">setuptools</span></tt> entry points.  The plugin commands must
be subclasses of Cliff&#8217;s <tt class="docutils literal"><span class="pre">command.Command</span></tt> object.  See <a class="reference internal" href="plugins.html"><em>Plugins</em></a> for
more information.</p>
</div>
<div class="section" id="command-entry-points">
<h2>Command Entry Points<a class="headerlink" href="#command-entry-points" title="Permalink to this headline">¶</a></h2>
<p>Commands are added to the client using <tt class="docutils literal"><span class="pre">setuptools</span></tt> entry points in <tt class="docutils literal"><span class="pre">setup.cfg</span></tt>.
There is a single common group <tt class="docutils literal"><span class="pre">openstack.cli</span></tt> for commands that are not versioned,
and a group for each combination of OpenStack API and version that is
supported.  For example, to support Identity API v3 there is a group called
<tt class="docutils literal"><span class="pre">openstack.identity.v3</span></tt> that contains the individual commands.  The command
entry points have the form:</p>
<div class="highlight-python"><div class="highlight"><pre>action_object = fully.qualified.module.vXX.object:ActionObject
</pre></div>
</div>
<p>For example, the <tt class="docutils literal"><span class="pre">list</span> <span class="pre">user</span></tt> command for the Identity API is identified in
<tt class="docutils literal"><span class="pre">setup.cfg</span></tt> with:</p>
<div class="highlight-python"><div class="highlight"><pre>openstack.identity.v3 =
    # ...
    list_user = openstackclient.identity.v3.user:ListUser
    # ...
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
<div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Command Structure</a><ul>
<li><a class="reference internal" href="#global-options">Global Options</a></li>
<li><a class="reference internal" href="#command-object-s-and-action">Command Object(s) and Action</a></li>
<li><a class="reference internal" href="#command-arguments-and-options">Command Arguments and Options</a></li>
<li><a class="reference internal" href="#objects">Objects</a></li>
<li><a class="reference internal" href="#actions">Actions</a></li>
<li><a class="reference internal" href="#implementation">Implementation</a></li>
<li><a class="reference internal" href="#command-entry-points">Command Entry Points</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="command-objects/volume-type.html"
                                  title="previous chapter">volume type</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="configuration.html"
                                  title="next chapter">Configuration</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/commands.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
</div>

      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="configuration.html" title="Configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="command-objects/volume-type.html" title="volume type"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">python-openstackclient 1.5.1.dev8 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012-2013 OpenStack Foundation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
//Tracking docs.openstack.org/developer/<projectname> only
//The URL is built from the project variable in conf.py
var pageTracker = _gat._getTracker("UA-17511903-1");
pageTracker._setCookiePath("/developer/python-openstackclient");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>