OAR lib changes
===============

Version 0.3.0
-------------

Released on July 07th 2015

- [database] Fixed ``Database.delete_all`` method to remove all database content
- [database] Listed all datetime columns in ``models.TIME_COLUMNS``
- [database] Made table and model import easier with getitem syntax (Eg. db['table_name'])
- [database] Added an alembic operator as ``Database.op`` attribut
- [database] Kept columns order during dictionary conversion
- [database] Put MySQLdb SSCursor tweak on standby

- [models] Added ``ResultProxyIter`` class that make SQLAlchemy ResultProxies iterable by dicts
- [models] Fixed columns orders for admission_rules table
- [models] ``models.all_tables`` returns a dictionary with table names as keys now
- [models] Forwarded log to STDOUT if ``get_logger(..)`` receive ``stdout=True``

- [configuration] New default configuration values for *DB_PORT=5432* and *DB_TYPE=Pg*
- [configuration] Handled ``OARCONFFILE`` environment variable to load OAR configuration

- [basequery] Added ``Query.render`` that generate an SQL expression string from statement
- [basequery] Added ``get_gantt_visu_scheduled_jobs_resources`` method that returns all nodes allocated to a (waiting) reservation
- [basequery] Added ``get_assigned_jobs_resources`` and groups results by job_id
- [basequery] Optimized get_user_jobs query by using JOIN instead of IN operator
- [basequery] Loaded only some columns with Load ORM object


- [utils] Added ``utils.Command`` class to run subprocess commands with a timeout option
- [utils] Moved ``JSONEncoder`` class from oar-rest-api to oar-lib
- [utils] Removed unsed ``IterStream`` class
- [utils] Added ``utils.row2dict`` function helpers to convert a RowProxy to a dict

- [compat] Used simplejson if available

Version 0.2.0
-------------

Released on June 23rd 2015

- [config] Added clear parameter to clear the config before loading a new file
- [config] only one default configuration file
- [config] Made load file configuration atomic
- [config] Warned user when configuration loading failed
- [compat] Used iterator version of zip and range method
- [compat] Removed unused string_types

- [database] pg_bulk_insert that use COPY clause to perform batch inserts
- [database] Added db.queries object that included all oar-lib sql queries
- [database] Workaround to support table inheritance and __table_args__
- [database] Moved the BaseQuery class to the basequery module

- [models] Added missings relations between tables as dicts
- [models] Used BigInteger type on Accounting fields
- [models] Added all_tables method to get all tables

- [basequery] make models module easier to read
- [basequery] Added get_job_resources query
- [basequery] Added filter_jobs_for_user method to build jobs query
- [basequery] Added get_resources
- [basequery] Added get_jobs_for_user query

- [utils] Added IterStream class that give a stream like interface for any iterator

- Added alembic and sqlalchemy-utils requirements

Version 0.1.1
-------------

Released on April 30th 2015

- Minor bugfixes

Version 0.1.0
-------------

Released on April 21st 2015

First public release of oar-lib
