<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title><no title> &mdash; ASE  documentation</title>
    <link rel="stylesheet" href="../../_static/ase.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../../',
          VERSION:     '',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/ase.ico"/>
    <link rel="contents" title="Global table of contents" href="../../contents.html" />
    <link rel="index" title="Global index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="ASE  documentation" href="../../index.html" />
    <link rel="up" title="Calculators" href="calculators.html" />
    <link rel="next" title="DftbPlus" href="dftb.html" />
    <link rel="prev" title="CASTEP" href="castep.html" />
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>



        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>



        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             accesskey="">modules</a> |</li>
        <a href="../../index.html"><img class="logo" src="../../_static/ase.ico" alt="Logo" align="absmiddle"/></a>
          <li><a href="../ase.html" accesskey="U">Documentation for modules in ASE</a> &raquo;</li>
          <li><a href="calculators.html" accesskey="U">Calculators</a> &raquo;</li>
      </ul>
    </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <dl class="class">
<dt id="ase.calculators.cp2k.CP2K">
<em class="property">class </em><tt class="descclassname">ase.calculators.cp2k.</tt><tt class="descname">CP2K</tt><big>(</big><em>restart=None</em>, <em>ignore_bad_restart_file=False</em>, <em>label='cp2k'</em>, <em>atoms=None</em>, <em>command=None</em>, <em>debug=False</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../../_modules/ase/calculators/cp2k.html#CP2K"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ase.calculators.cp2k.CP2K" title="Permalink to this definition">Â¶</a></dt>
<dd><p>ASE-Calculator for CP2K.</p>
<p>CP2K is a program to perform atomistic and molecular simulations of solid
state, liquid, molecular, and biological systems. It provides a general
framework for different methods such as e.g., density functional theory
(DFT) using a mixed Gaussian and plane waves approach (GPW) and classical
pair and many-body potentials.</p>
<p>CP2K is freely available under the GPL license.
It is written in Fortran 2003 and can be run efficiently in parallel.</p>
<p>Check <a class="reference external" href="http://www.cp2k.org">http://www.cp2k.org</a> about how to obtain and install CP2K.
Make sure that you also have the CP2K-shell available, since it is required
by the CP2K-calulator.</p>
<p>The CP2K-calculator relies on the CP2K-shell. The CP2K-shell was originally
designed for interactive sessions. When a calculator object is
instantiated, it launches a CP2K-shell as a subprocess in the background
and communications with it through stdin/stdout pipes. This has the
advantage that the CP2K process is kept alive for the whole lifetime of
the calculator object, i.e. there is no startup overhead for a sequence
of energy evaluations. Furthermore, the usage of pipes avoids slow file-
system I/O. This mechanism even works for MPI-parallelized runs, because
stdin/stdout of the first rank are forwarded by the MPI-environment to the
mpiexec-process.</p>
<p>The command used by the calculator to launch the CP2K-shell is
<tt class="docutils literal"><span class="pre">cp2k_shell</span></tt>. To run a parallelized simulation use something like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">CP2K</span><span class="o">.</span><span class="n">command</span><span class="o">=</span><span class="s">&quot;env OMP_NUM_THREADS=2 mpiexec -np 4 cp2k_shell.psmp&quot;</span>
</pre></div>
</div>
<p>Arguments:</p>
<dl class="docutils">
<dt>auto_write: bool</dt>
<dd>Flag to enable the auto-write mode. If enabled the
<tt class="docutils literal"><span class="pre">write()</span></tt> routine is called after every
calculation, which mimics the behavior of the
<tt class="docutils literal"><span class="pre">FileIOCalculator</span></tt>. Default is <tt class="docutils literal"><span class="pre">False</span></tt>.</dd>
<dt>basis_set: str</dt>
<dd>Name of the basis set to be use.
The default is <tt class="docutils literal"><span class="pre">DZVP-MOLOPT-SR-GTH</span></tt>.</dd>
<dt>basis_set_file: str</dt>
<dd>Filename of the basis set file.
Default is <tt class="docutils literal"><span class="pre">BASIS_MOLOPT</span></tt>.
Set the environment variable $CP2K_DATA_DIR
to enabled automatic file discovered.</dd>
<dt>charge: float</dt>
<dd>The total charge of the system.  Default is <tt class="docutils literal"><span class="pre">0</span></tt>.</dd>
<dt>command: str</dt>
<dd>The command used to launch the CP2K-shell.
If <tt class="docutils literal"><span class="pre">command</span></tt> is not passed as an argument to the
constructor, the class-variable <tt class="docutils literal"><span class="pre">CP2K.command</span></tt>,
and then the environment variabel
<tt class="docutils literal"><span class="pre">$ASE_CP2K_COMMAND</span></tt> are checked.
Eventually, <tt class="docutils literal"><span class="pre">cp2k_shell</span></tt> is used as default.</dd>
<dt>cutoff: float</dt>
<dd>The cutoff of the finest grid level.  Default is <tt class="docutils literal"><span class="pre">400</span> <span class="pre">*</span> <span class="pre">Rydberg</span></tt>.</dd>
<dt>debug: bool</dt>
<dd>Flag to enable debug mode. This will print all
communication between the CP2K-shell and the
CP2K-calculator. Default is <tt class="docutils literal"><span class="pre">False</span></tt>.</dd>
<dt>force_eval_method: str</dt>
<dd>The method CP2K uses to evaluate energies and forces.
The default is <tt class="docutils literal"><span class="pre">Quickstep</span></tt>, which is CP2K&#8217;s
module for electronic structure methods like DFT.</dd>
<dt>inp: str</dt>
<dd>CP2K input template. If present, the calculator will
augment the template, e.g. with coordinates, and use
it to launch CP2K. Hence, this generic mechanism
gives access to all features of CP2K.
Note, that most keywords accept <tt class="docutils literal"><span class="pre">None</span></tt> to disable the generation
of the corresponding input section.</dd>
<dt>max_scf: int</dt>
<dd>Maximum number of SCF iteration to be performed for
one optimization. Default is <tt class="docutils literal"><span class="pre">50</span></tt>.</dd>
<dt>poisson_solver: str</dt>
<dd>The poisson solver to be used. Currently, the only supported
values are <tt class="docutils literal"><span class="pre">auto</span></tt> and <tt class="docutils literal"><span class="pre">None</span></tt>. Default is <tt class="docutils literal"><span class="pre">auto</span></tt>.</dd>
<dt>potential_file: str</dt>
<dd>Filename of the pseudo-potential file.
Default is <tt class="docutils literal"><span class="pre">POTENTIAL</span></tt>.
Set the environment variable $CP2K_DATA_DIR
to enabled automatic file discovered.</dd>
<dt>pseudo_potential: str</dt>
<dd>Name of the pseudo-potential to be use.
Default is <tt class="docutils literal"><span class="pre">auto</span></tt>. This tries to infer the
potential from the employed XC-functional,
otherwise it falls back to <tt class="docutils literal"><span class="pre">GTH-PBE</span></tt>.</dd>
<dt>stress_tensor: bool</dt>
<dd>Indicates whether the analytic stress-tensor should be calculated.
Default is <tt class="docutils literal"><span class="pre">True</span></tt>.</dd>
<dt>uks: bool</dt>
<dd>Requests an unrestricted Kohn-Sham calculations.
This is need for spin-polarized systems, ie. with an
odd number of electrons. Default is <tt class="docutils literal"><span class="pre">False</span></tt>.</dd>
<dt>xc: str</dt>
<dd>Name of exchange and correlation functional.
Accepts all functions supported by CP2K itself or libxc.
Default is <tt class="docutils literal"><span class="pre">LDA</span></tt>.</dd>
</dl>
<p>Construct CP2K-calculator object.</p>
</dd></dl>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

          <h3>ASE</h3>
          <ul class="this-page-menu">
            <li><a href="../../overview.html">
              Overview</a></li>
            <li><a href="../../download.html">
              Installation</a></li>
            <li><a href="../../tutorials/tutorials.html">
              Tutorials</em></a></li>
            <li><a href="../ase.html">
              Documentation</a></li>
            <li><a href="../../faq.html">FAQ</a></li>
            <li><a href="../../mailinglists.html">Mailing lists</a></li>
            <li><a href="../../development/releasenotes.html">Release notes</a></li>
            <li><a href="../../licenseinfo.html">License info</a></li>
           </ul>
           <h3>Development</h3>
           <ul class="this-page-menu">
            <li><a href="../../development/development.html">
              Development</a></li>
            <li><a href="http://wiki.fysik.dtu.dk/ase/epydoc/ase-module.html">
              Epydoc</a></li>
            <li><a href="http://trac.fysik.dtu.dk/projects/ase/browser/trunk/">
              Source code (svn)</a></li>
            <li><a href="../../bugs.html">Bugs!</a></li>
            <li><a href="http://trac.fysik.dtu.dk/projects/ase/report/1">
              Bug Tracker</a></li>
            <li><a href="https://ase-buildbot.fysik.dtu.dk/waterfall">
              BuildBot</a></li>
          </ul>
            <h4>Previous topic</h4>
            <p class="topless"><a href="castep.html" title="previous chapter">CASTEP</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="dftb.html" title="next chapter">DftbPlus</a></p>
            <ul class="this-page-menu">
              <li><a href="../../_sources/ase/calculators/cp2k.txt">Show Source</a></li>
            </ul>
            <h3>Quick search</h3>
            <form class="search" action="../../search.html" method="get">
              <input type="text" name="q" size="18" /> <input type="submit" value="Go" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>



        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>



        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             accesskey="">modules</a> |</li>
        <a href="../../index.html"><img class="logo" src="../../_static/ase.ico" alt="Logo" align="absmiddle"/></a>
          <li><a href="../ase.html" accesskey="U">Documentation for modules in ASE</a> &raquo;</li>
          <li><a href="calculators.html" accesskey="U">Calculators</a> &raquo;</li>
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2015, CAMd.
      Last updated on Tue, 21 Jul 2015 11:00:40.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>