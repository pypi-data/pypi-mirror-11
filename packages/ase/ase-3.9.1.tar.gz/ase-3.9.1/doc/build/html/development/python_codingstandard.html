<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Coding Conventions &mdash; ASE  documentation</title>
    <link rel="stylesheet" href="../_static/ase.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/ase.ico"/>
    <link rel="contents" title="Global table of contents" href="../contents.html" />
    <link rel="index" title="Global index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="ASE  documentation" href="../index.html" />
    <link rel="up" title="ASE development" href="development.html" />
    <link rel="next" title="Writing documentation" href="writing_documentation_ase.html" />
    <link rel="prev" title="Using version control (SVN)" href="versioncontrol.html" />
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>



        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>



        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             accesskey="">modules</a> |</li>
        <a href="../index.html"><img class="logo" src="../_static/ase.ico" alt="Logo" align="absmiddle"/></a>
          <li><a href="development.html" accesskey="U">ASE development</a> &raquo;</li>
      </ul>
    </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="coding-conventions">
<span id="python-codingstandard"></span><h1>Coding Conventions<a class="headerlink" href="#coding-conventions" title="Permalink to this headline">¶</a></h1>
<p>The code <em>must</em> be compatible with the oldest supported version of python
as given on the <a class="reference internal" href="../download.html#download-and-install"><em>Installation guide</em></a> page.</p>
<div class="section" id="importing-modules">
<h2>Importing modules<a class="headerlink" href="#importing-modules" title="Permalink to this headline">¶</a></h2>
<p>In code, like the implementation of ASE, we must <em>not</em> use the
<tt class="docutils literal"><span class="pre">import</span> <span class="pre">*</span></tt> syntax.  Import everything explicitly from exactly the
place where it&#8217;s defined:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span><span class="p">,</span> <span class="n">write</span>
</pre></div>
</div>
</div>
<div class="section" id="python-coding-conventions">
<h2>Python Coding Conventions<a class="headerlink" href="#python-coding-conventions" title="Permalink to this headline">¶</a></h2>
<p>Please run <a class="reference internal" href="#stylecheck"><em>pep8 and pyflakes</em></a> on your
code before committing.</p>
<p>The rules for the Python part are almost identical
to those used by the <a class="reference external" href="http://docutils.sourceforge.net/docs/dev/policies.html#python-coding-conventions">Docutils project</a>:</p>
<p>Contributed code will not be refused merely because it does not
strictly adhere to these conditions; as long as it&#8217;s internally
consistent, clean, and correct, it probably will be accepted.  But
don&#8217;t be surprised if the &#8220;offending&#8221; code gets fiddled over time to
conform to these conventions.</p>
<p>The project shall follow the generic coding conventions as
specified in the <a class="reference external" href="http://www.python.org/peps/pep-0008.html">Style Guide for Python Code</a> and <a class="reference external" href="http://www.python.org/peps/pep-0257.html">Docstring
Conventions</a> PEPs, summarized, clarified, and extended as follows:</p>
<ul class="simple">
<li>4 spaces per indentation level.  No hard tabs.</li>
<li>Very important:  Read the <em>Whitespace in Expressions and Statements</em>
section of <a class="reference external" href="http://www.python.org/peps/pep-0008.html">PEP8</a>.</li>
<li>Avoid introducing <a class="reference external" href="http://www.gnu.org/software/emacs/manual/html_node/emacs/Useless-Whitespace.html">trailing whitespaces</a>.</li>
<li>Try to use only 7-bit ASCII, no 8-bit strings.</li>
<li>No one-liner compound statements (i.e., no <tt class="docutils literal"><span class="pre">if</span> <span class="pre">x:</span> <span class="pre">return</span></tt>: use two
lines &amp; indentation), except for degenerate class or method
definitions (i.e., <tt class="docutils literal"><span class="pre">class</span> <span class="pre">X:</span> <span class="pre">pass</span></tt> is OK.).</li>
<li>Lines should be no more than 78 characters long.</li>
<li>Use &#8220;StudlyCaps&#8221; for class names.</li>
<li>Use &#8220;lowercase&#8221; or &#8220;lowercase_with_underscores&#8221; for function,
method, and variable names.  For short names, maximum two words,
joined lowercase may be used (e.g. &#8220;tagname&#8221;).  For long names with
three or more words, or where it&#8217;s hard to parse the split between
two words, use lowercase_with_underscores (e.g.,
&#8220;note_explicit_target&#8221;, &#8220;explicit_target&#8221;).  If in doubt, use
underscores.</li>
<li>Avoid lambda expressions, which are inherently difficult to
understand.  Named functions are preferable and superior: they&#8217;re
faster (no run-time compilation), and well-chosen names serve to
document and aid understanding.</li>
<li>Avoid functional constructs (filter, map, etc.).  Use list
comprehensions instead.</li>
<li>Use &#8216;single quotes&#8217; for string literals, and &#8220;&#8221;&#8220;triple double
quotes&#8221;&#8220;&#8221; for <a class="reference internal" href="../glossary.html#term-docstring"><em class="xref std std-term">docstring</em></a>s.  Double quotes are OK for
something like <tt class="docutils literal"><span class="pre">&quot;don't&quot;</span></tt>.</li>
</ul>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p>Thus spake the Lord: Thou shalt indent with four spaces. No more, no less.
Four shall be the number of spaces thou shalt indent, and the number of thy
indenting shall be four. Eight shalt thou not indent, nor either indent thou
two, excepting that thou then proceed to four. Tabs are right out.</p>
<blockquote class="last">
<div>Georg Brandl</div></blockquote>
</div>
</div>
<div class="section" id="general-advice">
<h2>General advice<a class="headerlink" href="#general-advice" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Get rid of as many <tt class="docutils literal"><span class="pre">break</span></tt> and <tt class="docutils literal"><span class="pre">continue</span></tt> statements as possible.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="writing-documentation-in-the-code">
<h2>Writing documentation in the code<a class="headerlink" href="#writing-documentation-in-the-code" title="Permalink to this headline">¶</a></h2>
<p>Here is an example of how to write good docstrings:</p>
<blockquote>
<div><a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/example.py">https://github.com/numpy/numpy/blob/master/doc/example.py</a></div></blockquote>
</div>
<div class="section" id="run-pep8-and-pyflakes-on-your-code">
<span id="stylecheck"></span><h2>Run pep8 and pyflakes on your code<a class="headerlink" href="#run-pep8-and-pyflakes-on-your-code" title="Permalink to this headline">¶</a></h2>
<p>It&#8217;s a good ide to run both the <a class="reference external" href="http://pep8.readthedocs.org/en/latest/index.html">pep8</a> and <a class="reference external" href="https://github.com/pyflakes/pyflakes">pyflakes</a> tools on
your code (or use a text editor that does it automatically):</p>
<div class="highlight-python"><div class="highlight"><pre>$ pep8 --ignore W293,E129 filename.py
$ pyflakes filename.py
</pre></div>
</div>
<p>or equivalently:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python -m ase.utils.stylecheck filename.py
</pre></div>
</div>
</div>
<div class="section" id="run-autopep8-py-on-your-code">
<span id="autopep8py"></span><h2>Run autopep8.py on your code<a class="headerlink" href="#run-autopep8-py-on-your-code" title="Permalink to this headline">¶</a></h2>
<p>Another method of enforcing <a class="reference external" href="http://www.python.org/peps/pep-0008.html">PEP8</a> is using a tool such as
<a class="reference external" href="https://github.com/hhatto/autopep8">autopep8.py</a>. These tools tend to be
very effective at cleaning up code, but should be used carefully and code
should be retested after cleaning it. Try:</p>
<div class="highlight-python"><div class="highlight"><pre>$ autopep8.py --help
</pre></div>
</div>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">There is a common issue with pep8 where spaces are added around the power
operator.  Code such as &#8220;x**2&#8221; should not be changed to &#8220;x ** 2&#8221;.  This
issue is not fixed in pep8 as of the time of this writing, but a small
<a class="reference external" href="http://listserv.fysik.dtu.dk/pipermail/gpaw-developers/2014-October/005075.html">change</a> to autopep8 has been effective to prevent
this change.</p>
</div>
</div>
<div class="section" id="using-pylint-to-check-your-code">
<span id="pylint"></span><h2>Using pylint to check your code<a class="headerlink" href="#using-pylint-to-check-your-code" title="Permalink to this headline">¶</a></h2>
<p>A pylintrc trying to follow ASE <a class="reference internal" href="#python-codingstandard"><em>Coding Conventions</em></a> can be found here:
<a class="reference external" href="http://svn.fysik.dtu.dk/projects/ase/trunk/doc/development/pylintrc">doc/development/pylintrc</a></p>
</div>
<div class="section" id="run-epydoc-on-your-code">
<span id="epydoc"></span><h2>Run epydoc on your code<a class="headerlink" href="#run-epydoc-on-your-code" title="Permalink to this headline">¶</a></h2>
<p>Run:</p>
<div class="highlight-python"><div class="highlight"><pre>$ epydoc --docformat restructuredtext --parse-only --show-imports -v dir
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

          <h3>ASE</h3>
          <ul class="this-page-menu">
            <li><a href="../overview.html">
              Overview</a></li>
            <li><a href="../download.html">
              Installation</a></li>
            <li><a href="../tutorials/tutorials.html">
              Tutorials</em></a></li>
            <li><a href="../ase/ase.html">
              Documentation</a></li>
            <li><a href="../faq.html">FAQ</a></li>
            <li><a href="../mailinglists.html">Mailing lists</a></li>
            <li><a href="releasenotes.html">Release notes</a></li>
            <li><a href="../licenseinfo.html">License info</a></li>
           </ul>
           <h3>Development</h3>
           <ul class="this-page-menu">
            <li><a href="development.html">
              Development</a></li>
            <li><a href="http://wiki.fysik.dtu.dk/ase/epydoc/ase-module.html">
              Epydoc</a></li>
            <li><a href="http://trac.fysik.dtu.dk/projects/ase/browser/trunk/">
              Source code (svn)</a></li>
            <li><a href="../bugs.html">Bugs!</a></li>
            <li><a href="http://trac.fysik.dtu.dk/projects/ase/report/1">
              Bug Tracker</a></li>
            <li><a href="https://ase-buildbot.fysik.dtu.dk/waterfall">
              BuildBot</a></li>
          </ul>
            <h3>This Page</h3>
            <ul>
<li><a class="reference internal" href="#">Coding Conventions</a><ul>
<li><a class="reference internal" href="#importing-modules">Importing modules</a></li>
<li><a class="reference internal" href="#python-coding-conventions">Python Coding Conventions</a></li>
<li><a class="reference internal" href="#general-advice">General advice</a></li>
<li><a class="reference internal" href="#writing-documentation-in-the-code">Writing documentation in the code</a></li>
<li><a class="reference internal" href="#run-pep8-and-pyflakes-on-your-code">Run pep8 and pyflakes on your code</a></li>
<li><a class="reference internal" href="#run-autopep8-py-on-your-code">Run autopep8.py on your code</a></li>
<li><a class="reference internal" href="#using-pylint-to-check-your-code">Using pylint to check your code</a></li>
<li><a class="reference internal" href="#run-epydoc-on-your-code">Run epydoc on your code</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="versioncontrol.html" title="previous chapter">Using version control (SVN)</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="writing_documentation_ase.html" title="next chapter">Writing documentation</a></p>
            <ul class="this-page-menu">
              <li><a href="../_sources/development/python_codingstandard.txt">Show Source</a></li>
            </ul>
            <h3>Quick search</h3>
            <form class="search" action="../search.html" method="get">
              <input type="text" name="q" size="18" /> <input type="submit" value="Go" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>



        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>



        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             accesskey="">modules</a> |</li>
        <a href="../index.html"><img class="logo" src="../_static/ase.ico" alt="Logo" align="absmiddle"/></a>
          <li><a href="development.html" accesskey="U">ASE development</a> &raquo;</li>
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2015, CAMd.
      Last updated on Tue, 21 Jul 2015 11:28:35.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>