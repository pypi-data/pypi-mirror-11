from django.dispatch import receiver
from registration.signals import user_registered

from orchestra.models import Worker

@receiver(user_registered)
def add_worker_for_new_users(sender, user, request):
    # TODO(dhaas): Figure out how to get the registration app to pass in the
    # slack username. One idea is to build a custom auth.User model.
    Worker.objects.create(user=user, slack_username=None)
